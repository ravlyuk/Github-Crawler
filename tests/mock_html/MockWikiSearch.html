


<!DOCTYPE html>
<html
  lang="en"
  
  data-color-mode="dark" data-light-theme="light" data-dark-theme="dark"
  data-a11y-animated-images="system" data-a11y-link-underlines="true"
  
  >

    <style>
:root {
  --fontStack-monospace: "Monaspace Neon", ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace !important;
}
</style>




  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">

  


  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-4bce7af39e21.css" /><link data-color-theme="light" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light-8e973f836952.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-34b642d57214.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-54be93e666a7.css" /><link data-color-theme="light_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind_high_contrast-8ae7edf5489c.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia-84d50df427c0.css" /><link data-color-theme="light_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia_high_contrast-a80873375146.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-ad512d3e2f3b.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-d152d6cd6879.css" /><link data-color-theme="dark_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind_high_contrast-fa4060c1a9da.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia-d7bad0fb00bb.css" /><link data-color-theme="dark_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia_high_contrast-4a0107c0f60c.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-045e6b6ac094.css" /><link data-color-theme="dark_dimmed_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed_high_contrast-5de537db5e79.css" />

  <style type="text/css">
    :root {
      --tab-size-preference: 4;
    }

    pre, code {
      tab-size: var(--tab-size-preference);
    }
  </style>

    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-c37d781e2da5.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-efa08b71f947.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-6dcb16809e76.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-f86c648606b5.css" />
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/search-2a3fe1ce5c41.css" />

  

  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["a11y_status_checks_ruleset","actions_custom_images_public_preview_visibility","actions_custom_images_storage_billing_ui_visibility","actions_enable_snapshot_keyword","actions_image_version_event","agent_session_retry_fetch_capi_on_401","alternate_user_config_repo","api_insights_show_missing_data_banner","arianotify_comprehensive_migration","arianotify_partial_migration","billing_hard_budget_limits_for_licenses","client_version_header","codespaces_prebuild_region_target_update","contentful_lp_footnotes","copilot_agent_cli_public_preview","copilot_agent_task_list_v2","copilot_agent_tasks_btn_code_nav","copilot_agent_tasks_btn_code_view","copilot_agent_tasks_btn_code_view_lines","copilot_agent_tasks_btn_repo","copilot_agents_blankslate_mem_requests","copilot_api_agentic_issue_marshal_yaml","copilot_api_draft_issue_reference_with_project_id","copilot_api_github_draft_update_issue_skill","copilot_capi_error_response_telemetry","copilot_chat_agents_empty_state","copilot_chat_attach_multiple_images","copilot_chat_disable_model_picker_while_streaming","copilot_chat_file_redirect","copilot_chat_input_commands","copilot_chat_opening_thread_switch","copilot_chat_reduce_quota_checks","copilot_chat_search_bar_redirect","copilot_chat_selection_attachments","copilot_chat_vision_in_claude","copilot_chat_vision_preview_gate","copilot_coding_agent_task_response","copilot_custom_copilots","copilot_custom_copilots_feature_preview","copilot_duplicate_thread","copilot_extensions_hide_in_dotcom_chat","copilot_extensions_removal_on_marketplace","copilot_features_raycast_logo","copilot_file_block_ref_matching","copilot_ftp_hyperspace_upgrade_prompt","copilot_immersive_generate_thread_name_async","copilot_immersive_job_result_preview","copilot_immersive_structured_model_picker","copilot_immersive_task_hyperlinking","copilot_immersive_task_within_chat_thread","copilot_issue_list_show_more","copilot_org_policy_page_focus_mode","copilot_pipes_code_nodes","copilot_pipes_github_graphql_nodes","copilot_premium_request_quotas","copilot_security_alert_assignee_options","copilot_share_active_subthread","copilot_spaces_as_attachments","copilot_spaces_code_view","copilot_spaces_ga","copilot_spaces_individual_policies_ga","copilot_spaces_public_access_to_user_owned_spaces","copilot_spaces_read_access_to_user_owned_spaces","copilot_spaces_report_abuse","copilot_spark_empty_state","copilot_spark_loading_webgl","copilot_spark_progressive_error_handling","copilot_spark_use_billing_headers","copilot_stable_conversation_view","copilot_swe_agent_progress_commands","copilot_swe_agent_use_subagents","copilot_workbench_agent_seed_tool","copilot_workbench_agent_user_edit_awareness","copilot_workbench_cache","copilot_workbench_preview_analytics","copilot_workbench_use_single_prompt","dashboard_universe_2025","dashboard_universe_2025_feedback_dialog","direct_to_salesforce","disable_turbo_visit","dom_node_counts","dotcom_chat_client_side_skills","enterprise_ai_controls","failbot_report_error_react_apps_on_page","fetch_graphql_improved_error_serialization","fgpat_permissions_selector_redesign","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","github_models_scheduled_hydro_events","global_search_multi_orgs","global_sso_banner","global_sso_banner_dismiss_dialog","hide_groups_list_for_few_groups","hyperspace_2025_logged_out_batch_1","hyperspace_nudges_universe25","hyperspace_nudges_universe25_post_event","initial_per_page_pagination_updates","issue_fields_report_usage","issue_fields_timeline_events","issues_expanded_file_types","issues_lazy_load_comment_box_suggestions","issues_react_bots_timeline_pagination","issues_react_include_bots_in_pickers","issues_react_prohibit_title_fallback","issues_report_sidebar_interactions","issues_sticky_sidebar","issues_title_flex_header_fix","item_picker_assignee_tsq_migration","item_picker_project_tsq_migration","lifecycle_label_name_updates","link_contact_sales_swp_marketo","loops_service_graphql_execution","marketing_pages_search_explore_provider","mcp_registry_install","mcp_registry_oss_v0_1_api","memex_default_issue_create_repository","memex_grouped_by_edit_route","memex_mwl_filter_field_delimiter","memex_roadmap_drag_style","mission_control_use_body_html","new_traffic_page_banner","open_agent_session_in_vscode_insiders","open_agent_session_in_vscode_stable","pr_react_loading_optimizations","pr_sfv_new_diff_fetch","primer_react_segmented_control_tooltip","projects_assignee_max_limit","react_fetch_graphql_ignore_expected_errors","record_sso_banner_metrics","render_user_display_name","repos_insights_remove_new_url","repository_suggester_elastic_search","ruleset_deletion_confirmation","sample_network_conn_type","scheduled_reminders_updated_limits","site_features_copilot_universe","site_homepage_collaborate_video","site_homepage_contentful","site_homepage_eyebrow_banner","site_homepage_universe_animations","site_msbuild_webgl_hero","spark_agent_max_output_tokens_error","spark_fix_rename","spark_force_push_after_checkout","spark_improve_image_upload","spark_kv_encocoded_keys","spark_show_data_access_on_publish","spark_sync_repository_after_iteration","spark_use_agent_status","spark_visual_design_experiment","swe_agent_member_requests","viewscreen_sandbox","webp_support","workbench_store_readonly"],"login":"ravlyuk","copilotApiOverrideUrl":"https://api.individual.githubcopilot.com"}</script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-7964209a89a1.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/913-ca2305638c53.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/6488-de87864e6818.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/environment-122ed792f7a3.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/11683-aa3d1ebe6648.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/43784-4652ae97a661.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/4712-6fc930a63a4b.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/81028-5b8c5e07a4fa.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/74911-6a311b93ee8e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/91853-b5d2e5602241.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/78143-31968346cf4c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/52430-c46e2de36eb2.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-5b3e77949adb.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-5056557d0d2f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/28546-ee41c9313871.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/17688-a9e16fb5ed13.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/2869-a4ba8f17edb3.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/70191-5122bf27bf3e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/7332-5ea4ccf72018.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/3561-d56ebea34f95.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/19037-69d630e73af8.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/51519-b4d929bb1e46.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/67310-00ed42590310.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/96384-750ef5263abe.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/19718-676a65610616.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-da6579b910de.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/48011-1f20a5c80dd7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-eb21f5b0029d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/search-5627428f346b.js" defer="defer"></script>

  <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/primer-react-e4ebdadc89a4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-lib-760965ba27bb.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-core-803d392ee7e4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/octicons-react-a215e6ee021a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/12979-6037a19d779b.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/48775-3cc79d2cd30e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/42892-341e79a04903.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/23832-db66abd83e08.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/32219-236f5281aec8.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/64184-2cfe50de55db.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/40898-0536fe742027.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/62029-a6360a734229.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/25407-198fc473eb2a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/44185-3e02cf2d2d8e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/69528-e318b4f03399.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/28614-406b93de5ab5.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/blackbird-search-1ede62a2575c.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/blackbird-search.f380174e2732d0f67919.module.css" />


  <title>Wiki search results</title>



  <meta name="route-pattern" content="/search(.:format)" data-turbo-transient>
  <meta name="route-controller" content="codesearch" data-turbo-transient>
  <meta name="route-action" content="index" data-turbo-transient>
  <meta name="fetch-nonce" content="v2:af1ccf43-0af8-73bc-a3a8-487116085f5b">


  <meta name="current-catalog-service-hash" content="845fcfebf72213b93a13dc2de7ea6169521dc228307a81cbb8b73c46027e6dae">


  <meta name="request-id" content="70E7:71FC2:1044FF:D888C:69331255" data-turbo-transient="true" /><meta name="html-safe-nonce" content="d4b1d585cf3a56c1973b3a997db84e38bcac5ed038643f90ca2a69ee6ed9bd43" data-turbo-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6bnVsbCwicmVxdWVzdF9pZCI6IjcwRTc6NzFGQzI6MTA0NEZGOkQ4ODhDOjY5MzMxMjU1IiwidmlzaXRvcl9pZCI6IjI1MTI2NDU4OTY3MzE5MTc3MjAiLCJyZWdpb25fZWRnZSI6ImZyYSIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==" data-turbo-transient="true" /><meta name="visitor-hmac" content="d8333454a9b0085d9b29ddce35c7dbae2a736b4c821debe41e8709785376b19c" data-turbo-transient="true" />




  <meta name="github-keyboard-shortcuts" content="copilot" data-turbo-transient="true" />


  <meta name="selected-link" value="/search" data-turbo-transient>
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" /><meta name="octolytics-actor-id" content="41680988" /><meta name="octolytics-actor-login" content="ravlyuk" /><meta name="octolytics-actor-hash" content="1a0a63a5e0e2ce17349069a1e70a4de67cf9a220a59fe6fa12a07fe8f9fb885f" />








    <meta name="user-login" content="ravlyuk">

  <link rel="sudo-modal" href="/sessions/sudo_modal">

    <meta name="viewport" content="width=device-width">



      <meta name="description" content="GitHub is where people build software. More than 150 million people use GitHub to discover, fork, and contribute to over 420 million projects.">

      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">

    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis" />

      <meta property="og:url" content="https://github.com">
  <meta property="og:site_name" content="GitHub">
  <meta property="og:title" content="Build software better, together">
  <meta property="og:description" content="GitHub is where people build software. More than 150 million people use GitHub to discover, fork, and contribute to over 420 million projects.">
  <meta property="og:image" content="https://github.githubassets.com/assets/github-logo-55c5b9a1fe52.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="1200">
  <meta property="og:image" content="https://github.githubassets.com/assets/github-mark-57519b92ca4e.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="620">
  <meta property="og:image" content="https://github.githubassets.com/assets/github-octocat-13c86b8b336d.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="620">

  <meta property="twitter:site" content="github">
  <meta property="twitter:site:id" content="13334762">
  <meta property="twitter:creator" content="github">
  <meta property="twitter:creator:id" content="13334762">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="GitHub">
  <meta property="twitter:description" content="GitHub is where people build software. More than 150 million people use GitHub to discover, fork, and contribute to over 420 million projects.">
  <meta property="twitter:image" content="https://github.githubassets.com/assets/github-logo-55c5b9a1fe52.png">
  <meta property="twitter:image:width" content="1200">
  <meta property="twitter:image:height" content="1200">


      <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/41680988/ws?session=eyJ2IjoiVjMiLCJ1Ijo0MTY4MDk4OCwicyI6MTg1Nzg2NjY5MywiYyI6MjczNTg4NzM5OSwidCI6MTc2NDk1NDcyNn0=--abcd74726c31bb6cc8b3b3277684bb40f3122ffcb9ab21cbf121154b8d385841" data-refresh-url="/_alive" data-session-id="fe6403e23cd60d14cc42845df7d8341595bf651fd0a4bf2249b4cd4bfcec0feb">
      <link rel="shared-web-socket-src" href="/assets-cdn/worker/socket-worker-2a038060e454.js">


      <meta name="hostname" content="github.com">


      <meta name="keyboard-shortcuts-preference" content="all">
      <meta name="hovercards-preference" content="true">
      <meta name="announcement-preference-hovercard" content="true">

        <meta name="expected-hostname" content="github.com">


  <meta http-equiv="x-pjax-version" content="25aaef69acf342530ec3bc0e90c5f7da383d1818a6d714477e3e627cd7d094bb" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="21a43568025709b66240454fc92d4f09335a96863f8ab1c46b4a07f6a5b67102" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="8487fec39c8c06b815832ce80ebd89387f6b3bac9b5498b820bc97b9a51ed30a" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="bf423c0b571da0b060b725628f6bfe7c081bd3dee6ae49e1deea7cbf39797ae4" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <meta name="turbo-cache-control" content="no-cache" data-turbo-transient>







    <meta name="turbo-body-classes" content="logged-in env-production page-responsive">
  <meta name="disable-turbo" content="false">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="release" content="d151a46929ee373a77f622d9660dc52e449f34f6">
  <meta name="ui-target" content="full">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" data-base-href="https://github.githubassets.com/favicons/favicon">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="dark light" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive" style="word-wrap: break-word;" >
    <div data-turbo-body class="logged-in env-production page-responsive" style="word-wrap: break-word;" >
      <div id="__primerPortalRoot__" role="region" style="z-index: 1000; position: absolute; width: 100%;" data-turbo-permanent></div>




    <div class="position-relative header-wrapper js-header-wrapper ">
      <a href="#start-of-content" data-skip-target-assigned="false" class="p-3 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>

      <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/keyboard-shortcuts-dialog.29aaeaafa90f007c6f61.module.css" />

<react-partial
  partial-name="keyboard-shortcuts-dialog"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>

  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>









                  <header class="AppHeader" role="banner">
      <h2 class="sr-only">Navigation Menu</h2>




        <div class="AppHeader-globalBar   js-global-bar">
          <div class="AppHeader-globalBar-start responsive-context-region">
            <div class="">
                      <react-partial-anchor>
        <button data-target="react-partial-anchor.anchor" aria-label="Open global navigation menu" show_tooltip="false" type="button" data-view-component="true" class="AppHeader-button Button--secondary Button--medium Button p-0 color-fg-muted">  <span class="Button-content">
    <span class="Button-label"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-three-bars">
    <path d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75ZM1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Z"></path>
</svg></span>
  </span>
</button>
        <template data-target="react-partial-anchor.template">
          <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/45961.cc842f323b0a80eaf769.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-nav-menu.e073f1462f845f41ad0d.module.css" />

<react-partial
  partial-name="global-nav-menu"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>

  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"home":{"href":"/dashboard","hotkey":"g d"},"feed":{"show":false,"href":"/feed"},"issues":{"href":"/issues","hotkey":"g i"},"pulls":{"href":"/pulls","hotkey":"g p"},"contributedRepos":{"show":false,"href":null,"hotkey":null},"projects":{"href":"/projects"},"discussions":{"show":true,"href":"/discussions"},"codespaces":{"show":true,"href":"https://github.com/codespaces"},"copilot":{"show":true,"href":"/copilot"},"spark":{"show":false,"href":null},"marketplace":{"show":true,"href":"/marketplace"},"mcp":{"show":true,"href":"https://github.com/mcp"},"explore":{"show":true,"href":"/explore"},"richContent":{"show":true,"contentUrl":"/_side-panels/global.json","repositoriesSearchUrl":"/_side-panel-items/global/repositories.json","teamsSearchUrl":"/_side-panel-items/global/teams.json"}}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>


        </template>
      </react-partial-anchor>

            </div>

            <a class="AppHeader-logo ml-1 "
              href="https://github.com/"
              data-hotkey="g d"
              aria-label="Homepage "
              data-turbo="false"
              data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to dashboard&quot;,&quot;label&quot;:&quot;icon:logo&quot;}"
            >
              <svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path>
</svg>
            </a>

              <context-region-controller
  class="AppHeader-context responsive-context-region"
  data-max-items="5"

>
  <div class="AppHeader-context-full">
    <nav role="navigation" aria-label="GitHub Breadcrumb">

<context-region data-target="context-region-controller.contextRegion" role="list"  data-action="context-region-changed:context-region-controller#crumbsChanged">
    <context-region-crumb
      data-crumb-id="contextregion-basiccrumb-search"
      data-targets="context-region.crumbs"
      data-label="Search"
      data-href=""
      data-pre-rendered
      role="listitem"

    >
      <span data-target="context-region-crumb.linkElement" data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;Search&quot;,&quot;screen_size&quot;:&quot;full&quot;}" id="contextregion-basiccrumb-search-link" data-view-component="true" class="AppHeader-context-item">
        <span data-target="context-region-crumb.labelElement" class="AppHeader-context-item-label ">
          Search
        </span>

</span>
      <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>

    </context-region-crumb>

      <li data-target="context-region-controller.overflowMenuContainer context-region.overflowMenuContainer" role="listitem" hidden>
        <action-menu data-target="context-region-controller.overflowActionMenu" data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-button" popovertarget="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-overlay" aria-controls="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-list" aria-haspopup="true" aria-labelledby="tooltip-f5a708d7-dc15-4c1d-be29-e0643488f753" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-f5a708d7-dc15-4c1d-be29-e0643488f753" for="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Show more breadcrumb items</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-overlay" anchor="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">

      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-button" id="action-menu-0cb510aa-f7b4-49e6-befa-88acea68bf36-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-crumb-id="contextregion-basiccrumb-search" data-targets="context-region.overflowCrumbs action-list.items" data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_overflow_menu_crumb&quot;,&quot;label&quot;:&quot;global-navigation&quot;}" role="none" data-view-component="true" class="ActionListItem">


    <button tabindex="-1" id="item-8ffbd2f9-0611-4c07-8125-610a0f3a8c01" type="button" role="menuitem" data-view-component="true" class="ActionListContent">

        <span data-view-component="true" class="ActionListItem-label">
          Search
</span>
</button>

</li>
</ul>
</div></action-list>


</div>

</div></anchored-position>  </focus-group>
</action-menu>
  <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>


      </li>
</context-region>

    </nav>
  </div>
</context-region-controller>

          </div>
          <div class="AppHeader-globalBar-end">
              <div class="AppHeader-search" >



<qbsearch-input class="search-input" data-scope="" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="SIjm9ePv8OsTv0NdJKH-cdLXHeAQ-kkMpd63-miBSzlCxsZQU6A4w2y3R_ErOIK6SakCNBhUVPOhaxuOMw66RQ" data-max-custom-scopes="10" data-header-redesign-enabled="true" data-initial-value="Openstack nova CSS" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="" data-current-org="" data-current-owner="" data-logged-in="true" data-copilot-chat-enabled="true" data-nl-search-enabled="false">
  <div
    class="search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center height-auto color-bg-transparent border-0 color-fg-subtle mx-0"
    data-action="click:qbsearch-input#searchInputContainerClicked"
  >

              <button type="button" data-action="click:qbsearch-input#handleExpand" class="AppHeader-button AppHeader-search-whenNarrow" aria-label="Search or jump to…" aria-expanded="false" aria-haspopup="dialog">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
            </button>


<div class="AppHeader-search-whenRegular">
  <div class="AppHeader-search-wrap AppHeader-search-wrap--hasTrailing">
    <div class="AppHeader-search-control AppHeader-search-control-overflow">
      <label
        for="AppHeader-searchInput"
        aria-label="Search or jump to…"
        class="AppHeader-search-visual--leading"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
      </label>

                  <button
              type="button"
              data-target="qbsearch-input.inputButton"
              data-action="click:qbsearch-input#handleExpand"
              class="AppHeader-searchButton form-control text-left color-fg-subtle no-wrap"
              data-hotkey="s,/"
              data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;searchbar&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;input&quot;,&quot;label&quot;:&quot;searchbar_input_global_navbar&quot;}"
              aria-describedby="search-error-message-flash"
            >
                <span class="sr-only">Search GitHub: </span>
              <div class="overflow-hidden">
                <span id="qb-input-query" data-target="qbsearch-input.inputButtonText">
                    <span class="sr-only">Search GitHub: </span>
                    Openstack nova CSS
                </span>
              </div>
            </button>

    </div>


  </div>
</div>

    <input type="hidden" name="type" class="js-site-search-type-field">


<div class="Overlay--hidden " data-modal-dialog-overlay>
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true" class="Overlay Overlay--width-medium Overlay--height-auto">
      <h1 id="search-suggestions-dialog-header" class="sr-only">Search code, repositories, users, issues, pull requests...</h1>
    <div class="Overlay-body Overlay-body--paddingNone">

          <div data-view-component="true">        <div class="search-suggestions position-absolute width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container"
          style="border-radius: 12px;"
          data-target="qbsearch-input.queryBuilderContainer"
          hidden
        >
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="query-builder-test-form" action="" accept-charset="UTF-8" method="get">
  <query-builder data-target="qbsearch-input.queryBuilder" id="query-builder-query-builder-test" data-filter-key=":" data-view-component="true" class="QueryBuilder search-query-builder">
    <div class="FormControl FormControl--fullWidth">
      <label id="query-builder-test-label" for="query-builder-test" class="FormControl-label sr-only">
        Search
      </label>
      <div
        class="QueryBuilder-StyledInput width-fit "
        data-target="query-builder.styledInput"
      >
          <span id="query-builder-test-leadingvisual-wrap" class="FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search FormControl-input-leadingVisual">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </span>
        <div data-target="query-builder.styledInputContainer" class="QueryBuilder-StyledInputContainer">
          <div
            aria-hidden="true"
            class="QueryBuilder-StyledInputContent"
            data-target="query-builder.styledInputContent"
          ></div>
          <div class="QueryBuilder-InputWrapper">
            <div aria-hidden="true" class="QueryBuilder-Sizer" data-target="query-builder.sizer"></div>
            <input id="query-builder-test" name="query-builder-test" value="" autocomplete="off" type="text" role="combobox" spellcheck="false" aria-expanded="false" aria-describedby="validation-ca9574cb-1786-4a82-b65e-b79a745086e8" data-target="query-builder.input" data-action="
          input:query-builder#inputChange
          blur:query-builder#inputBlur
          keydown:query-builder#inputKeydown
          focus:query-builder#inputFocus
        " data-view-component="true" class="FormControl-input QueryBuilder-Input FormControl-medium" />
          </div>
        </div>
          <span class="sr-only" id="query-builder-test-clear">Clear</span>
          <button role="button" id="query-builder-test-clear-button" aria-labelledby="query-builder-test-clear query-builder-test-label" data-target="query-builder.clearButton" data-action="
                click:query-builder#clear
                focus:query-builder#clearButtonFocus
                blur:query-builder#clearButtonBlur
              " variant="small" hidden="hidden" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill Button-visual">
    <path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path>
</svg>
</button>

      </div>
      <template id="search-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
</template>

<template id="code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="file-code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file-code">
    <path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path>
</svg>
</template>

<template id="history-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path>
</svg>
</template>

<template id="repo-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
</template>

<template id="bookmark-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bookmark">
    <path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="plus-circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus-circle">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
</template>

<template id="trash-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path>
</svg>
</template>

<template id="team-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path>
</svg>
</template>

<template id="project-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project">
    <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"></path>
</svg>
</template>

<template id="pencil-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path>
</svg>
</template>

<template id="copilot-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="copilot-error-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot-error">
    <path d="M16 11.24c0 .112-.072.274-.21.467L13 9.688V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-.198 0-.388-.009-.571-.029L6.833 5.226a4.01 4.01 0 0 0 .17-.782c.117-.935-.037-1.395-.241-1.614-.193-.206-.637-.413-1.682-.297-.683.076-1.115.231-1.395.415l-1.257-.91c.579-.564 1.413-.877 2.485-.996 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095Zm-5.083-8.707c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Zm2.511 11.074c-1.393.776-3.272 1.428-5.43 1.428-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.18-.455-.241-.963-.252-1.475L.31 4.107A.747.747 0 0 1 0 3.509V3.49a.748.748 0 0 1 .625-.73c.156-.026.306.047.435.139l14.667 10.578a.592.592 0 0 1 .227.264.752.752 0 0 1 .046.249v.022a.75.75 0 0 1-1.19.596Zm-1.367-.991L5.635 7.964a5.128 5.128 0 0 1-.889.073c-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433 1.539 0 3.089-.505 4.063-.934Z"></path>
</svg>
</template>

<template id="workflow-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-workflow">
    <path d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="book-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
</template>

<template id="code-review-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-review">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 13H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-8.5C0 1.784.784 1 1.75 1ZM1.5 2.75v8.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm5.28 1.72a.75.75 0 0 1 0 1.06L5.31 7l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm2.44 0a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.69 7 9.22 5.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="codespaces-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
</template>

<template id="comment-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment">
    <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="comment-discussion-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</template>

<template id="organization-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-organization">
    <path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="rocket-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-rocket">
    <path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</template>

<template id="shield-check-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield-check">
    <path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="heart-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heart">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
</svg>
</template>

<template id="server-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-server">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="globe-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-globe">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"></path>
</svg>
</template>

<template id="issue-opened-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</template>

<template id="device-mobile-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-mobile">
    <path d="M3.75 0h8.5C13.216 0 14 .784 14 1.75v12.5A1.75 1.75 0 0 1 12.25 16h-8.5A1.75 1.75 0 0 1 2 14.25V1.75C2 .784 2.784 0 3.75 0ZM3.5 1.75v12.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM8 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
</template>

<template id="package-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-package">
    <path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"></path>
</svg>
</template>

<template id="credit-card-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-credit-card">
    <path d="M10.75 9a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z"></path><path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25ZM14.5 6.5h-13v5.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Zm0-2.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25V5h13Z"></path>
</svg>
</template>

<template id="play-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
</template>

<template id="gift-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
</template>

<template id="code-square-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="device-desktop-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-desktop">
    <path d="M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z"></path>
</svg>
</template>

        <div class="position-relative">
                <ul
                  role="listbox"
                  class="ActionListWrap QueryBuilder-ListWrap"
                  aria-label="Suggestions"
                  data-action="
                    combobox-commit:query-builder#comboboxCommit
                    mousedown:query-builder#resultsMousedown
                  "
                  data-target="query-builder.resultsList"
                  data-persist-list=false
                  id="query-builder-test-results"
                  tabindex="-1"
                ></ul>
        </div>
      <div class="FormControl-inlineValidation" id="validation-ca9574cb-1786-4a82-b65e-b79a745086e8" hidden="hidden">
        <span class="FormControl-inlineValidation--visual">
          <svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg>
        </span>
        <span></span>
</div>    </div>
    <div data-target="query-builder.screenReaderFeedback" aria-live="polite" aria-atomic="true" class="sr-only"></div>
</query-builder></form>
          <div class="d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt">
            <a target="_blank" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax" data-view-component="true" class="Link color-fg-accent text-normal ml-2">Search syntax tips</a>            <div class="d-flex flex-1"></div>
              <button data-action="click:qbsearch-input#showFeedbackDialog" type="button" data-view-component="true" class="Button--link Button--medium Button color-fg-accent text-normal ml-2">  <span class="Button-content">
    <span class="Button-label">Give feedback</span>
  </span>
</button>
          </div>
        </div>
</div>

    </div>
</modal-dialog></div>
  </div>
  <div data-action="click:qbsearch-input#retract" class="dark-backdrop position-fixed" hidden data-target="qbsearch-input.darkBackdrop"></div>
  <div class="color-fg-default">

<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="feedback-dialog-title">
        Provide feedback
      </h1>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="feedback-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>

</div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="code-search-feedback-form" data-turbo="false" action="/search/feedback" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="dpmqsTLWIH4BX-JRmrsAUKy9NqUk9kcSYiV0WU222fKLCAUatNr-kPU_msyCsJ2eEejG5_Cb7_Go9ZwW9I9_Hw" />
          <p>We read every piece of feedback, and take your input very seriously.</p>
          <textarea name="feedback" class="form-control width-full mb-2" style="height: 120px" id="feedback"></textarea>
          <input name="include_email" id="include_email" aria-label="Include my email address so I can be contacted" class="form-control mr-2" type="checkbox">
          <label for="include_email" style="font-weight: normal">Include my email address so I can be contacted</label>
</form></div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd">          <button data-close-dialog-id="feedback-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="code-search-feedback-form" data-action="click:qbsearch-input#submitFeedback" type="submit" data-view-component="true" class="btn-primary btn">    Submit feedback
</button>
</div>
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">

<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="custom-scopes-dialog-title">
        Saved searches
      </h1>
        <h2 id="custom-scopes-dialog-description" class="Overlay-description">Use saved searches to filter your results more quickly</h2>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="custom-scopes-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>

</div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

        <div hidden class="create-custom-scope-form" data-target="custom-scopes.createCustomScopeForm">
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="custom-scopes-dialog-form" data-turbo="false" action="/search/custom_scopes" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="nvtU6j992VImMJY4KbiwzlGwItP20n3VnTCnalDs6HZr4DnS1DQij2qFH61vvy2iVD7ZQI3WOpqo17o9chTOzw" />
          <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

          <input type="hidden" id="custom_scope_id" name="custom_scope_id" data-target="custom-scopes.customScopesIdField">

          <div class="form-group">
            <label for="custom_scope_name">Name</label>
            <auto-check src="/search/custom_scopes/check_name" required>
              <input
                type="text"
                name="custom_scope_name"
                id="custom_scope_name"
                data-target="custom-scopes.customScopesNameField"
                class="form-control"
                autocomplete="off"
                placeholder="github-ruby"
                required
                maxlength="50">
              <input type="hidden" value="-MWUowp9YyQyj-YSjaFcTesrF6bR-yYkWxIMChBOMUrLFQSS4qgyNZkFIZQ5tRAJDmicgu_n4JfpS2p1RLgvZg" data-csrf="true" />
            </auto-check>
          </div>

          <div class="form-group">
            <label for="custom_scope_query">Query</label>
            <input
              type="text"
              name="custom_scope_query"
              id="custom_scope_query"
              data-target="custom-scopes.customScopesQueryField"
              class="form-control"
              autocomplete="off"
              placeholder="(repo:mona/a OR repo:mona/b) AND lang:python"
              required
              maxlength="500">
          </div>

          <p class="text-small color-fg-muted">
            To see all available qualifiers, see our <a class="Link--inTextBlock" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax">documentation</a>.
          </p>
</form>        </div>

        <div data-target="custom-scopes.manageCustomScopesForm">
          <div data-target="custom-scopes.list"></div>
        </div>

</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">          <button data-action="click:custom-scopes#customScopesCancel" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="custom-scopes-dialog-form" data-action="click:custom-scopes#customScopesSubmit" data-target="custom-scopes.customScopesSubmitButton" type="submit" data-view-component="true" class="btn-primary btn">    Create saved search
</button>
</div>
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>  <input type="hidden" value="FphE3czj5AaEz5KLaO_w7FTfqFqpwmY1yTrn5rIMCPPhiIIWnGdf4SI5-SRDQfYEIU4ZMM366DmwEIvGVteZSg" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />


              </div>


              <div class="AppHeader-CopilotChat hide-sm hide-md">
  <div class="d-flex">
    <react-partial-anchor>
        <a href="/copilot" data-target="react-partial-anchor.anchor" id="copilot-chat-header-button" aria-labelledby="tooltip-a255f71f-5303-4615-ba2b-91a4b9fa5871" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button AppHeader-buttonLeft cursor-wait">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot Button-visual">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-a255f71f-5303-4615-ba2b-91a4b9fa5871" for="copilot-chat-header-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Chat with Copilot</tool-tip>

      <template data-target="react-partial-anchor.template">
        <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/51220-ec5733320b36.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/26744-0809f1288dac.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/40489-060d59afaf1e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/18312-17646a9d1ca3.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/347-d8794b0e68a7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/89332-9740f6e3c202.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/15874-fb1e0c0ec07f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/45230-b8ed37d01e4f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/5853-0405a06c872b.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/16007-a629e97ccd37.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/88324-d7eea3db7970.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/8530-507734afccaf.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/40771-61215dc76a4b.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/66990-bcc3e84258a5.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/29665-96a2ad6dd82d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/4817-f48561ea4fc0.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/37294-2fe98d4b9391.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/30721-68faa71ee329.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/2635-687c6a5a496e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/28902-ba2778cdc57d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/60777-2413c64f0e4a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/81171-757517779b01.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/84597-2f5e2d46f377.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/34522-d7ca02ef8731.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/92135-e49e8440de11.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/34031-748985aa9094.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/4565-76cc7ebb3266.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/copilot-chat-44dc8dcb5f2b.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/4565.2637163e123d01e8eefc.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/copilot-chat.e3b3e7d7a475923bea99.module.css" />
        <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/copilot-markdown-rendering-ddd978d4a7c0.css" />
        <include-fragment src="/github-copilot/chat?skip_anchor=true" data-nonce="v2:af1ccf43-0af8-73bc-a3a8-487116085f5b" data-view-component="true">

  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">


      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>
      </template>
    </react-partial-anchor>
    <div class="position-relative">
      <react-partial-anchor>
  <button id="global-copilot-agent-button" aria-label="Open agents panel" data-target="react-partial-anchor.anchor" aria-expanded="false" type="button" data-view-component="true" class="AppHeader-button AppHeader-buttonRight AppHeader-button--dropdown  Button--secondary Button--medium Button">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-agent">
    <path d="M14.5 8.9v-.052A2.956 2.956 0 0 0 11.542 5.9a.815.815 0 0 1-.751-.501l-.145-.348A3.496 3.496 0 0 0 7.421 2.9h-.206a3.754 3.754 0 0 0-3.736 4.118l.011.121a.822.822 0 0 1-.619.879A1.81 1.81 0 0 0 1.5 9.773v.14c0 1.097.89 1.987 1.987 1.987H4.5a.75.75 0 0 1 0 1.5H3.487A3.487 3.487 0 0 1 0 9.913v-.14C0 8.449.785 7.274 1.963 6.75A5.253 5.253 0 0 1 7.215 1.4h.206a4.992 4.992 0 0 1 4.586 3.024A4.455 4.455 0 0 1 16 8.848V8.9a.75.75 0 0 1-1.5 0Z"></path><path d="m8.38 7.67 2.25 2.25a.749.749 0 0 1 0 1.061L8.38 13.23a.749.749 0 1 1-1.06-1.06l1.719-1.72L7.32 8.731A.75.75 0 0 1 8.38 7.67ZM15 13.45h-3a.75.75 0 0 1 0-1.5h3a.75.75 0 0 1 0 1.5Z"></path>
</svg>
      </span>
    <span class="Button-label"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg></span>
  </span>
</button><tool-tip id="tooltip-5f416762-c1e9-4a3a-b5f9-7319054889f6" for="global-copilot-agent-button" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">Open agents panel</tool-tip>

  <template data-target="react-partial-anchor.template">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/12362.9cbbca8fbba9135e16c5.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-agents-menu.12f034e6428ae49a3737.module.css" />

<react-partial
  partial-name="global-agents-menu"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>

  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"popoverAvailable":false,"repository":null,"agentsButtonId":"global-copilot-agent-button"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>


  </template>
</react-partial-anchor>

    </div>
  </div>
</div>


            <div class="AppHeader-actions position-relative">
                 <react-partial-anchor>
      <button id="global-create-menu-anchor" aria-label="Create something new" data-target="react-partial-anchor.anchor" type="button" disabled="disabled" data-view-component="true" class="AppHeader-button AppHeader-button--dropdown global-create-button cursor-wait Button--secondary Button--medium Button width-auto color-fg-muted">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus">
    <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path>
</svg>
      </span>
    <span class="Button-label"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg></span>
  </span>
</button><tool-tip id="tooltip-bb5480f7-9790-4f85-854f-00ec6f1938cf" for="global-create-menu-anchor" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">Create new…</tool-tip>

      <template data-target="react-partial-anchor.template">
        <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-create-menu.30736d4aa7b2b246dd6f.module.css" />

<react-partial
  partial-name="global-create-menu"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>

  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"showCreateRepo":true,"showImportRepo":true,"showCodespaces":true,"showSpark":false,"showCodingAgent":true,"showGist":true,"showCreateOrg":true,"showCreateProject":true,"showCreateLegacyProject":false,"showCreateIssue":true,"createProjectUrl":"/ravlyuk?tab=projects","org":null,"owner":null,"repo":null}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>


      </template>
    </react-partial-anchor>


                <a href="/issues" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-e835f630-5621-4da9-af29-77ea27357460" aria-labelledby="tooltip-b29c1782-f0e8-47b8-8623-5dcafc3a91ed" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened Button-visual">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</a><tool-tip id="tooltip-b29c1782-f0e8-47b8-8623-5dcafc3a91ed" for="icon-button-e835f630-5621-4da9-af29-77ea27357460" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Your issues</tool-tip>

                <a href="/pulls" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-0d48366c-cce8-457d-a209-d2308778375a" aria-labelledby="tooltip-d20d215f-960a-4cda-8215-f45bc85083b9" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request Button-visual">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-d20d215f-960a-4cda-8215-f45bc85083b9" for="icon-button-0d48366c-cce8-457d-a209-d2308778375a" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Your pull requests</tool-tip>

            </div>

              <notification-indicator data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDE2ODA5ODgiLCJ0IjoxNzY0OTU0NzI2fQ==--fb387e93a45e4b5fc30ac24c39fc7b63de40aadaf86ffd06ed0f9249bb8c06b2" data-indicator-mode="none" data-tooltip-global="You have unread notifications" data-tooltip-unavailable="Notifications are unavailable at the moment." data-tooltip-none="You have no unread notifications" data-header-redesign-enabled="true" data-fetch-indicator-src="/notifications/indicator" data-fetch-indicator-enabled="true" data-view-component="true" class="js-socket-channel">
    <a id="AppHeader-notifications-button" href="/notifications" aria-labelledby="notification-indicator-tooltip" data-hotkey="g n" data-target="notification-indicator.link" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;NOTIFICATIONS_HEADER&quot;,&quot;label&quot;:null}" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-inbox Button-visual">
    <path d="M2.8 2.06A1.75 1.75 0 0 1 4.41 1h7.18c.7 0 1.333.417 1.61 1.06l2.74 6.395c.04.093.06.194.06.295v4.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-4.5c0-.101.02-.202.06-.295Zm1.61.44a.25.25 0 0 0-.23.152L1.887 8H4.75a.75.75 0 0 1 .6.3L6.625 10h2.75l1.275-1.7a.75.75 0 0 1 .6-.3h2.863L11.82 2.652a.25.25 0 0 0-.23-.152Zm10.09 7h-2.875l-1.275 1.7a.75.75 0 0 1-.6.3h-3.5a.75.75 0 0 1-.6-.3L4.375 9.5H1.5v3.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</a>

    <tool-tip id="notification-indicator-tooltip" data-target="notification-indicator.tooltip" for="AppHeader-notifications-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Notifications</tool-tip>
</notification-indicator>

            <div class="AppHeader-user">
              <deferred-side-panel data-url="/_side-panels/user">
  <include-fragment data-target="deferred-side-panel.fragment" data-nonce="v2:af1ccf43-0af8-73bc-a3a8-487116085f5b" data-view-component="true">

    <react-partial-anchor

>
  <button data-target="react-partial-anchor.anchor" data-login="ravlyuk" aria-label="Open user navigation menu" type="button" data-view-component="true" class="cursor-wait Button--invisible Button--medium Button Button--invisible-noVisuals color-bg-transparent p-0">  <span class="Button-content">
    <span class="Button-label"><img src="https://avatars.githubusercontent.com/u/41680988?v=4" alt="" size="32" height="32" width="32" data-view-component="true" class="avatar circle" /></span>
  </span>
</button>
  <template data-target="react-partial-anchor.template">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.b47d4acf83be6f69059f.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-user-nav-drawer.6828485ef71ac37c8d8c.module.css" />

<react-partial
  partial-name="global-user-nav-drawer"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>

  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"owner":{"login":"ravlyuk","name":"Yevhenii Ravliuk","avatarUrl":"https://avatars.githubusercontent.com/u/41680988?v=4"},"drawerId":"global-user-nav-drawer","lazyLoadItemDataFetchUrl":"/_side-panels/user.json","canAddAccount":true,"addAccountPath":"/login?add_account=1\u0026return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Fq%3DOpenstack%2Bnova%2BCSS%26type%3DWikis","switchAccountPath":"/switch_account","loginAccountPath":"/login?add_account=1","projectsPath":"/ravlyuk?tab=projects","gistsUrl":"https://gist.github.com/mine","docsUrl":"https://docs.github.com","yourEnterpriseUrl":null,"enterpriseSettingsUrl":null,"supportUrl":"https://support.github.com","showAccountSwitcher":true,"showCopilot":true,"showEnterprises":true,"showEnterprise":false,"showGists":true,"showOrganizations":true,"showSponsors":true,"showUpgrade":true,"showFeaturesPreviews":true,"showEnterpriseSettings":false}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>


  </template>
</react-partial-anchor>


  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">


      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment></deferred-side-panel>
            </div>

            <div class="position-absolute mt-2">

<site-header-logged-in-user-menu>

</site-header-logged-in-user-menu>

            </div>
          </div>
        </div>


    </header>


      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full">

        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden>You switched accounts on another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>

    <button id="icon-button-8e2701a0-f975-49c2-bab9-e905b7b2fe92" aria-labelledby="tooltip-3de0939d-220b-4dcb-86d6-2bbc24b2c683" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-3de0939d-220b-4dcb-86d6-2bbc24b2c683" for="icon-button-8e2701a0-f975-49c2-bab9-e905b7b2fe92" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Dismiss alert</tool-tip>



</div>


    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace>




  <template class="js-flash-template">

<div class="flash flash-full   {{ className }}">
  <div >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">

      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>



  <notification-shelf-watcher data-base-url="https://github.com/notifications/beta/shelf" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDE2ODA5ODgiLCJ0IjoxNzY0OTU0NzI2fQ==--fb387e93a45e4b5fc30ac24c39fc7b63de40aadaf86ffd06ed0f9249bb8c06b2" data-view-component="true" class="js-socket-channel"></notification-shelf-watcher>
  <div hidden data-initial data-target="notification-shelf-watcher.placeholder"></div>






  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
    data-project-hovercards-enabled
  >
      <main>









<react-app
  app-name="blackbird-search"
  initial-path="/search?q=Openstack+nova+CSS&amp;type=Wikis"
    style="display: block; min-height: calc(100vh - 64px);"
  data-attempted-ssr="true"
  data-ssr="true"
  data-lazy="false"
  data-alternate="false"
  data-data-router-enabled="false"
  data-react-profiling="false"
>

  <script type="application/json" data-target="react-app.embeddedData">{"payload":{"header_redesign_enabled":true,"results":[{"body":"A service provider needs to make sure that all the preparations and requirements stated in the Prerequisite section have been fulfilled before going through the installation steps of Vault. Apart from the Prerequisite section, the document outlines 6 installation steps for installing Vault. 0. Prerequisite OpenStack Kilo Before going through all the installation steps of Vault, the service provider should prepare an Ubuntu 14.04 server to support Vault services. The Linux environment can also be set up with other Linux server distributions (like Red Hat Enterprise Linux and CentOS Linux), but the Linux cluster used in this guide is set up with Ubuntu 14.04 server. In addition, Vault should be installed in an OpenStack Kilo environment on the Linux cluster. Vault is based on OpenStack Kilo , the 11th release of the open source software for building public, private cloud. To set up an OpenStack Kilo environment, there are 6 OpenStack core services should be installed in the Linux cluster. Keystone: provides the OpenStack endpoint services to allow the interaction between Vault and other existing OpenStack services. It also authenticates and authorizes Vault users and service providers to access Vault API Nova: supports the deployment and management of virtual machines in the OpenStack cloud. A Nova instance is a virtual machine that runs inside OpenStack cloud Glance: manages the virtual machine image. Since the virtual machine image contains an operating system, Glance delivers the virtual machine image to Nova during provisioning Nova instances Neutron: provides virtual network devices and services, such as router, firewall and DHCP server. Neutron mainly interacts with Nova to provide the network connectivity for the Nova instances Cinder: provides additional volume attachment on Nova instances. The volume could be attached or detached from the Nova instance to adjust the disk space of the Nova instance. The virtual machine image could be written into the volume for the Nova instances to utilize as a bootable, persistent root volume Horizon: provides a web-based user interface to different OpenStack services such as Nova, Cinder and so on Please visit the following link for the details of OpenStack installation http://docs.openstack.org/kilo/install-guide/install/apt/content/ Apart from the 'admin' role created during setting up OpenStack cluster, the service provider also needs to create a Vault project named 'vault' and a Vault role named 'vault' in the OpenStack cloud for supporting Vault services. Please visit the following link for the details of Vault project and Vault role creation.\n[http://docs.openstack.org/kilo/install-guide/install/apt/content/keystone-users.html]\n( http://docs.openstack.org/kilo/install-guide/install/apt/content/keystone-users.html ) OpenStack Trove Kilo Vault depends on OpenStack Trove Kilo to create parallel database instances. Trove Kilo is an open source project which aims to provide scalable and reliable cloud databases as service in OpenStack Kilo environment. Trove Kilo should be installed on the controller node in OpenStack cluster. Please visit the following link for the details of Trove installation in the existing OpenStack Kilo environment.\n[http://docs.openstack.org/developer/trove/dev/manual_install.html]\n( http://docs.openstack.org/developer/trove/dev/manual_install.html ) Trove Vertica image A service provider needs to prepare a Trove Vertica image with the Vertica database license for creating the parallel database instances. When Trove receives the request of creating a parallel database instance, it requests Nova for the service to support the deployment and lifecycle management of the parallel database instance. Nova creates the parallel database instance with the Trove Vertica image. Please visit the following link for the details of preparing a Trove image. http://docs.openstack.org/developer/trove/dev/building_guest_images.html In addition, the key-pair file provides the secure shell (SSH) access to parallel database instances. The service provider should create a key-pair file through Nova and inject the key-pair file into the Nova instance during creating the Nova instance. Then, the Nova instance with the injected key-pair file can be used for preparing Trove Vertica image. The service provider should reserve the key-pair file securely for use in the coming Vault installation steps (see section 5). Please visit the following link for the details of key-pair file injection.\n[http://docs.openstack.org/user-guide/cli-nova-configure-access-security-for-instances.html]\n( http://docs.openstack.org/user-guide/cli-nova-configure-access-security-for-instances.html ) 1. Vault package download Vault package can be downloaded from the following link:\n[https://github.com/vault-team/vault-website/raw/master/vault_latest.zip] ( https://github.com/vault-team/vault-website/raw/master/vault_latest.zip ) After downloading Vault package, the service provider needs to unzip the package vault_latest.zip and extract the package as a file folder \"vault\". Vault should be installed on the controller node in OpenStack cluster, and the service provider can put the file folder into a convenient location on the controller node. The rest of the installation guide in the Wiki refers this location as $VAULT_HOME . For example, if the service provider put the folder under the directory of '/home/dbg', thus $VAULT_HOME should be '/home/dbg/vault'. 2. Vault backend database creation Database management system installation A cluster belongs to a tenant group and is composed of parallel database instances. A tenant group is composed of some tenants who belong to the same group and share the parallel database instances in the cluster. The backend database of Vault is responsible for storing the information about the tenant and cluster.\nThe database management system should have been installed when setting up OpenStack cluster, but the version of the database management system in OpenStack cluster should be noticed. The version of the database management system should be: MySQL with version = 5.6 or MariaDB with version = 5.5 Load Vault database schema After ensuring the database management system is ready, the backend database of Vault should be prepared to support the data storage during Vault running in OpenStack cluster. Create Vault backend database mysql CREATE DATABASE vault; Create Vault user mysql CREATE USER 'vault'@'%' IDENTIFIED BY 'VAULT_DBPASS'; Replace VAULT_DBPASS with a suitable password. Grant privileges for accessing the backend database of Vault as mysql GRANT ALL PRIVILEGES ON * . * TO 'vault'@'%'; Flush privileges mysql FLUSH PRIVILEGES; The following command can directly import the database schema of Vault from Vault package into the backend database of Vault: $ mysql -u vault -p vault $VAULT_HOME/deployment_master/resources/vault_db_schema.sql 3. Query Router configuration A service provider needs to finish the following steps to prepare the Query Router. The Query Router routes the tenants The configure script $VAULT_HOME/query_router/conf/vault_query_router.conf in OpenStack cluster is used for the query router configuration and the configuration options started with * as listed in the following table is necessary to be modified in this configure script. Configuration option = Default value Description LISTEN_HOST = 0.0.0.0 (StrOpt) The IP address of the host that runs the Query Router LISTEN_PORT = 8080 (IntOpt) The port on which the Query Router will listen BACKEND_DB_HOST = 127.0.0.1 (StrOpt) The IP address of the host that runs the backend database of Vault BACKEND_DB_PORT = 3306 (IntOpt) The port on which the backend database of Vault will listen BACKEND_DB_SCHEMA = vault (StrOpt) The schema name of the backend database of Vault BACKEND_DB_USERNAME = vault (StrOpt) The user name of the backend database of Vault *BACKEND_DB_PASSWORD = vault (StrOpt) The password of the backend database of Vault 4. Deployment Master installation prerequisite Some python libraries are required to install for using the Deployment Master. Run: # pip install -r $VAULT_HOME/deployment_master/requirements.txt 5. Deployment Master configuration A service provider needs to finish the following steps to prepare the Deployment Master. The Deployment Master allocates tenants onto parallel database instances. A service provider puts the key-pair file generated in the \"Trove Vertica image\" section into the directory $VAULT_HOME/deployment_master/common/util of controller node in the OpenStack cluster The default settings are ready for the Deployment Master running on the controller node in OpenStack cluster.\nThe configure script $VAULT_HOME/deployment_master/conf/deployment_master.conf in OpenStack cluster could be modified and the configuration options started with * as listed in the following table are necessary to be modified in the configure script. Configuration option = Default value Description BACKEND_DB_HOST = 127.0.0.1 (StrOpt) The IP address of the host that runs the backend database of Vault BACKEND_DB_PORT = 3306 (IntOpt) The port on which the backend database of Vault will listen BACKEND_DB_SCHEMA = vault (StrOpt) The schema name of the backend database of Vault BACKEND_DB_USERNAME = vault (StrOpt) The user name of the backend database of Vault *BACKEND_DB_PASSWORD = vault (StrOpt) The password of the backend database of Vault OPENSTACK_USERNAME = 'admin' (StrOpt) The admin name in OpenStack cluster OPENSTACK_PASSWORD = 'admin' (StrOpt) The admin password in OpenStack cluster OPENSTACK_PROJECT_ID = 'admin' (StrOpt) The admin name of the project OPENSTACK_AUTH_URL = ' http://127.0.0.1:5000/v2.0 ' (StrOpt) An authentication URL for the Identity service v2.0 OPENSTACK_CLUSTER_NAME = 'vertica-cluster' (StrOpt) The name of the cluster to be created *OPENSTACK_CLUSTER_DATASTORE ='' (StrOpt) The name of the datastore your Trove Vertica image located in *OPENSTACK_CLUSTER_DATASTORE_VERSION = '' (StrOpt) The version of the datastore your Trove Vertica image located in OPENSTACK_CLUSTER_VOLUME_SIZE_GB = 1 (IntOpt) The volume size of the cluster to be created OPENSTACK_CLUSTER_AVAILABILITY_ZONE = 'nova' (StrOpt) The availability zone of the cluster to be created *DM_INSTANCE_KEY_FILE_PATH_GUEST ='common/util/$KEY_FILE' (StrOpt) The path of the key-pair file generated in the \"Trove Vertica image\" section 6. Dashboard configuration A service provider needs to finish the following steps to prepare the Dashboard (vault-dashboard). The Dashboard provides a web-based user interface for accessing Vault services. Remove openstack-dashboard-ubuntu-theme package from OpenStack cluster: sudo apt-get remove --auto-remove openstack-dashboard-ubuntu-theme Identify the directory of OpenStack Horizon ( $HORIZON_HOME ) in OpenStack cluster For official OpenStack installation in Ubuntu, the default path of $HORIZON_HOME should be /usr/share/openstack-dashboard Link the Dashboard code to Horizon by running ALL commands ln -s $VAULT_HOME /dashboard/_50_vault.py $HORIZON_HOME /openstack_dashboard/enabled/ ; ln -s $VAULT_HOME /dashboard/_55_vault_admin.py $HORIZON_HOME /openstack_dashboard/enabled/ ; ln -s $VAULT_HOME /dashboard/openstack_dashboard/dashboards/vault $HORIZON_HOME /openstack_dashboard/dashboards/ ; ln -s $VAULT_HOME /dashboard/openstack_dashboard/dashboards/vault_admin $HORIZON_HOME /openstack_dashboard/dashboards/ ; ln -snf $VAULT_HOME /dashboard/openstack_dashboard/urls.py $HORIZON_HOME /openstack_dashboard/ ; ln -s $VAULT_HOME /dashboard/vault_theme/_styles.scss $HORIZON_HOME /openstack_dashboard/static/dashboard/css ; ln -s $VAULT_HOME /dashboard/vault_theme/vault.png $HORIZON_HOME /openstack_dashboard/static/dashboard/img ; ln -s $VAULT_HOME /dashboard/vault_theme/vault_logo.png $HORIZON_HOME /openstack_dashboard/static/dashboard/img ; The default settings are ready for the Dashboard running in OpenStack cluster. The configure script $VAULT_HOME/dashboard/openstack_dashboard/dashboards/vault/conf.py in OpenStack cluster could be modified and the configuration options started with * as listed in the following table are necessary to be modified in the configure script. Configuration option = Default value Description VAULT_DM_REST_URL = ' http://0.0.0.0:8788 ' (StrOpt) The url of Vault REST API OPENSTACK_USERNAME = 'admin' (StrOpt) The admin name in OpenStack cluster OPENSTACK_PASSWORD = 'admin' (StrOpt) The admin password in OpenStack cluster PROJECT_ID = 'admin' (StrOpt) The admin name of the project AUTH_URL = ' http://0.0.0.0:5000/v2.0 ' (StrOpt) An authentication URL for the Identity service v2.0 *VAULT_PROJECT_ID = '' (StrOpt) The project id of Vault project *VAULT_ROLE_ID = '' (StrOpt) The role id of Vault role Open the HTML template /usr/share/openstack-dashboard/openstack_dashboard/templates/_stylesheets.html in OpenStack cluster and add the following line into the template: link href='{{ STATIC_URL }}dashboard/css/_styles.scss' type='text/scss' media='screen' rel='stylesheet' / 7. Start Vault The Deployment Master is started by the following command: # $VAULT_HOME/deployment_master/bin/daemon.sh start The Query Router is started by the following command: # $VAULT_HOME/query_router/bin/daemon.sh start (Optional) Please check log file in log/qr.log to ensure the Query Router is runnable The Dashboard is started by restarting the web server # service apache2 restart","filename":"Quick-installation-guide.md","format":"markdown","hl_body":"...  providers to access Vault API \u003cem\u003eNova\u003c/em\u003e: supports the deployment and management of virtual machines in the \u003cem\u003eOpenStack\u003c/em\u003e cloud. A \u003cem\u003eNova\u003c/em\u003e instance is a virtual machine that runs inside \u003cem\u003eOpenStack\u003c/em\u003e cloud Glance: manages ...","hl_title":"Quick installation guide","id":"442ce7a88708687a1f4e77e516ef4e7573c534ef","path":"Quick-installation-guide.md","public":true,"repo":{"repository":{"id":73172868,"name":"vault-website","owner_id":23693611,"owner_login":"vault-team","updated_at":"2018-06-07T08:21:06.117Z","has_issues":true}},"repo_id":73172868,"title":"Quick installation guide","updated_at":"2017-05-03T12:35:32.000+08:00"},{"body":"Controller node installation In this section is described the installation of all the services for the controller node. Step 1:  MariaDB installation/configuration It is possible to install MariaDB (MySQL) on the controller node (as done in this guide) or on a separate node, depending on the desired architecture. In the following, replace $MYSQL_IP with the IP address of the node hosting the database. To install mysql-python and mariadb : # sudo yum install mariadb mariadb-server MySQL-python Note : When you install the server package, you are   prompted for the root password for the database (which can,   and should, be different from the password of the root system user). Choose a strong password and remember it. If the request for the password of root doesn't start during  the installation use # sudo systemctl start mariadb.service to start the service and then # mysql_secure_installation to set the password. The first time you use this command,  obviously, there wont be any password set, so press enter at  the first question. The next question is Set root password? , so replay yes and  chose the root's password for the database. Replay \"yes\" to all the others. Edit the /etc/my.cnf file:\nUnder the [mysqld] section, set the bind-address key to the management IP address of the controller node to enable access by other nodes via the management network: [mysqld]\n ...\n bind-address = $MYSQL_IP Under the [mysqld] section, set the following keys to enable InnoDB, UTF-8 character set, and UTF-8 collation by default: [mysqld]\n ...\n default-storage-engine = innodb\n innodb_file_per_table\n collation-server = utf8_general_ci\n init-connect = 'SET NAMES utf8'\n character-set-server = utf8 Restart the MariaDB service to apply the changes:\nRemember that in CentOS 7 you have to use this layout of command in order to start/stop/restart the service # sudo sudo systemctl restart mariadb.service Enable the service to be started at the boot # sudo sudo systemctl enable mariadb.service Step 2: Install the message broker service (RabbitMQ) Install RabbitMQ To install the messages broker RabbitMQ # sudo yum install -y yum install rabbitmq-server Enable the service to be started at the boot and start it: #  systemctl enable rabbitmq-server.service\n# systemctl start rabbitmq-server.service Change the password for the user guest # rabbitmqctl change_password guest $RABBIT_PASS where $RABBIT_PASS is a suitable password for the service. NOTE For RabbitMQ version 3.3.0 or newer, you must enable remote access for the guest account.\nCheck the version of rabbit doing rpm -qa | grep rabbit If necessary edit (you might also have to create the file) /etc/rabbitmq/rabbitmq.config adding [{rabbit, [{loopback_users, []}]}]. Step 3: Install Identity service (Keystone) Install the OpenStack Identity service on the controller node, together with python-keystoneclient (which is a dependency): # sudo yum install -y openstack-keystone.noarch  \n# sudo yum install -y python-keystone.noarch Use the password that you set previously to log in to MariaDB as root. Create a database and an user (both) called keystone (replace $KEYSTONE_DBPASS with a strong password you choose for the keystone user and database): # mysql -u root -p\n mysql CREATE DATABASE keystone;\n mysql GRANT ALL PRIVILEGES ON keystone.* TO 'keystone'@'localhost' IDENTIFIED BY '$KEYSTONE_DBPASS';\n mysql GRANT ALL PRIVILEGES ON keystone.* TO 'keystone'@'%' IDENTIFIED BY '$KEYSTONE_DBPASS';\n mysql exit The Identity service uses such database to store information. Specify the location of the database in the configuration file. In this guide, we use a MariaDB (MySQL) database on the controller node with the username keystone . Edit /etc/keystone/keystone.conf and change the [database] section: [database]\n # The SQLAlchemy connection string used to connect to the database\n connection = mysql://keystone:$KEYSTONE_DBPASS@$MYSQL_IP/keystone\n ... By default, the Ubuntu packages create a SQLite database. Delete the keystone.db file created in the /var/lib/keystone/ directory so that it does not get used by mistake: # rm /var/lib/keystone/keystone.db Create the database tables for the Identity service: # su -s /bin/sh -c \"keystone-manage db_sync\" keystone Define an authorization token to use as a shared secret between the Identity service and other OpenStack services. Use openssl to generate a random token and store it in the configuration file: # openssl rand -hex 10 Edit /etc/keystone/keystone.conf and change the [DEFAULT] section, replacing $ADMIN_TOKEN with the results of the previous command: [DEFAULT]\n# A \"shared secret\" between keystone and other openstack  services\nadmin_token = $ADMIN_TOKEN\n... Configure token and SQL drivers Edit the /etc/keystone/keystone.conf file and update the [token] section [token]\n...\nprovider = keystone.token.providers.uuid.Provider\ndriver = keystone.token.persistence.backends.sql.Token and the [revoke] section [revoke]\n...\ndriver = keystone.contrib.revoke.backends.sql.Revoke Also enable verbose logging in the [DEFAULT] section to help troubleshooting: [DEFAULT]\n...\nverbose = True Restart the Identity service and configure it to start when the system boots:: # sudo systemctl start openstack-keystone.service \n# sudo  systemctl enable openstack-keystone.service By default, the Identity service stores expired tokens in the database indefinitely. While potentially useful for auditing in production environments, the accumulation of expired tokens will considerably increase database size consequently decreasing service performance, particularly in test environments with limited resources. We recommend configuring a periodic task using cron to purge expired tokens hourly. (crontab -l -u keystone 2 1 | grep -q token_flush) || echo  '@hourly /usr/bin/keystone-manage  token_flush /var/log/keystone/keystone-tokenflush.log 2 1' /var/spool/cron/keystone Define users, tenants, and roles $ export OS_SERVICE_TOKEN=$ADMIN_TOKEN\n$ export OS_SERVICE_ENDPOINT=http://controller:35357/v2.0 Create an administrative user Follow these steps to create an administrative user (called admin ), role (called admin ), and tenant (called admin ). You will use this account for administrative interaction with the OpenStack cloud. Note Any role that you create must map to roles specified in the policy.json file included with each OpenStack service. The default policy file for most services grants administrative access to the admin role. Create the admin user (replace $ADMIN_PASS with a strong password and replace $ADMIN_EMAIL with an email address to associate the account to): $ keystone user-create --name=admin --pass=$ADMIN_PASS --email=$ADMIN_EMAIL Create the admin role: $ keystone role-create --name=admin Create the admin tenant: $ keystone tenant-create --name=admin --description=\"Admin Tenant\" You must now link the admin user, admin role, and admin tenant together using the user-role-add option: $ keystone user-role-add --user=admin --tenant=admin --role=admin Link the admin user, _member_ role, and admin tenant: $ keystone user-role-add --user=admin --role=_member_ --tenant=admin NOTE sing the --tenant option automatically assigns the _member_ role to a user. This option will also create the _member_ role if it does not exist. This is different from Icehouse OpenStack, where you have to create _member_ role manually. Create a service tenant OpenStack services also require a username, tenant, and role to access other OpenStack services. In a basic installation, OpenStack services typically share a single tenant named service . You will create additional usernames and roles under this tenant as you install and configure each service. Create the service tenant: $ keystone tenant-create --name=service --description=\"Service Tenant\" Create the Identity service Keystone, the OpenStack Identity service, needs to be registered as a service in itself: $ keystone service-create --name=keystone --type=identity --description=\"OpenStack Identity\" The output should be something like this: +-------------+----------------------------------+\n|   Property  |              Value               |\n+-------------+----------------------------------+\n| description |        OpenStack Identity        |\n|   enabled   |               True               |\n|      id     | 68683d6ffd7d49859dd9f7fe2fd12be7 |\n|     name    |             keystone             |\n|     type    |             identity             |\n+-------------+----------------------------------+ Next create the endpoint: $ keystone endpoint-create --service-id=$(keystone service-list | awk '/ identity / {print $2}') --publicurl=http://controller:5000/v2.0 --internalurl=http://controller:5000/v2.0 --adminurl=http://controller:35357/v2.0 Output example: +-------------+----------------------------------+\n|   Property  |              Value               |\n+-------------+----------------------------------+\n|   adminurl  |   http://controller:35357/v2.0   |\n|      id     | 0c34c6e6fd5f411a9e349eeca1c9b3db |\n| internalurl |   http://controller:5000/v2.0    |\n|  publicurl  |   http://10.10.10.3:5000/v2.0    |\n|    region   |            regionOne             |\n|  service_id | 68683d6ffd7d49859dd9f7fe2fd12be7 |\n+-------------+----------------------------------+ Verify the Identity service installation To verify that the Identity service is installed and configured correctly, clear the values in the OS_SERVICE_TOKEN and OS_SERVICE_ENDPOINT environment variables: $ unset OS_SERVICE_TOKEN OS_SERVICE_ENDPOINT These variables, which were used to bootstrap the administrative user and register the Identity service, are no longer needed. You can now use regular user name-based authentication. Request a authentication token by using the admin user and the password you chose for that user: $ keystone --os-username=admin --os-password= $ADMIN_PASS --os-auth-url=http://controller:35357/v2.0 token-get In response, you receive a token paired with your user ID.  This verifies that the Identity service is running on the  expected endpoint and that your user account is established  with the expected credentials. Verify that authorization behaves as expected. To do so, request authorization on a tenant: $ keystone --os-username=admin --os-password=$ADMIN_PASS --os-tenant-name=admin --os-auth-url=http://controller:35357/v2.0 token-get In response, you receive a token that includes the ID of the tenant that you specified. This verifies that your user account has an explicitly defined role on the specified tenant and the tenant exists as expected. You can also set your --os-* variables in your environment to simplify command-line usage. Create an admin-openrc.sh file in the root home directory, with the following content: export OS_USERNAME=admin\n export OS_PASSWORD=$ADMIN_PASS\n export OS_TENANT_NAME=admin\n export OS_AUTH_URL=http://controller:35357/v2.0 Add the following line to the .bashrc file into your home directory ( /root/ in this example) to read in the environment variables at every access: $ source /root/admin-openrc.sh Verify that your admin-openrc.sh file is configured correctly. Run the same command without the --os-* arguments: $ keystone token-get Step 4: Install Image service (Glance) Install the Image service: $ sudo yum install -y openstack-glance.noarch  \n$ sudo yum install -y python-glanceclient.noarch The Image service stores information about images in a database. The examples in this guide use the MySQL database that is used by other OpenStack services. Configure the location of the database. The Image service provides the glance-api and glance-registry services, each with its own configuration file. You must update both configuration files throughout this section. Replace $GLANCE_DBPASS with your Image service database password. Edit /etc/glance/glance-api.conf and /etc/glance/glance-registry.conf and edit the [database] section of each file: [database]\n connection = mysql://glance:$GLANCE_DBPASS@controller/glance NOTE Instead of @controller you can use $CONTROLLER_IP ip address. Configure the Image service to use the message broker. Replace $RABBIT_PASS with the password you have chosen for the guest account in RabbitMQ. Edit the /etc/glance/glance-api.conf file and add the following keys to the [DEFAULT] section: [DEFAULT]\n ...\n rpc_backend = rabbit\n rabbit_host = controller\n rabbit_password = $RABBIT_PASS By default, the Ubuntu packages create an SQLite database. Delete the glance.sqlite file (if exists) created in the /var/lib/glance/ directory so that it does not get used by mistake: $ rm /var/lib/glance/glance.sqlite Use the password you created to log in as root to the DB and create a database called glance and an user called glance (replace $GLANCE_DBPASS with the password you want to assign to the glance MySQL user and database): $ mysql -u root -p\n mysql CREATE DATABASE glance;\n mysql GRANT ALL PRIVILEGES ON glance.* TO 'glance'@'localhost' IDENTIFIED BY '$GLANCE_DBPASS';\n mysql GRANT ALL PRIVILEGES ON glance.* TO 'glance'@'%' IDENTIFIED BY '$GLANCE_DBPASS'; Create the database tables for the Image service: $ su -s /bin/sh -c \"glance-manage db_sync\" glance Create a glance user that the Image service can use to authenticate with the Identity service. Choose a password (to replace $GLANCE_PASS in the following command) and specify an email address (to replace $GLANCE_EMAIL in the following command) for the glance user. Use the service tenant and give the user the admin role: $ keystone user-create --name=glance --pass=$GLANCE_PASS --email=$GLANCE_EMAIL\n $ keystone user-role-add --user=glance --tenant=service --role=admin Configure the Image service to use the Identity service for authentication. Edit the /etc/glance/glance-api.conf and /etc/glance/glance-registry.conf files. Replace $GLANCE_PASS with the password you chose for the glance user in the Identity service. Add or modify the following keys under the [keystone_authtoken] section (replace $CONTROLLER_PUBLIC_IP with the public IP address of the controller node and $GLANCE_PASS with a suitable password for the Glance service): [keystone_authtoken]\n auth_uri = http://$CONTROLLER_PUBLIC_IP:5000\n identity_uri = http://controller:35357\n admin_tenant_name = service\n admin_user = glance\n admin_password = $GLANCE_PASS NOTE Comment out any auth_host, auth_port, and auth_protocol options because the identity_uri option replaces them. Modify the following key under the [paste_deploy] section: [paste_deploy]\n...\nflavor = keystone Also in both enable verbose logging [DEFAULT]\n...\nverbose = True and [DEFAULT]\n... \nnotification_driver = noop In glance-api.conf file set: [glance_store]\n...\ndefault_store = file\nfilesystem_store_datadir = /var/lib/glance/images/ Register the Image service with the Identity service so that other OpenStack services can locate it. Register the service and create the endpoint (note that here the controller name, associated to the private IP of the controller node into the /etc/hosts file, is used for the internalurl and adminurl , while the controller public IP $CONTROLLER_PUBLIC_IP is used for the publicurl ; similar settings will be used for other services): $ keystone service-create --name=glance --type=image --description=\"OpenStack Image Service\"\n$ keystone endpoint-create --service-id=$(keystone service-list | awk '/ image / {print $2}') --publicurl=http://controller:9292 --internalurl=http://controller:9292 --adminurl=http://controller:9292 NOTE again you can use $CONTROLLER_PUBLIC_IP for the publicurl instead of the host name \"controller\" Restart the Glance services with its new settings and set it to start at boot time: $ systemctl enable openstack-glance-api.service openstack-glance-registry.service\n$ systemctl start openstack-glance-api.service openstack-glance-registry.service Verify the Image service installation To test the Image service installation, download at least one virtual machine image that is known to work with OpenStack. For example, CirrOS is a small test image that is often used for testing OpenStack deployments. $ wget https://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img\n    $ glance image-create --name \"cirros-0.3.4-x86_64\" --disk-format qcow2 --container-format bare --is-public True --progress cirros-0.3.4-x86_64-disk.img Confirm that the image was uploaded and display its attributes: $ glance image-list\n    +--------------------------------------+---------------------+-------------+------------------+----------+--------+\n    | ID                                   | Name                | Disk Format | Container Format | Size     | Status |\n    +--------------------------------------+---------------------+-------------+------------------+----------+--------+\n    | defcfc7ad-56aa-2341-9553-d855997c1he0 | cirros-0.3.2-x86_64 | qcow2       | bare             | 13167616 | active |\n    +--------------------------------------+---------------------+-------------+------------------+----------+--------+ NOTE To check where glance has put an image try: $ mysql -h localhost -u root -p\nmysql use glance;\nmysql select value from image_locations where image_id=\"your image ID\"; using the ID taken from glance image-list Enable Ceph backend Create the pool 'images': $ ceph osd pool create images 128 128 Check the size replica of the new pool 'images' with: $ ceph osd dump | grep replica To be consistent with the previous Ceph configuration, if the size of the new pool is not set on 2 and min_size is not set on value 1 do the following commands to set replica 2 for pool 'images' and min_size (minimum amount of active PG to do r/w operations): $ ceph osd pool set images size 2 $ ceph osd pool set images min_size 1 Install Configure ceph client (if you haven't done yet): $ sudo yum install -y python-ceph.x86_64 Copy the file /etc/ceph/ceph.conf from the ceph node into the controller where you are installing the glance server. Set up the ceph client authentication: $ ceph auth get-or-create client.glance mon 'allow r' osd 'allow class-read object_prefix rbd_children, allow rwx pool=images'\n$ ceph auth get-or-create client.glance |  tee /etc/ceph/ceph.client.glance.keyring\n$ chown glance:glance /etc/ceph/ceph.client.glance.keyring Edit the configuration file /etc/glance/glance-api.conf setting the following parameters: [glance_store]\ndefault_store = rbd\nstores = glance.store.rbd.Store\nrbd_store_pool = images\nrbd_store_user = glance\nrbd_store_ceph_conf = /etc/ceph/ceph.conf\nrbd_store_chunk_size = 8 Restart services: $ service openstack-glance-api restart service openstack-glance-registry restart Upload an image on the ceph backend (using the option --store rbd) $ wget http://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1503.qcow2\n$ glance image-create --name  centos7 --disk-format qcow2 --container-format bare  --is-public True --store rbd --progress CentOS-7-x86_64-GenericCloud-1503.qcow2 Step 5: Install Compute service (Nova) Install the Compute packages necessary for the controller node. $ sudo yum install -y openstack-nova-api.noarch     \n  $ sudo yum install -y openstack-nova-cert.noarch\n  $ sudo yum install -y openstack-nova-conductor.noarch\n  $ sudo yum install -y openstack-nova-console.noarch\n  $ sudo yum install -y openstack-nova-scheduler.noarch\n  $ sudo yum install -y python-novaclient.noarch Use those names when you need to start/stop/restart the services. Compute stores information in a database. In this guide, we use a MySQL database on the controller node. Configure Compute with the database location and credentials. Replace $NOVA_DBPASS with the password for the database that you will create in a later step. Edit the [database] section in the /etc/nova/nova.conf file, adding it if necessary, to modify this key: [database]\n connection = mysql://nova:$NOVA_DBPASS@$MYSQL_IP/nova Configure the Compute service to use the RabbitMQ message broker by setting these configuration keys in the [DEFAULT] configuration group of the /etc/nova/nova.conf file: [DEFAULT]\n ...\n rpc_backend = rabbit\n rabbit_host = controller\n rabbit_password = $RABBIT_PASS Set the my_ip , vncserver_listen , and vncserver_proxyclient_address configuration options to the management interface IP address of the controller node: Edit the /etc/nova/nova.conf file and add these lines to the [DEFAULT] section: [DEFAULT]\n ...\n my_ip = $PUBLIC_CONTROLLER_IP\n vncserver_listen = $PUBLIC_CONTROLLER_IP\n vncserver_proxyclient_address = $PUBLIC_CONTROLLER_IP By default, the Ubuntu packages create an SQLite database. Delete the nova.sqlite file created in the /var/lib/nova/ directory so that it does not get used by mistake: $ rm /var/lib/nova/nova.sqlite Use the password you created previously to log in as root. Create a nova database user: $ mysql -u root -p\n mysql CREATE DATABASE nova;\n mysql GRANT ALL PRIVILEGES ON nova.* TO 'nova'@'localhost' IDENTIFIED BY '$NOVA_DBPASS';\n mysql GRANT ALL PRIVILEGES ON nova.* TO 'nova'@'%' IDENTIFIED BY '$NOVA_DBPASS'; Create the Compute service tables: # su -s /bin/sh -c \"nova-manage db sync\" nova Create a nova user that Compute uses to authenticate with the Identity service. Use the service tenant and give the user the admin role (replace $NOVA_PASS with the password you have chosen for the Compute service Nova and $NOVA_EMAIL with the email address you want to associate to the service): $ keystone user-create --name=nova --pass=$NOVA_PASS --email=$NOVA_EMAIL\n $ keystone user-role-add --user=nova --tenant=service --role=admin Configure Compute to use these credentials with the Identity service running on the controller. Edit the [DEFAULT] section in the /etc/nova/nova.conf file to add this key: [DEFAULT]\n ...\n auth_strategy = keystone Add these keys to the [keystone_authtoken] section: [keystone_authtoken]\n...\nauth_uri = http://controller:5000\nidentity_uri = http://controller:35357\nadmin_tenant_name = service\nadmin_user = nova\nadmin_password = $NOVA_PASS NOTE Comment out any auth_host, auth_port, and auth_protocol options because the identity_uri option replaces them. Also, in `[glance]`section define \n\n     [glance]\n     ...\n     host = controller\n \nTo help debugging problems enable verbose output:\n\n     [DEFAULT]\n     ...\n     verbose = True You must register Compute with the Identity service so that other OpenStack services can locate it. Register the service and specify the endpoint: $ keystone service-create --name=nova --type=compute --description=\"OpenStack Compute\"\n$ keystone endpoint-create --service-id=$(keystone service-list | awk '/ compute / {print $2}') --publicurl=http://controller:8774/v2/%\\(tenant_id\\)s --internalurl=http://controller:8774/v2/%\\(tenant_id\\)s --adminurl=http://controller:8774/v2/%\\(tenant_id\\)s Restart Compute services and enable them to start at boot time: systemctl enable openstack-nova-api.service openstack-nova-cert.service openstack-nova-consoleauth.service openstack-nova-scheduler.service openstack-nova-conductor.service openstack-nova-novncproxy.service\n systemctl start openstack-nova-api.service openstack-nova-cert.service openstack-nova-consoleauth.service openstack-nova-scheduler.service openstack-nova-conductor.service openstack-nova-novncproxy.service To verify your configuration, list available images: $ nova image-list The output should look like this: +--------------------------------------+---------------------+--------+--------+\n| ID                                   | Name                | Status | Server |\n+--------------------------------------+---------------------+--------+--------+\n| acafc7c0-40aa-4026-9673-b879898e1fc2 | cirros-0.3.2-x86_64 | ACTIVE |        |\n+--------------------------------------+---------------------+--------+--------+ Step 6: Install Networking service (Neutron) NOTE The configuration of neutron is divided between Controller and Network nodes. Check beside the tittle of each section on which node you have to perform the instructions. Prerequisites (ON THE CONTROLLER NODE ) Before you configure the OpenStack Networking service (called Neutron), you must create a database and Identity service credentials including a user and service. Connect to the database as the root user, create the neutron database, and grant the proper access to it: Replace $NEUTRON_DBPASS with a suitable password. $ mysql -u root -p\n mysql CREATE DATABASE neutron;\n mysql GRANT ALL PRIVILEGES ON neutron.* TO 'neutron'@'localhost' IDENTIFIED BY '$NEUTRON_DBPASS';\n mysql GRANT ALL PRIVILEGES ON neutron.* TO 'neutron'@'%' IDENTIFIED BY '$NEUTRON_DBPASS'; Create Identity service credentials for Networking: Create the neutron user: Replace $NEUTRON_PASS with a suitable password and $NEUTRON_EMAIL with a suitable e-mail address. $ keystone user-create --name neutron --pass $NEUTRON_PASS --email $NEUTRON_EMAIL Link the neutron user to the service tenant and admin role: $ keystone user-role-add --user neutron --tenant service --role admin Create the neutron service: $ keystone service-create --name neutron --type network --description \"OpenStack Networking\" Create the service endpoint: $ keystone endpoint-create --service-id $(keystone service-list | awk '/ network / {print $2}') --publicurl http://controller:9696 --adminurl http://controller:9696 --internalurl http://controller:9696 Install the Networking service (ON THE CONTROLLER NODE ) Install the Networking components $ sudo yum install -y openstack-neutron.noarch  \n$ sudo yum install -y openstack-neutron-ml2.noarch  \n$ sudo yum install -y python-neutronclient Configure the Networking server component The Networking server component configuration includes the database, authentication mechanism, message broker, topology change notifier, and plug-in. Configure Networking to use the database: Edit the /etc/neutron/neutron.conf file and add the following key to the [database] section: Replace $NEUTRON_DBPASS with the password you chose for the database. [database]\n ...\n connection = mysql://neutron:$NEUTRON_DBPASS@controller/neutron Configure Networking to use the Identity service for authentication: Edit the /etc/neutron/neutron.conf file and add the following key to the [DEFAULT] section: [DEFAULT]\n ...\n auth_strategy = keystone Add the following keys to the [keystone_authtoken] section: Replace $NEUTRON_PASS with the password you chose for the neutron user in the Identity service. [keystone_authtoken]\n ...\n auth_uri = http://controller:5000\n identity_uri = http://controller:35357\n admin_tenant_name = service\n admin_user = neutron\n admin_password = $NEUTRON_PASS NOTE Comment out any auth_host , auth_port , and auth_protocol options because the identity_uri option replaces them. Configure Networking to use the message broker: Edit the /etc/neutron/neutron.conf file and add the following keys to the [DEFAULT] section: Replace $RABBIT_PASS with the password you chose for the guest account in RabbitMQ. [DEFAULT]\n ...\n rpc_backend = rabbit\n rabbit_host = controller\n rabbit_password = $RABBIT_PASS Configure Networking to notify Compute about network topology changes: Replace $SERVICE_TENANT_ID with the service tenant identifier (id, obtained with the command keystone tenant-list ) in the Identity service and $NOVA_PASS with the password you chose for the nova user in the Identity service. Edit the /etc/neutron/neutron.conf file and add the following keys to the [DEFAULT] section: [DEFAULT]\n ...\n notify_nova_on_port_status_changes = True\n notify_nova_on_port_data_changes = True\n nova_url = http://controller:8774/v2\n nova_region_name = regionOne\n nova_admin_username = nova\n nova_admin_tenant_id = $SERVICE_TENANT_ID\n nova_admin_password = $NOVA_PASS\n nova_admin_auth_url = http://controller:35357/v2.0 Note To obtain the service tenant identifier (id) you can also run: $ source admin-openrc.sh\n $ keystone tenant-get service which should show an output like this: +-------------+----------------------------------+\n|   Property  |              Value               |\n+-------------+----------------------------------+\n| description |          Service Tenant          |\n|   enabled   |               True               |\n|      id     | f727b5ec2ceb4d71bad86dfc414449bf |\n|     name    |             service              |\n+-------------+----------------------------------+ Configure Networking to use the Modular Layer 2 (ML2) plug-in and associated services: Edit the /etc/neutron/neutron.conf file and add the following keys to the [DEFAULT] section: [DEFAULT]\n ...\n core_plugin = ml2\n service_plugins = router\n allow_overlapping_ips = True Note We recommend adding verbose = True to the [DEFAULT] section in /etc/neutron/neutron.conf for eventual troubleshooting. Configure the Modular Layer 2 (ML2) plug-in (ON THE CONTROLLER NODE ) The ML2 plug-in uses the Open vSwitch (OVS) mechanism (agent) to build the virtual networking framework for instances. However, the controller node does not need the OVS agent or service because it does not handle instance network traffic. Edit the /etc/neutron/plugins/ml2/ml2_conf.ini file: Add the following keys to the [ml2] section: [ml2]\n ...\n type_drivers =  flat,gre\n tenant_network_types = gre\n mechanism_drivers = openvswitch Add the following key to the [ml2_type_gre] section: [ml2_type_gre]\n ...\n tunnel_id_ranges = 1:1000 Add the [securitygroup] section and the following keys to it: [securitygroup]\n ...\n firewall_driver = neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver\n enable_security_group = True\n enable_ipset = True Configure Compute to use Networking (ON THE CONTROLLER NODE) By default, most distributions configure Compute to use legacy networking. You must reconfigure Compute to manage networks through Networking. Edit the /etc/nova/nova.conf and add the following keys to the [DEFAULT] section: Replace $NEUTRON_PASS with the password you chose for the neutron user in the Identity service. [DEFAULT]\n ...\n network_api_class = nova.network.neutronv2.api.API\n linuxnet_interface_driver = nova.network.linux_net.LinuxOVSInterfaceDriver\n firewall_driver = nova.virt.firewall.NoopFirewallDriver\n security_group_api = neutron [Note]\tNote\nBy default, Compute uses an internal firewall service. Since Networking includes a firewall service, you must disable the Compute firewall service by using the nova.virt.firewall.NoopFirewallDriver firewall driver. Edit also the [neutron] section like [neutron]\n...\nurl = http://controller:9696\nauth_strategy = keystone\nadmin_auth_url = http://controller:35357/v2.0\nadmin_tenant_name = service\nadmin_username = neutron\nadmin_password = NEUTRON_PASS Finalize installation (ON THE CONTROLLER NODE ) Create symbolic link and populate the database: The Networking service initialization scripts expect a symbolic link /etc/neutron/plugin.ini pointing to the ML2 plug-in configuration file, /etc/neutron/plugins/ml2/ml2_conf.ini. If this symbolic link does not exist, create it using the following command: # ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini Populate the database: su -s /bin/sh -c \"neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade juno\" neutron Restart Compute and Networking services: Restart Nova: # systemctl restart openstack-nova-api.service openstack-nova-scheduler.service openstack-nova-conductor.service Start Neutron and enable it to start at boot time: # systemctl enable neutron-server.service\n# systemctl start neutron-server.service Test Neutron List loaded extensions to verify successful launch of the neutron-server process: $ neutron ext-list\n+-----------------------+-----------------------------------------------+\n| alias                 | name                                          |\n+-----------------------+-----------------------------------------------+\n| security-group        | security-group                                |\n| l3_agent_scheduler    | L3 Agent Scheduler                            |\n| ext-gw-mode           | Neutron L3 Configurable external gateway mode |\n| binding               | Port Binding                                  |\n| provider              | Provider Network                              |\n| agent                 | agent                                         |\n| quotas                | Quota management support                      |\n| dhcp_agent_scheduler  | DHCP Agent Scheduler                          |\n| l3-ha                 | HA Router extension                           |\n| multi-provider        | Multi Provider Network                        |\n| external-net          | Neutron external network                      |\n| router                | Neutron L3 Router                             |\n| allowed-address-pairs | Allowed Address Pairs                         |\n| extraroute            | Neutron Extra Route                           |\n| extra_dhcp_opt        | Neutron Extra DHCP opts                       |\n| dvr                   | Distributed Virtual Router                    |\n+-----------------------+-----------------------------------------------+ Install the network-node components (ON NETWORK NODE) Edit /etc/sysctl.conf to contain the following: net.ipv4.ip_forward=1\nnet.ipv4.conf.all.rp_filter=0\nnet.ipv4.conf.default.rp_filter=0 Implement the changes: $ sysctl -p To install the Networking components $ sudo yum install openstack-neutron openstack-neutron-ml2 openstack-neutron-openvswitch (the other packages are already installed) Configure Neutron (ON NETWORK NODE) Edit the /etc/neutron/neutron.conf file and complete the following actions: In the [database] section, comment out any connection options because network nodes do not directly access the database. In the [DEFAULT] section, configure RabbitMQ message broker access: ```\n[DEFAULT]\n...\nrpc_backend = rabbit\nrabbit_host = controller\nrabbit_password = RABBIT_PASS \n``` \nReplace RABBIT_PASS with the password you chose for the guest account in RabbitMQ. In the [DEFAULT] and [keystone_authtoken] sections, configure Identity service access: ```\n[DEFAULT]\n...\nauth_strategy = keystone [keystone_authtoken]\n...\nauth_uri = http://controller:5000/v2.0\nidentity_uri = http://controller:35357\nadmin_tenant_name = service\nadmin_user = neutron\nadmin_password = NEUTRON_PASS\n``` NOTE Comment out any auth_host , auth_port , and auth_protocol options because the identity_uri option replaces them Configure  the Layer-2 (ML2) plugin (ON NETWORK NODE) The ML2 plug-in uses the Open vSwitch (OVS) mechanism (agent) to build the virtual networking framework for instances. Edit the /etc/neutron/plugins/ml2/ml2_conf.ini file and complete the following actions: In the [ml2] section, enable the flat and generic routing encapsulation (GRE) network type drivers, GRE tenant networks, and the OVS mechanism driver: ```\n[ml2]\n...\ntype_drivers = flat,gre\ntenant_network_types = gre\nmechanism_drivers = openvswitch\n``` In the [ml2_type_flat] section, configure the external flat provider network: ```   \n[ml2_type_flat]\n...\nflat_networks = external\n``` In the [ml2_type_gre] section, configure the tunnel identifier (id) range: ```\n[ml2_type_gre]\n...\ntunnel_id_ranges = 1:1000\n``` In the [securitygroup] section, enable security groups, enable ipset, and configure the OVS iptables firewall driver: ```\n[securitygroup]\n...\nenable_security_group = True\nenable_ipset = True\nfirewall_driver = neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver\n``` In the [ovs] section, add it if necessary, enable tunnels, configure the local tunnel endpoint, and map the external flat provider network to the br-ex external network bridge: ```\n [ovs]\n...\nlocal_ip = INSTANCE_TUNNELS_INTERFACE_IP_ADDRESS\nenable_tunneling = True\nbridge_mappings = external:br-ex\n```\nReplace `INSTANCE_TUNNELS_INTERFACE_IP_ADDRESS` with the IP address of the instance tunnels network interface on your network node. In the [agent] section, add it if necessary, enable GRE tunnels: ```\n[agent]\n...\ntunnel_types = gre\n``` Configure the Layer-3 (L3) agent (ON NETWORK NODE) The Layer-3 (L3) agent provides routing services for instance virtual networks. Edit the /etc/neutron/l3_agent.ini file and add the following keys to the [DEFAULT] section: [DEFAULT]\n...\ninterface_driver = neutron.agent.linux.interface.OVSInterfaceDriver\nuse_namespaces = True\nexternal_network_bridge = br-ex\nrouter_delete_namespaces = True Note We recommend adding verbose = True to the [DEFAULT] section in /etc/neutron/l3_agent.ini to assist with troubleshooting. Configure the DHCP agent (ON NETWORK NODE) The DHCP agent provides DHCP services for instance virtual networks. Edit the /etc/neutron/dhcp_agent.ini file and add the following keys to the [DEFAULT] section: [DEFAULT]\n...\ninterface_driver = neutron.agent.linux.interface.OVSInterfaceDriver\ndhcp_driver = neutron.agent.linux.dhcp.Dnsmasq\nuse_namespaces = True\ndhcp_delete_namespaces = True Note We recommend adding verbose = True to the [DEFAULT] section in /etc/neutron/dhcp_agent.ini to assist with troubleshooting. Configure the metadata agent The metadata agent provides configuration information such as credentials for remote access to instances. Edit the /etc/neutron/metadata_agent.ini file and add the following keys to the [DEFAULT] section: Replace $NEUTRON_PASS with the password you chose for the neutron user in the Identity service. Replace $METADATA_SECRET with a suitable secret for the metadata proxy (for example, you can generate a string with the openssl command, as shown at the beginning of this page). [DEFAULT]\n...\nauth_url = http://controller:5000/v2.0\nauth_region = regionOne\nadmin_tenant_name = service\nadmin_user = neutron\nadmin_password = $NEUTRON_PASS\nnova_metadata_ip = controller\nmetadata_proxy_shared_secret = $METADATA_SECRET Note We recommend adding verbose = True to the [DEFAULT] section in /etc/neutron/metadata_agent.ini to assist with troubleshooting. ON THE CONTROLLER NODE : Edit the /etc/nova/nova.conf file and add the following keys to the [DEFAULT] section: Replace $METADATA_SECRET with the secret you chose for the metadata proxy. ```\n[DEFAULT]\n...\nservice_neutron_metadata_proxy = True\nneutron_metadata_proxy_shared_secret = $METADATA_SECRET\n``` Aways on the controller node, restart the Compute API service: #  systemctl restart openstack-nova-api.service Configure the Open vSwitch (OVS) service The OVS service provides the underlying virtual networking framework for instances. The integration bridge br-int handles internal instance network traffic within OVS. The external bridge br-ex handles external instance network traffic within OVS. The external bridge requires a port on the physical external network interface to provide instances with external network access. In essence, this port bridges the virtual and physical external networks in your environment. Before move on make sure that you ave installed bridge-utils $ sudo yum install bridge-utils Restart the OVS service: $ systemctl enable openvswitch.service  \n$ systemctl start openvswitch.service Add the integration bridge: # ovs-vsctl add-br br-int Add the external bridge: # ovs-vsctl add-br br-ex Add a port to the external bridge that connects to the physical external network interface: Replace $INTERFACE_NAME with the actual interface name (in our case is the interface on the private network): # ovs-vsctl add-port br-ex $INTERFACE_NAME Finalize installation The Networking service initialization scripts expect a symbolic link /etc/neutron/plugin.ini pointing to the ML2 plug-in configuration file, /etc/neutron/plugins/ml2/ml2_conf.ini. If this symbolic link does not exist, create it using the following command: ```\n# ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini\n```\n\nDue to a packaging bug, the Open vSwitch agent initialization script explicitly looks for the Open vSwitch plug-in configuration file rather than a symbolic link /etc/neutron/plugin.ini pointing to the ML2 plug-in configuration file. Run the following commands to resolve this issue:\n\n```\n# cp /usr/lib/systemd/system/neutron-openvswitch-agent.service /usr/lib/systemd/system/neutron-openvswitch-agent.service.orig\n# sed -i 's,plugins/openvswitch/ovs_neutron_plugin.ini,plugin.ini,g' /usr/lib/systemd/system/neutron-openvswitch-agent.service\n``` Start the Networking services and configure them to start when the system boots: ```\n# systemctl enable neutron-openvswitch-agent.service neutron-l3-agent.service neutron-dhcp-agent.service neutron-metadata-agent.service neutron-ovs-cleanup.service\n# systemctl start neutron-openvswitch-agent.service neutron-l3-agent.service neutron-dhcp-agent.service neutron-metadata-agent.service\n``` Verify operation List agents to verify successful launch of the neutron agents: $ neutron agent-list\n+--------------------------------------+--------------------+---------+-------+----------------+---------------------------+\n| id                                   | agent_type         | host    | alive | admin_state_up | binary                    |\n+--------------------------------------+--------------------+---------+-------+----------------+---------------------------+\n| 30275801-e17a-41e4-8f53-9db63544f689 | Metadata agent     | network | :-)   | True           | neutron-metadata-agent    |\n| 4bd8c50e-7bad-4f3b-955d-67658a491a15 | Open vSwitch agent | network | :-)   | True           | neutron-openvswitch-agent |\n| 756e5bba-b70f-4715-b80e-e37f59803d20 | L3 agent           | network | :-)   | True           | neutron-l3-agent          |\n| 9c45473c-6d6d-4f94-8df1-ebd0b6838d5f | DHCP agent         | network | :-)   | True           | neutron-dhcp-agent        |\n+--------------------------------------+--------------------+---------+-------+----------------+---------------------------+ Create initial networks The schema of the initial network is shown in the image beloW. The image is taken from the official Juno guide, and all the adresses refer to that. We have to create the external network ext-net and the tenant network demo-net . External network The external network typically provides Internet access for your instances. By default, this network only allows Internet access from instances using Network Address Translation (NAT). You can enable Internet access to individual instances using a floating IP address and suitable security group rules. The admin tenant owns this network because it provides external network access for multiple tenants. NOTE perform these commands on the controller node Create the network: neutron net-create ext-net --router:external True --provider:physical_network external --provider:network_type flat and you should obtain Created a new network:     +---------------------------+--------------------------------------+     | Field                     | Value                                |     +---------------------------+--------------------------------------+     | admin_state_up            | True                                 |     | id                        | 893aebb9-1c1e-48be-8908-6b947f3237b3 |     | name                      | ext-net                              |     | provider:network_type     | flat                                 |     | provider:physical_network | external                             |     | provider:segmentation_id  |                                      |     | router:external           | True                                 |     | shared                    | False                                 |     | status                    | ACTIVE                               |     | subnets                   |                                      |     | tenant_id                 | 54cd044c64d5408b83f843d63624e0d8     |     +---------------------------+--------------------------------------+ Like a physical network, a virtual network requires a subnet assigned to it. The external network shares the same subnet and gateway associated with the physical network connected to the external interface on the network node. You should specify an exclusive slice of this subnet for router and floating IP addresses to prevent interference with other devices on the external network. **NOTE** If you are getting an error `HTTP 400 Bad request` in creating this network and doing the operations in the sections below try to use `--tenant-id $SERVICE_TENANT_ID`, where you can find the tenant id by doing `keystone tenant-list`. Create a subnet on the external network Create the subnet:\n```\n# neutron subnet-create ext-net --name ext-subnet --allocation-pool start=FLOATING_IP_START,end=FLOATING_IP_END --disable-dhcp --gateway EXTERNAL_NETWORK_GATEWAY EXTERNAL_NETWORK_CIDR\n```\nReplace `FLOATING_IP_START` and `FLOATING_IP_END` with the first and last IP addresses of the range that you want to allocate for floating IP addresses. Replace `EXTERNAL_NETWORK_CIDR` with the subnet associated with the physical network. Replace `EXTERNAL_NETWORK_GATEWAY` with the gateway associated with the physical network, typically the \".1\" IP address. You should disable DHCP on this subnet because instances do not connect directly to the external network and floating IP addresses require manual assignment. Tenant network The tenant network provides internal network access for instances. The architecture isolates this type of network from other tenants. The demo tenant owns this network because it only provides network access for instances within it. Create the network: ```\n# neutron net-create demo-net\nCreated a new network:\n+-----------------+--------------------------------------+\n| Field           | Value                                |\n+-----------------+--------------------------------------+\n| admin_state_up  | True                                 |\n| id              | ac108952-6096-4243-adf4-bb6615b3de28 |\n| name            | demo-net                             |\n| router:external | False                                |\n| shared          | False                                |\n| status          | ACTIVE                               |\n| subnets         |                                      |\n| tenant_id       | cdef0071a0194d19ac6bb63802dc9bae     |\n+-----------------+--------------------------------------+\n```\nLike the external network, your tenant network also requires a subnet attached to it. You can specify any valid subnet because the architecture isolates tenant networks. By default, this subnet will use DHCP so your instances can obtain IP addresses. Create the subnet ```\nneutron subnet-create demo-net --name demo-subnet --gateway TENANT_NETWORK_GATEWAY TENANT_NETWORK_CIDR\n```\n\nReplace TENANT_NETWORK_CIDR with the subnet you want to associate with the tenant network and TENANT_NETWORK_GATEWAY with the gateway you want to associate with it, typically the \".1\" IP address.\n\nExample using 192.168.1.0/24:\n\n```\n# neutron subnet-create demo-net --name demo-subnet \\ --gateway 192.168.1.1 192.168.1.0/24\nCreated a new subnet:\n+-------------------+------------------------------------------------------+\n| Field             | Value                                                |\n+-------------------+------------------------------------------------------+\n| allocation_pools  | {\"start\": \"192.168.1.2\", \"end\": \"192.168.1.254\"}     |\n| cidr              | 192.168.1.0/24                                       |\n| dns_nameservers   |                                                      |\n| enable_dhcp       | True                                                 |\n| gateway_ip        | 192.168.1.1                                          |\n| host_routes       |                                                      |\n| id                | 69d38773-794a-4e49-b887-6de6734e792d                 |\n| ip_version        | 4                                                    |\n| ipv6_address_mode |                                                      |\n| ipv6_ra_mode      |                                                      |\n| name              | demo-subnet                                          |\n| network_id        | ac108952-6096-4243-adf4-bb6615b3de28                 |\n| tenant_id         | cdef0071a0194d19ac6bb63802dc9bae                     |\n+-------------------+------------------------------------------------------+\n```\nA virtual router passes network traffic between two or more virtual networks. Each router requires one or more interfaces and/or gateways that provide access to specific networks. In this case, you will create a router and attach your tenant and external networks to it. Create the router ```\n# neutron router-create demo-router Created a new router:\n+-----------------------+--------------------------------------+\n| Field                 | Value                                |\n+-----------------------+--------------------------------------+\n| admin_state_up        | True                                 |\n| external_gateway_info |                                      |\n| id                    | 635660ae-a254-4feb-8993-295aa9ec6418 |\n| name                  | demo-router                          |\n| routes                |                                      |\n| status                | ACTIVE                               |\n| tenant_id             | cdef0071a0194d19ac6bb63802dc9bae     |\n+-----------------------+--------------------------------------+\n``` Attach the router to the demo tenant subnet: ```\n# neutron router-interface-add demo-router demo-subnet\nAdded interface b1a894fd-aee8-475c-9262-4342afdc1b58 to router demo-router.    \n``` Attach the router to the external network by setting it as the gateway: ```\n# neutron router-gateway-set demo-router ext-net\nSet gateway for router demo-router\n``` Verify connectivity The router that we have create, if the configuration is correct, should occupy the lowest IP address available on the external network. From any host on the on the external network you should be able to ping the router.\nTry that and ensure to solve any eventual problems before move on. Note Depending on your network interface driver, you may need to disable Generic Receive Offload (GRO) to achieve suitable throughput between your instances and the external network. To temporarily disable GRO on the external network interface while testing your environment: # ethtool -K $INTERFACE_NAME gro off Restart the Networking services: # service neutron-openvswitch-agent restart\n# service neutron-l3-agent restart\n# service neutron-dhcp-agent restart\n# service neutron-metadata-agent restart Step 7: Install the dashboard (Horizon) Install the packages: # sudo yum install openstack-dashboard httpd mod_wsgi memcached python-memcached Check if the CACHES['default']['LOCATION'] in /etc/openstack-dashboard/local_settings.py like: CACHES = {\n   'default': {\n       'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',\n       'LOCATION': '127.0.0.1:11211',\n   }\n} Update the ALLOWED_HOSTS in /etc/openstack-dashboard/local_settings.py to allow all host to access the dash board ALLOWED_HOSTS = ['*'] NOTE You can set the access more strictly and include only the addresses you wish to access the dashboard from; for example, if you want to access the dashboard only from localhost , from your desktop ( my-desktop ) and from host1 and host2 , insert: ALLOWED_HOSTS = ['localhost', 'my-desktop', 'host1', 'host2'] Edit /etc/openstack-dashboard/local_settings.py and change OPENSTACK_HOST to the hostname of your Identity service (in this case the controller node; this can be used to run the dashboard on a separate host): OPENSTACK_HOST = \"controller\" Optionally set the time zone: TIME_ZONE = \"Europe/Rome\" If you haven't set SELinux to disabled, configure it to permit the web server to connect to Openstack services: setsebool -P httpd_can_network_connect on NOTE Due to a packaging bug, the dashboard CSS fails to load properly. Run the following command to resolve this issue: chown -R apache:apache /usr/share/openstack-dashboard/static Enable and restart the httpd and memcached services systemctl enable httpd.service memcached.service\nsystemctl start httpd.service memcached.service Now you can access the dashboard from http://$node-name/dashboard were $node-name in the name that you have specified in the OPENSTACK-HOST field in /etc/openstack-dashboard/local_settings . Use the hostname of the node on the pubblic network if you want to reach the node from outside.\nTo log in you can use the credentials of admin or demo users. Also the services credentials are accepted. NOTE Usually all commands are launched as admin user. If you access to the the dashboard using another users, for example nova , and you create an instances, them won't be showed doing nova list unless  you pass to OpenStack nova credentials using --os- (see nova -h for more informations) options or creating a file like admin-openrc.sh to source.","filename":"2.-Controller-and-Network-Node-Installation.md","format":"markdown","hl_body":"...  node. $ sudo yum install -y \u003cem\u003eopenstack\u003c/em\u003e-\u003cem\u003enova\u003c/em\u003e-api.noarch     \n  $ sudo yum install -y \u003cem\u003eopenstack\u003c/em\u003e-\u003cem\u003enova\u003c/em\u003e-cert.noarch\n  $ sudo yum install -y \u003cem\u003eopenstack\u003c/em\u003e-\u003cem\u003enova\u003c/em\u003e-conductor.noarch\n  $ sudo yum install -y \u003cem\u003eopenstack\u003c/em\u003e ...","hl_title":"2. Controller and Network Node Installation","id":"0430986e0f93750a049bc13dbb63269659a0d406","path":"2.-Controller-and-Network-Node-Installation.md","public":true,"repo":{"repository":{"id":41787026,"name":"Juno-CentOS7-Guide","owner_id":9801368,"owner_login":"marcosaletta","updated_at":"2015-11-03T09:17:04.741Z","has_issues":true}},"repo_id":41787026,"title":"2. Controller and Network Node Installation","updated_at":"2015-11-05T13:56:17.000+01:00"},{"body":"About the project: This is a local documentation search engine based on official documentation releases of multiple linux projects. The idea is to make a local offline copy of all available documentation and after use grep to search for what you are looking for. The advantage here is that you can search on multiple documentation pages for different projects at the same time. Some sort of \"offline documentation search engine running on CMD\". The tongue-update.sh script will take care of downloading the pages for you while tongue.sh will prompt you with what is needed to perform the search you want. Note that the search is performed through html and pdf files Installation and usage: 0 - Install pdfgrep in your system (available via apt-get, yum, etc) 1 - Download the tongue-update.sh and tongue.sh scripts 2 - Set execution permissions to both scripts: \"sudo chmod a+x tongue-update.sh ; sudo chmod a+x tongue.sh\" 3 - Copy the scripts to /usr/bin with: \"sudo cp tongue-update.sh /usr/bin/tongue-update ; sudo cp tongue.sh /usr/bin/tongue\" 4 - Run \"tongue-update\" command first to download the html and pdf files. By default, these files are saved in \"$HOME/Documents/\". You can change that also by editing the script before the first run. It might be a good idea to set a cronjob to also run the tongue-update.sh automatically. The tongue-update.sh is set to download new documentation htmls ONLY if a new version is in place on the website. PNG,JPEG,JPG,SVG and CSS files are also saved in case you want to browse the documentation offline in your browser 5 - After the download is done, run tongue to start searching. Examples: List documentations or ask for help: tongue -h or -l\" Image search: tongue -t CLOUD-INIT -s SEARCH -I (options: -i for case-insensitive search)\" Ubuntu Documentation search: tongue -u DOCUMENTATION -s SEARCH_STRING (options: -i for case-sensitive search)\" Kubernetes documentation: tongue -k RELEASENOTE -s SEARCH_STRING (options: -i for case-sensitive search)\" Search on all openstack documentation: tongue -e '*' -s 'nova' Search for 'ocfs2' or 'nfs' on systemd documentation: tongue -y '*' -s ocfs2|nfs Option list: -a, --calibre = Search on Calibre library\" -c, --ceph = Search on Ceph official documentation\" -e, --openstack = Search on openstack official documentation\" -g, --man-pages = Search on linux man pages\" -h, --help = Display a list of options to chose from\" -i, --case-sensitive = Searches are case sensitive.\" -I, --image = Search for png files only. If you use this option, you need to specify -c, -e, -k, -t or -y\" -k, --kubernetes = Search on kubernetes official documentation\" -l, --list = Display a list of documentations that you can select\" -n, --kernel = Search on kernel official documentation\" -o, --module = Search on kernel module database\" -s, --search = Search string. If you are searching for more then one word, put all into quotes ''\" -t, --cloud-init = Search on cloud-init documentation\" -u, --ubuntu = Search on ubuntu official documentation\" -y, --systemd = Search on systemd official documentation\" Practical examples: Search only on multiple e-books/authors: tongue -c ' Sebastian ' -s 'system wide trusted certificate' \"Search only on ubuntu 16.x documentation pages: tongue -u ' 16 ' -s 'system wide trusted certificate' Search on all openstack documentation: tongue -e ' ' -s 'nova' Search for 'ocfs2' or 'nfs' on systemd documentation: tongue -y ' ' -s ocfs2|nfs 6 - A list of html files will be displayed on the left side. Do Ctrl+Click on the links to open them in your webrowser. Once you find what you need, open the page you downloaded with your browser (i suggest using w3m if you want to open that from the terminal. If you want to display images through w3m, dont forget to install \"xv\" and \"w3m-inline-image\" packages) 7 - Enjoy Screenshots:","filename":"Home.md","format":"markdown","hl_body":")\u0026quot; Search on all \u003cem\u003eopenstack\u003c/em\u003e documentation: tongue -e \u0026#x27;*\u0026#x27; -s \u0026#x27;\u003cem\u003enova\u003c/em\u003e\u0026#x27; Search for \u0026#x27;ocfs2\u0026#x27; or \u0026#x27;nfs\u0026#x27; on systemd documentation: tongue -y \u0026#x27;*\u0026#x27; -s ocfs2|nfs Option list: -a, --calibre = Search on Calibre library","hl_title":"Home","id":"b49730e3cea044404de7baab8efa7eb994d127fd","path":"Home.md","public":true,"repo":{"repository":{"id":262296469,"name":"tongue","owner_id":21173715,"owner_login":"escrevebastante","updated_at":"2025-08-29T15:59:02.110Z","has_issues":true}},"repo_id":262296469,"title":"Home","updated_at":"2020-05-12T11:33:43.000+02:00"},{"body":"\u003c style type=\"text/css\" \u003e ol{margin:0;padding:0}.c0{vertical-align:top;width:117pt;border-style:solid;background-color:#d3dfee;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c3{vertical-align:top;width:117pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c16{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c1{color:#365f91;background-color:#d3dfee}.c9{color:inherit;text-decoration:inherit}.c5{color:#1155cc;text-decoration:underline}.c19{font-size:18pt}.c14{font-family:\"Times New Roman\"}.c12{font-size:7pt}.c17{font-style:italic}.c18{text-decoration:underline}.c2{font-weight:bold}.c6{direction:ltr}.c10{border-collapse:collapse}.c4{color:#365f91}.c13{font-family:\"Courier New\"}.c11{color:#1f497d}.c7{font-size:24pt}.c8{height:11pt}.c15{font-size:10pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:\"Georgia\";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:\"Arial\"}p{color:#000000;font-size:11pt;margin:0;font-family:\"Arial\"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:\"Arial\";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:\"Arial\";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:\"Arial\";padding-bottom:2pt} \u003c /style \u003e JimC 1           Chef Title Comments Work Around Ref# Cannot use knife SSH on nodes that are waiting to be allocated. Allocate the node, to get it fully installed into the system prior to running Knife commands on it. 802 Node failed to find private key after reset. A node exhibits a problem state and the following message is displayed when running a chef-client on that node. FATAL: Chef::Exceptions::PrivateKeyMissing: I cannot read /etc/chef/validation.pem, which you told me to use to sign requests! Reboot the node or run /etc/init.d/crowbar_join.sh on the affected node. 828   2           Crowbar UI Title Comments Work Around Ref# IE7: Attribute edit textbox translates apostrophe into web safe ' Only on some browsers Upgrade to IE8 (or turn off IE7 compatibility) or Change to \\\" to correct 143 Connecting with HTTPS produces bad SSL message error HTTPS was not a target for the 1.0 release Reference the Crowbar UI by http:// not https:// 67, 162 Adding/Removing a role in Chef does not update the proposal. If Crowbar does not do the updating then it cannot be reflected in the proposal! Make changes for proposals in Crowbar 87 There is no way to completely delete a node Crowbar will remove many aspects of a node from the system, but does not delete all traces (such as IP allocation). Can result in lost IP allocations. No work around; however, it will be possible to identify lost IPs and recover. 166 Drag and drop is not enabled in IE8 Use “Raw” mode or see the User’s Guide for a list of supported browsers 617 Missing BMC Buttons after shutdown of node using \"Power Off Button\" After clicking Power Off button on a node, the other buttons under Node – Edit were missing. Run the following command:  ipmitool -H BMCIP -P crowbar -U crowbar power on 196 No logout from crowbar Close open browser windows to remove temporary cookies. 242 Nodes in “Ready Retrying” that are powered off stay flashing red in UI I had two nodes in ready retrying state and shut them down.  They stayed flashing “Ready Retrying” and not grey, “Unavailable” This indicates a failure to properly initialize the node. Troubleshoot the underlying problem by inspecting logs and then reinstall the node. If the node failure is permanent, delete the node from crowbar. 407 RAID setting on Node Details screen needs to reflect the actual configuration. The raid value for \"Disk Drives\" on the Node Details screen is not reflective of the actual RAID config. This value can be changed by editing the node RAID setting and clicking Save. 735 Incorrect privileges when using the crowbar user to issue IPMI commands. The crowbar user does not have the correct privileges to make changes to the IDRAC controller. Use the root user when issuing IPMI commands to the IDRAC 764 Switch View shows the virtual switches Ethernet ports that are on the machine may create views of non-existent switches. Ignore the non-existent switches in the switch view. 791 Team_mode is required for all conduits All bonded conduits, team_mode is required in the Network.json file. Within the conduit, team_mode is a required field. 815 Delete node does not delete Nagios and Ganglia instances. Nagios and Ganglia continue to monitor the deleted systems. Manually delete the nodes from Nagios and Ganglia using the vendors UI. 817 IPMI proposal editor doesn't have field for deployment of IPMI-discover role IPMI has 2 roles - IPMI-discover and IPMI -configure.  The proposal editor only has IPMI -configure in the deployment section. Use raw mode to edit. 819 Trying to re-apply IPMI proposal once nodes transitioned from discovered state fails:  No Hxxx node found. IPMI -discover role is used during discovery, meaning the hxxx nodes are added to the IPMI proposal. Later on, nodes get renamed to dxxx, but the IPMI proposal is not modified, and retains the hxxx nodes. Edit the IPMI proposal and remove any hXXX nodes from the deployment section (possibly switching to raw modem if the IPMI-discover role is not visible) or  make your edits to the IPMI proposal before any nodes have been allocated. 820 Log export attempts to include logs from nodes in Discovered state. Ignore zero length zips that are included in the main log zip. 826 Download of log export sometimes downloads incomplete archive in IE 8. Retry the download, or use a different browser such as IE9 or Chrome to download the log exports. 830 Ganglia not displaying graphs Seems to be when the IP address is in the URL If the URL uses the MAC address, you do see the graphs. 865 Intermittent - # disks show as -1 on admin node on VmWare On the Node Inventory report, the number of disks for a VMWare virtual admin node shows up as -1.  The virtual admin node actually has 2 disks. The admin node disks show up correctly in chef as /block_device/sda and sdb. 897 Reset Nodes after rediscover still has links for Nagios/Ganglia on Dashboard These links will be removed in next release. Do not access links after reset until reallocated. 899 3           Glance Title Comments Work Around Ref# Not logging the Glance commit to Admin node error.log or syslog This will be addressed in the Diablo release. Please review the Glance barclamp documentation for more information. Until then, look for glance-registry.log and glance-api.log in /var/log/glance on the glance server. 104, 85 4           Horizon Title Comments Work Around Ref# Horizon cannot be deployed without Nova - Internal Server Error - Dashboard with Swift only Deployment Failure to deploy Nova returns an Internal Server Error on the Dashboard. You must Deploy Nova when using Horizon 879 5           Install Title Comments Work Around Ref# Admin node BIOS, RAID, and customization requires Keyboard/Monitor to be available Work to apply Crowbar to Crowbar is planned, but did not make it into the initial the release. Get a KVM for admin node setup. Refer to \"Getting Started\" guide for specific settings. 102 Booted machine on network with \u003e 1 installed Crowbar creates conflicts between servers. Crowbar is a DHCP server, you cannot have two of them on the same network When installing a new Crowbar server, replace the old one instead of bringing it up on a different server. 151 Crowbar only supports 1 top level domain While it is possible to change the TLD, Crowbar UI assumes that there is only 1 TLD in numerous places. Only use 1 top level domain - Changing the bonding mode requires a reboot After changing the bonding I found that I had to reboot my nodes to get the new bond type to take. If changing the bonding mode, reboot your nodes. 474 The network barclamp dosesn't clean up vlan interface on node when switching from single to dual Deploy a swift storage node with network barclamp configured in single mode. Edit network barclamp proposal to switch to dual mode, and save \u0026 apply proposal. On a compute node, inspect ifconfig and notice that there are both: eth0.200 and eth1.200 Once the proposal has fully deployed, reboot the node to make the current active network configuration match the correctly created configuration files. 476 BIOS not updating from some version. Certain Versions cannot be updated to our current rev. 1.30 Please see the BIOS Firmware release notes to determine if you need to disable the BIOS Barclamp prior to updating any machines. 561 Modifying APT sources.list can break admin node Customers might modify the system configuration to add additional packages into crowbar.   This could cause chef-client execution to fail on the admin node (Which currently occurs on a regular basis), and render the admin node non-functional. It is highly recommended not to modify resources managed by crowbar.  If new packages are required, build a custom crowbar ISO and include the required packages in the build. 463 Nodes that are not managed by the admin are permitted to register with Chef I booted up the VM's and did not reset the boot sequence for network.  The nodes registered with Chef and admin.  Now I get an Error 500 page and see the nodes logging to the admin node their replication of swift. Inspect the chef UI to identify the offending nodes, and bring them onto crowbar (PXE boot to install standard image).  If the nodes are not to be managed by crowbar, either stop the chef-client daemon, or point it to the appropriate chef-server. 527 Swift fails if proxy installed on storage node It should be possible to install the swift-proxy on a swift storage node. Currently it fails. Do not install proxy on storage node. 846 Get \"volume group name already in use\" going from JBOD to RAID 10 (Admin node also) On Admin node a fast initialization of the existing Raid set and you will cause this.  Seems to happen when manually deleting RAID config the setting RAID to No Configuration in UI.  On install this error is occurring. Reboot node in question 855, 884 The Same IP on two adaptors after install is done with Team JSON After finishing a node installation ifconfig reveals that the primary IP is on both bond0 and eth2 Workaround: Rebooting node seems to clear this up. 877 Selecting Raw when drives sda/sdb/sdc are all mounted in use causes Nova to fail to deploy. Putting  nova-controller on a swift-storage node and setting  the volume mode to RAW causes  stack trace as it tried to manipulate the mounted file systems; this causes the barclamp to fail to deploy. Workaround:  Edit the barclamp and set the Nova - Volume to use Local.  ReApply. 900 OpenStack bonding network json doesn't support multi-speed Crowbar allows down/up-grading interface speeds relative to what is specified in the network json. The non-bonded network json does \"the right thing\".  The bonded one doesn't. Edit the Network JSON to use the proper Regex expression for the Ethernet. 901 Admin node, pre-install, has eth0 defined twice. Verify issue: cd etc/network/interfaces auto eth0 iface eth0 inet dhcp auto eth0 iface eth0 inet  static Although interface does not come up it is still accessible from the console and does not prevent installation. 903 Multijson encode is depricated - This error is on install of Admin node Errors in log file about MultiJson .encode is deprecated and will be removed  in the next major release. n/a 904 Should set more BIOS params for C2100 The following parameters are available on the C2100, but are not being set: \"Intel VT-d\", and \"SR-IOV Supported\" Manually Configure the Parameters in the BIOS 913 Redhat Network Warning during Install - CAP_SYS_MODULE Error in log: “Loading kernel module for a network device with CAP_SYS_MODULE (deprecated). Use CAP_NET_ADMIN and alias netdev-bond0 instead” Install continues on normally, no workaround needed. 915 raid-configure recipe rebuilds raid10 everytime (it seems) An R720 or R720xd will continuously loop on the install when there are only 3 or less drives. Follow the RA requirement to use the minimum number of drives of 6. 781 Can't install Mesa 1.3.1 on R720xd Two out of 3 R720xds are failing to install.   They just cycle from yellow to red “Problem”  after failing to install then continue to cycle again and again. Workaround is to manually delete all RAID sets. 952 BIOS setting on R720 causes node to fail to install I found if you uncheck one of the boot devices, in the Boot Order screen. Then you go into a hardware problem loop. Workaround is to enter the BIOS Bios Boot Order Screen Makes all devices are checked as bootable. 977 6220 IPMI  set password fails. root password remains root The new password is cr0wBar! for the IPMI root account Workaround is to edit the IPMI proposal before deploying any nodes, and ensure that a \"complex enough\" password is used. Use, symbols, digits and upper/lower case letters. 964 Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Workaround:  After installation should be done through ipmitool from command of admin node. 999 chef-client not running on admin node bluepill status showed that it was configured in bluepill. Workaround:  Reload it in to bluepill: ssh into admin node  sudo –i cd /etc/bluepill bluepill chef-client-stop bluepill load chef-client.pill 1003 Resetting and then allocating goes through two OS installs. Afterwards, it comes up fine, just takes a bit longer now. n/a 842 Client nodes lose contact with admin following allocation when both 1G and 10G ports are connected. In the install, the client nodes would go from green to gray following allocation. Investigation showed that the nodes were switching from the 1G port to the 10G port during a chef-client run. Workaround:   Disconnect the 1G ports on the client nodes. 1004 720s in Hardware Installing reboot loop Had 3 720s with 10g Intel NICs.  All of these systems went into a reboot loop in Hardware Installing on manual allocation. Investigation showed that the NIC firmware installation failed to install and failed to verify.  Attempted firmware installation would then continue in a loop. The 10G devices are not updated with current release. System has excluded these updates for just intel-based NICs. 1005 6           Keystone Title Comments Work Around Ref# Modifying account info on an active proposal and reapplying does not work. User must make Keystone account changes before applying proposal. 581 Installing mysql + keystone- returns access denied when creating keystone database when proposals queued. Workaround:  On the node that has mysql server installed execute: rm /etc/mysql/applied_grants (this will reapply the required permissions to the mysql server) 861 7           Network Barclamp Title Comments Work Around Ref# Network barclamp libraries attempt to save nodes that aren't the running node. An error may show up in your logs for the Admin node.  “INFO: HTTP Request Returned 403 Forbidden: You are not the correct node (auth_user name: admin.phone.com,”  This is benign and can be ignored. Ignore the log message 837 Deployment guide: JSON path is incorrect Page 9 lists the JSON at - /opt/dell/chef/data_bags/crowbar/bc-template-network.json Should be: /opt/dell/barclamps/network/chef... 929 8           Nova Title Comments Work Around Ref# Nova failed to install with specific config Network proposal - \u003e Nova fixed = 192.168.123.0 as a subnet and 255.255.255.0 as a mask Nova proposal - \u003e num_networks =2 and network_size = 256 The size of nova_fixed in the network proposal must be the same size as the nova proposal (num * size). 482 euca2ools not installed by default on fresh nova deploy I had to manually install euca2ools to try to query and manipulate images and VMs via the command line. Use alternative methods to achieve the same capabilities: Dashboard Nova-manage commands 518 Nova barclamp uses 1st Glance server found The Nova barclamp allows the user to select a Glance proposal to use.  But code uses the first one found.   This server may or may not be in the selected Glance proposal.  This can cause issues if there are multiple Glance proposals created. The Glance server used should be from the Glance proposal selected in the Nova create/edit form. 868 Somtimes get MySQL connect error on dashboard OperationalError) (2006, 'MySQL server has gone away' It will clear if you refresh the page a couple of times. 487 Libvirt error when trying to mount ISCSI volumes See: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/996840 Currently a manual patch by Dell 875 Nova-Volume Raw Select first disk does not use the physical first disk Nova-Volume will use the first volume and not the first physical drive 936 9           OpenStack Title Comments Work Around Ref# OpenStack servers listen on 0.0.0.0 Most servers listen to all local IP addresses n/a 859 10          RAID Title Comments Work Around Ref# WSMAN/RAID - Clearing config requires cold boot for JBOD to work. After clearing controller configuration at start you need to cold boot the box in order for JBOD to successfully install.   Cold boot box (in iDrac just click on \"Power Cycle System (cold boot)\" link) 844 11          Swift Title Comments Work Around Ref# Swift with multiple proxies breaks Currently not supported by Swift recipes in Crowbar Utilize single proxy 158 Swift does not always start after initial proposal commit. Memcachd is not starting up Occurs occasionally after the system is first installed. This only occurs during initial install. Reboot the Swift Proxy node. The installation will continue successfully 24 Not all swift ring parameters updated Some are:  # of replicas # of zones.  While some should never been updated (e.g. cluster hash) all ring parameters should allow dynamic modifications. Note that manual changes to the ring do take effect. 622 Creating Swift proposal before Keystone causes Swift install to hang Creating Swift before Keystone causes Swift to refer to blank Keystone instance. Delete Swift proposal and create a new one AFTER creating keystone proposal 1027 12     Errata 12.1     Nova Volume Setup ·           If you are planning on running the multi-volume role on the controller, your option for type of volume will default to Local, as the controller must be configured for RAID10.   ·           If you are planning on running the multi-volume role on a node/nodes other than the controller, and you want your volume type to use “Raw” disk selection, you must manually allocate the node BEFORE applying the Nova proposal.   (The Nova proposal will automatically configure the multi-volume node to be RAID10 if the node is in the unallocated state when applying the proposal, and therefore negates any Raw/disk selection settings . )   Steps to take if planning to run multi-volume on node other than the controller: o     On the system where you want multi-volume to run, edit the node set the RAID to JBOD, and BIOS = Virtualization o     Allocate the node and wait for it to go into the Ready state o     Create a Nova proposal o     Edit the proposal o     Drag the node that you manually allocated to multi-volume role o     Under the Volume Options section, you have the option to select the type of volume, Raw or Local and will see a display of disks you can select for nova-volume storage.   The user should be aware of this before applying Nova, since once it ’s applied, your option to change is gone unless you re-build.  ","filename":"Release-notes.md","format":"markdown","hl_body":" deploy. Workaround:  Edit the barclamp and set the \u003cem\u003eNova\u003c/em\u003e - Volume to use Local.  ReApply. 900 \u003cem\u003eOpenStack\u003c/em\u003e bonding network json doesn\u0026#x27;t support multi-speed Crowbar allows down\u0026#x2F;up-grading interface speeds","hl_title":"Release notes","id":"78ba9a9f4fa10bb12fea20ce0a3033d4b3277f8f","path":"Release-notes.md","public":true,"repo":{"repository":{"id":7391989,"name":"crowbar","owner_id":724961,"owner_login":"dellcloudedge","updated_at":"2013-01-22T16:40:29.000Z","has_issues":false}},"repo_id":7391989,"title":"Release notes","updated_at":"2012-11-08T09:25:35.000-08:00"},{"body":"\u003c style type=\"text/css\" \u003e ol{margin:0;padding:0}.c0{vertical-align:top;width:117pt;border-style:solid;background-color:#d3dfee;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c3{vertical-align:top;width:117pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c16{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c1{color:#365f91;background-color:#d3dfee}.c9{color:inherit;text-decoration:inherit}.c5{color:#1155cc;text-decoration:underline}.c19{font-size:18pt}.c14{font-family:\"Times New Roman\"}.c12{font-size:7pt}.c17{font-style:italic}.c18{text-decoration:underline}.c2{font-weight:bold}.c6{direction:ltr}.c10{border-collapse:collapse}.c4{color:#365f91}.c13{font-family:\"Courier New\"}.c11{color:#1f497d}.c7{font-size:24pt}.c8{height:11pt}.c15{font-size:10pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:\"Georgia\";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:\"Arial\"}p{color:#000000;font-size:11pt;margin:0;font-family:\"Arial\"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:\"Arial\";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:\"Arial\";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:\"Arial\";padding-bottom:2pt} \u003c /style \u003e JimC 1           Chef Title Comments Work Around Ref# Cannot use knife SSH on nodes that are waiting to be allocated. Allocate the node, to get it fully installed into the system prior to running Knife commands on it. 802 Node failed to find private key after reset. A node exhibits a problem state and the following message is displayed when running a chef-client on that node. FATAL: Chef::Exceptions::PrivateKeyMissing: I cannot read /etc/chef/validation.pem, which you told me to use to sign requests! Reboot the node or run /etc/init.d/crowbar_join.sh on the affected node. 828   2           Crowbar UI Title Comments Work Around Ref# IE7: Attribute edit textbox translates apostrophe into web safe ' Only on some browsers Upgrade to IE8 (or turn off IE7 compatibility) or Change to \\\" to correct 143 Connecting with HTTPS produces bad SSL message error HTTPS was not a target for the 1.0 release Reference the Crowbar UI by http:// not https:// 67, 162 Adding/Removing a role in Chef does not update the proposal. If Crowbar does not do the updating then it cannot be reflected in the proposal! Make changes for proposals in Crowbar 87 There is no way to completely delete a node Crowbar will remove many aspects of a node from the system, but does not delete all traces (such as IP allocation). Can result in lost IP allocations. No work around; however, it will be possible to identify lost IPs and recover. 166 Drag and drop is not enabled in IE8 Use “Raw” mode or see the User’s Guide for a list of supported browsers 617 Missing BMC Buttons after shutdown of node using \"Power Off Button\" After clicking Power Off button on a node, the other buttons under Node – Edit were missing. Run the following command:  ipmitool -H BMCIP -P crowbar -U crowbar power on 196 No logout from crowbar Close open browser windows to remove temporary cookies. 242 Nodes in “Ready Retrying” that are powered off stay flashing red in UI I had two nodes in ready retrying state and shut them down.  They stayed flashing “Ready Retrying” and not grey, “Unavailable” This indicates a failure to properly initialize the node. Troubleshoot the underlying problem by inspecting logs and then reinstall the node. If the node failure is permanent, delete the node from crowbar. 407 RAID setting on Node Details screen needs to reflect the actual configuration. The raid value for \"Disk Drives\" on the Node Details screen is not reflective of the actual RAID config. This value can be changed by editing the node RAID setting and clicking Save. 735 Incorrect privileges when using the crowbar user to issue IPMI commands. The crowbar user does not have the correct privileges to make changes to the IDRAC controller. Use the root user when issuing IPMI commands to the IDRAC 764 Switch View shows the virtual switches Ethernet ports that are on the machine may create views of non-existent switches. Ignore the non-existent switches in the switch view. 791 Team_mode is required for all conduits All bonded conduits, team_mode is required in the Network.json file. Within the conduit, team_mode is a required field. 815 Delete node does not delete Nagios and Ganglia instances. Nagios and Ganglia continue to monitor the deleted systems. Manually delete the nodes from Nagios and Ganglia using the vendors UI. 817 IPMI proposal editor doesn't have field for deployment of IPMI-discover role IPMI has 2 roles - IPMI-discover and IPMI -configure.  The proposal editor only has IPMI -configure in the deployment section. Use raw mode to edit. 819 Trying to re-apply IPMI proposal once nodes transitioned from discovered state fails:  No Hxxx node found. IPMI -discover role is used during discovery, meaning the hxxx nodes are added to the IPMI proposal. Later on, nodes get renamed to dxxx, but the IPMI proposal is not modified, and retains the hxxx nodes. Edit the IPMI proposal and remove any hXXX nodes from the deployment section (possibly switching to raw modem if the IPMI-discover role is not visible) or  make your edits to the IPMI proposal before any nodes have been allocated. 820 Log export attempts to include logs from nodes in Discovered state. Ignore zero length zips that are included in the main log zip. 826 Download of log export sometimes downloads incomplete archive in IE 8. Retry the download, or use a different browser such as IE9 or Chrome to download the log exports. 830 Ganglia not displaying graphs Seems to be when the IP address is in the URL If the URL uses the MAC address, you do see the graphs. 865 Intermittent - # disks show as -1 on admin node on VmWare On the Node Inventory report, the number of disks for a VMWare virtual admin node shows up as -1.  The virtual admin node actually has 2 disks. The admin node disks show up correctly in chef as /block_device/sda and sdb. 897 Reset Nodes after rediscover still has links for Nagios/Ganglia on Dashboard These links will be removed in next release. Do not access links after reset until reallocated. 899 3           Glance Title Comments Work Around Ref# Not logging the Glance commit to Admin node error.log or syslog This will be addressed in the Diablo release. Please review the Glance barclamp documentation for more information. Until then, look for glance-registry.log and glance-api.log in /var/log/glance on the glance server. 104, 85 4           Horizon Title Comments Work Around Ref# Horizon cannot be deployed without Nova - Internal Server Error - Dashboard with Swift only Deployment Failure to deploy Nova returns an Internal Server Error on the Dashboard. You must Deploy Nova when using Horizon 879 5           Install Title Comments Work Around Ref# Admin node BIOS, RAID, and customization requires Keyboard/Monitor to be available Work to apply Crowbar to Crowbar is planned, but did not make it into the initial the release. Get a KVM for admin node setup. Refer to \"Getting Started\" guide for specific settings. 102 Booted machine on network with \u003e 1 installed Crowbar creates conflicts between servers. Crowbar is a DHCP server, you cannot have two of them on the same network When installing a new Crowbar server, replace the old one instead of bringing it up on a different server. 151 Crowbar only supports 1 top level domain While it is possible to change the TLD, Crowbar UI assumes that there is only 1 TLD in numerous places. Only use 1 top level domain - Changing the bonding mode requires a reboot After changing the bonding I found that I had to reboot my nodes to get the new bond type to take. If changing the bonding mode, reboot your nodes. 474 The network barclamp dosesn't clean up vlan interface on node when switching from single to dual Deploy a swift storage node with network barclamp configured in single mode. Edit network barclamp proposal to switch to dual mode, and save \u0026 apply proposal. On a compute node, inspect ifconfig and notice that there are both: eth0.200 and eth1.200 Once the proposal has fully deployed, reboot the node to make the current active network configuration match the correctly created configuration files. 476 BIOS not updating from some version. Certain Versions cannot be updated to our current rev. 1.30 Please see the BIOS Firmware release notes to determine if you need to disable the BIOS Barclamp prior to updating any machines. 561 Modifying APT sources.list can break admin node Customers might modify the system configuration to add additional packages into crowbar.   This could cause chef-client execution to fail on the admin node (Which currently occurs on a regular basis), and render the admin node non-functional. It is highly recommended not to modify resources managed by crowbar.  If new packages are required, build a custom crowbar ISO and include the required packages in the build. 463 Nodes that are not managed by the admin are permitted to register with Chef I booted up the VM's and did not reset the boot sequence for network.  The nodes registered with Chef and admin.  Now I get an Error 500 page and see the nodes logging to the admin node their replication of swift. Inspect the chef UI to identify the offending nodes, and bring them onto crowbar (PXE boot to install standard image).  If the nodes are not to be managed by crowbar, either stop the chef-client daemon, or point it to the appropriate chef-server. 527 Swift fails if proxy installed on storage node It should be possible to install the swift-proxy on a swift storage node. Currently it fails. Do not install proxy on storage node. 846 Get \"volume group name already in use\" going from JBOD to RAID 10 (Admin node also) On Admin node a fast initialization of the existing Raid set and you will cause this.  Seems to happen when manually deleting RAID config the setting RAID to No Configuration in UI.  On install this error is occurring. Reboot node in question 855, 884 The Same IP on two adaptors after install is done with Team JSON After finishing a node installation ifconfig reveals that the primary IP is on both bond0 and eth2 Workaround: Rebooting node seems to clear this up. 877 Selecting Raw when drives sda/sdb/sdc are all mounted in use causes Nova to fail to deploy. Putting  nova-controller on a swift-storage node and setting  the volume mode to RAW causes  stack trace as it tried to manipulate the mounted file systems; this causes the barclamp to fail to deploy. Workaround:  Edit the barclamp and set the Nova - Volume to use Local.  ReApply. 900 OpenStack bonding network json doesn't support multi-speed Crowbar allows down/up-grading interface speeds relative to what is specified in the network json. The non-bonded network json does \"the right thing\".  The bonded one doesn't. Edit the Network JSON to use the proper Regex expression for the Ethernet. 901 Admin node, pre-install, has eth0 defined twice. Verify issue: cd etc/network/interfaces auto eth0 iface eth0 inet dhcp auto eth0 iface eth0 inet  static Although interface does not come up it is still accessible from the console and does not prevent installation. 903 Multijson encode is depricated - This error is on install of Admin node Errors in log file about MultiJson .encode is deprecated and will be removed  in the next major release. n/a 904 Should set more BIOS params for C2100 The following parameters are available on the C2100, but are not being set: \"Intel VT-d\", and \"SR-IOV Supported\" Manually Configure the Parameters in the BIOS 913 Redhat Network Warning during Install - CAP_SYS_MODULE Error in log: “Loading kernel module for a network device with CAP_SYS_MODULE (deprecated). Use CAP_NET_ADMIN and alias netdev-bond0 instead” Install continues on normally, no workaround needed. 915 raid-configure recipe rebuilds raid10 everytime (it seems) An R720 or R720xd will continuously loop on the install when there are only 3 or less drives. Follow the RA requirement to use the minimum number of drives of 6. 781 Can't install Mesa 1.3.1 on R720xd Two out of 3 R720xds are failing to install.   They just cycle from yellow to red “Problem”  after failing to install then continue to cycle again and again. Workaround is to manually delete all RAID sets. 952 BIOS setting on R720 causes node to fail to install I found if you uncheck one of the boot devices, in the Boot Order screen. Then you go into a hardware problem loop. Workaround is to enter the BIOS Bios Boot Order Screen Makes all devices are checked as bootable. 977 6220 IPMI  set password fails. root password remains root The new password is cr0wBar! for the IPMI root account Workaround is to edit the IPMI proposal before deploying any nodes, and ensure that a \"complex enough\" password is used. Use, symbols, digits and upper/lower case letters. 964 Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Workaround:  After installation should be done through ipmitool from command of admin node. 999 chef-client not running on admin node bluepill status showed that it was configured in bluepill. Workaround:  Reload it in to bluepill: ssh into admin node  sudo –i cd /etc/bluepill bluepill chef-client-stop bluepill load chef-client.pill 1003 Resetting and then allocating goes through two OS installs. Afterwards, it comes up fine, just takes a bit longer now. n/a 842 Client nodes lose contact with admin following allocation when both 1G and 10G ports are connected. In the install, the client nodes would go from green to gray following allocation. Investigation showed that the nodes were switching from the 1G port to the 10G port during a chef-client run. Workaround:   Disconnect the 1G ports on the client nodes. 1004 720s in Hardware Installing reboot loop Had 3 720s with 10g Intel NICs.  All of these systems went into a reboot loop in Hardware Installing on manual allocation. Investigation showed that the NIC firmware installation failed to install and failed to verify.  Attempted firmware installation would then continue in a loop. The 10G devices are not updated with current release. System has excluded these updates for just intel-based NICs. 1005 6           Keystone Title Comments Work Around Ref# Modifying account info on an active proposal and reapplying does not work. User must make Keystone account changes before applying proposal. 581 Installing mysql + keystone- returns access denied when creating keystone database when proposals queued. Workaround:  On the node that has mysql server installed execute: rm /etc/mysql/applied_grants (this will reapply the required permissions to the mysql server) 861 7           Network Barclamp Title Comments Work Around Ref# Network barclamp libraries attempt to save nodes that aren't the running node. An error may show up in your logs for the Admin node.  “INFO: HTTP Request Returned 403 Forbidden: You are not the correct node (auth_user name: admin.phone.com,”  This is benign and can be ignored. Ignore the log message 837 Deployment guide: JSON path is incorrect Page 9 lists the JSON at - /opt/dell/chef/data_bags/crowbar/bc-template-network.json Should be: /opt/dell/barclamps/network/chef... 929 8           Nova Title Comments Work Around Ref# Nova failed to install with specific config Network proposal - \u003e Nova fixed = 192.168.123.0 as a subnet and 255.255.255.0 as a mask Nova proposal - \u003e num_networks =2 and network_size = 256 The size of nova_fixed in the network proposal must be the same size as the nova proposal (num * size). 482 euca2ools not installed by default on fresh nova deploy I had to manually install euca2ools to try to query and manipulate images and VMs via the command line. Use alternative methods to achieve the same capabilities: Dashboard Nova-manage commands 518 Nova barclamp uses 1st Glance server found The Nova barclamp allows the user to select a Glance proposal to use.  But code uses the first one found.   This server may or may not be in the selected Glance proposal.  This can cause issues if there are multiple Glance proposals created. The Glance server used should be from the Glance proposal selected in the Nova create/edit form. 868 Somtimes get MySQL connect error on dashboard OperationalError) (2006, 'MySQL server has gone away' It will clear if you refresh the page a couple of times. 487 Libvirt error when trying to mount ISCSI volumes See: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/996840 Currently a manual patch by Dell 875 Nova-Volume Raw Select first disk does not use the physical first disk Nova-Volume will use the first volume and not the first physical drive 936 9           OpenStack Title Comments Work Around Ref# OpenStack servers listen on 0.0.0.0 Most servers listen to all local IP addresses n/a 859 10          RAID Title Comments Work Around Ref# WSMAN/RAID - Clearing config requires cold boot for JBOD to work. After clearing controller configuration at start you need to cold boot the box in order for JBOD to successfully install.   Cold boot box (in iDrac just click on \"Power Cycle System (cold boot)\" link) 844 11          Swift Title Comments Work Around Ref# Swift with multiple proxies breaks Currently not supported by Swift recipes in Crowbar Utilize single proxy 158 Swift does not always start after initial proposal commit. Memcachd is not starting up Occurs occasionally after the system is first installed. This only occurs during initial install. Reboot the Swift Proxy node. The installation will continue successfully 24 Not all swift ring parameters updated Some are:  # of replicas # of zones.  While some should never been updated (e.g. cluster hash) all ring parameters should allow dynamic modifications. Note that manual changes to the ring do take effect. 622 Creating Swift proposal before Keystone causes Swift install to hang Creating Swift before Keystone causes Swift to refer to blank Keystone instance. Delete Swift proposal and create a new one AFTER creating keystone proposal 1027 12     Errata 12.1     Nova Volume Setup ·           If you are planning on running the multi-volume role on the controller, your option for type of volume will default to Local, as the controller must be configured for RAID10.   ·           If you are planning on running the multi-volume role on a node/nodes other than the controller, and you want your volume type to use “Raw” disk selection, you must manually allocate the node BEFORE applying the Nova proposal.   (The Nova proposal will automatically configure the multi-volume node to be RAID10 if the node is in the unallocated state when applying the proposal, and therefore negates any Raw/disk selection settings . )   Steps to take if planning to run multi-volume on node other than the controller: o     On the system where you want multi-volume to run, edit the node set the RAID to JBOD, and BIOS = Virtualization o     Allocate the node and wait for it to go into the Ready state o     Create a Nova proposal o     Edit the proposal o     Drag the node that you manually allocated to multi-volume role o     Under the Volume Options section, you have the option to select the type of volume, Raw or Local and will see a display of disks you can select for nova-volume storage.   The user should be aware of this before applying Nova, since once it ’s applied, your option to change is gone unless you re-build.  ","filename":"Release-notes.md","format":"markdown","hl_body":" deploy. Workaround:  Edit the barclamp and set the \u003cem\u003eNova\u003c/em\u003e - Volume to use Local.  ReApply. 900 \u003cem\u003eOpenStack\u003c/em\u003e bonding network json doesn\u0026#x27;t support multi-speed Crowbar allows down\u0026#x2F;up-grading interface speeds","hl_title":"Release notes","id":"5f8773f38ec90f25ee58586339ddf63bd8c00b92","path":"Release-notes.md","public":true,"repo":{"repository":{"id":18260375,"name":"crowbar","owner_id":7105573,"owner_login":"eryeru12","updated_at":"2014-03-24T13:14:45.969Z","has_issues":false}},"repo_id":18260375,"title":"Release notes","updated_at":"2012-11-08T09:25:35.000-08:00"},{"body":"\u003c style type=\"text/css\" \u003e ol{margin:0;padding:0}.c0{vertical-align:top;width:117pt;border-style:solid;background-color:#d3dfee;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c3{vertical-align:top;width:117pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c16{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c1{color:#365f91;background-color:#d3dfee}.c9{color:inherit;text-decoration:inherit}.c5{color:#1155cc;text-decoration:underline}.c19{font-size:18pt}.c14{font-family:\"Times New Roman\"}.c12{font-size:7pt}.c17{font-style:italic}.c18{text-decoration:underline}.c2{font-weight:bold}.c6{direction:ltr}.c10{border-collapse:collapse}.c4{color:#365f91}.c13{font-family:\"Courier New\"}.c11{color:#1f497d}.c7{font-size:24pt}.c8{height:11pt}.c15{font-size:10pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:\"Georgia\";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:\"Arial\"}p{color:#000000;font-size:11pt;margin:0;font-family:\"Arial\"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:\"Arial\";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:\"Arial\";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:\"Arial\";padding-bottom:2pt} \u003c /style \u003e JimC 1           Chef Title Comments Work Around Ref# Cannot use knife SSH on nodes that are waiting to be allocated. Allocate the node, to get it fully installed into the system prior to running Knife commands on it. 802 Node failed to find private key after reset. A node exhibits a problem state and the following message is displayed when running a chef-client on that node. FATAL: Chef::Exceptions::PrivateKeyMissing: I cannot read /etc/chef/validation.pem, which you told me to use to sign requests! Reboot the node or run /etc/init.d/crowbar_join.sh on the affected node. 828   2           Crowbar UI Title Comments Work Around Ref# IE7: Attribute edit textbox translates apostrophe into web safe ' Only on some browsers Upgrade to IE8 (or turn off IE7 compatibility) or Change to \\\" to correct 143 Connecting with HTTPS produces bad SSL message error HTTPS was not a target for the 1.0 release Reference the Crowbar UI by http:// not https:// 67, 162 Adding/Removing a role in Chef does not update the proposal. If Crowbar does not do the updating then it cannot be reflected in the proposal! Make changes for proposals in Crowbar 87 There is no way to completely delete a node Crowbar will remove many aspects of a node from the system, but does not delete all traces (such as IP allocation). Can result in lost IP allocations. No work around; however, it will be possible to identify lost IPs and recover. 166 Drag and drop is not enabled in IE8 Use “Raw” mode or see the User’s Guide for a list of supported browsers 617 Missing BMC Buttons after shutdown of node using \"Power Off Button\" After clicking Power Off button on a node, the other buttons under Node – Edit were missing. Run the following command:  ipmitool -H BMCIP -P crowbar -U crowbar power on 196 No logout from crowbar Close open browser windows to remove temporary cookies. 242 Nodes in “Ready Retrying” that are powered off stay flashing red in UI I had two nodes in ready retrying state and shut them down.  They stayed flashing “Ready Retrying” and not grey, “Unavailable” This indicates a failure to properly initialize the node. Troubleshoot the underlying problem by inspecting logs and then reinstall the node. If the node failure is permanent, delete the node from crowbar. 407 RAID setting on Node Details screen needs to reflect the actual configuration. The raid value for \"Disk Drives\" on the Node Details screen is not reflective of the actual RAID config. This value can be changed by editing the node RAID setting and clicking Save. 735 Incorrect privileges when using the crowbar user to issue IPMI commands. The crowbar user does not have the correct privileges to make changes to the IDRAC controller. Use the root user when issuing IPMI commands to the IDRAC 764 Switch View shows the virtual switches Ethernet ports that are on the machine may create views of non-existent switches. Ignore the non-existent switches in the switch view. 791 Team_mode is required for all conduits All bonded conduits, team_mode is required in the Network.json file. Within the conduit, team_mode is a required field. 815 Delete node does not delete Nagios and Ganglia instances. Nagios and Ganglia continue to monitor the deleted systems. Manually delete the nodes from Nagios and Ganglia using the vendors UI. 817 IPMI proposal editor doesn't have field for deployment of IPMI-discover role IPMI has 2 roles - IPMI-discover and IPMI -configure.  The proposal editor only has IPMI -configure in the deployment section. Use raw mode to edit. 819 Trying to re-apply IPMI proposal once nodes transitioned from discovered state fails:  No Hxxx node found. IPMI -discover role is used during discovery, meaning the hxxx nodes are added to the IPMI proposal. Later on, nodes get renamed to dxxx, but the IPMI proposal is not modified, and retains the hxxx nodes. Edit the IPMI proposal and remove any hXXX nodes from the deployment section (possibly switching to raw modem if the IPMI-discover role is not visible) or  make your edits to the IPMI proposal before any nodes have been allocated. 820 Log export attempts to include logs from nodes in Discovered state. Ignore zero length zips that are included in the main log zip. 826 Download of log export sometimes downloads incomplete archive in IE 8. Retry the download, or use a different browser such as IE9 or Chrome to download the log exports. 830 Ganglia not displaying graphs Seems to be when the IP address is in the URL If the URL uses the MAC address, you do see the graphs. 865 Intermittent - # disks show as -1 on admin node on VmWare On the Node Inventory report, the number of disks for a VMWare virtual admin node shows up as -1.  The virtual admin node actually has 2 disks. The admin node disks show up correctly in chef as /block_device/sda and sdb. 897 Reset Nodes after rediscover still has links for Nagios/Ganglia on Dashboard These links will be removed in next release. Do not access links after reset until reallocated. 899 3           Glance Title Comments Work Around Ref# Not logging the Glance commit to Admin node error.log or syslog This will be addressed in the Diablo release. Please review the Glance barclamp documentation for more information. Until then, look for glance-registry.log and glance-api.log in /var/log/glance on the glance server. 104, 85 4           Horizon Title Comments Work Around Ref# Horizon cannot be deployed without Nova - Internal Server Error - Dashboard with Swift only Deployment Failure to deploy Nova returns an Internal Server Error on the Dashboard. You must Deploy Nova when using Horizon 879 5           Install Title Comments Work Around Ref# Admin node BIOS, RAID, and customization requires Keyboard/Monitor to be available Work to apply Crowbar to Crowbar is planned, but did not make it into the initial the release. Get a KVM for admin node setup. Refer to \"Getting Started\" guide for specific settings. 102 Booted machine on network with \u003e 1 installed Crowbar creates conflicts between servers. Crowbar is a DHCP server, you cannot have two of them on the same network When installing a new Crowbar server, replace the old one instead of bringing it up on a different server. 151 Crowbar only supports 1 top level domain While it is possible to change the TLD, Crowbar UI assumes that there is only 1 TLD in numerous places. Only use 1 top level domain - Changing the bonding mode requires a reboot After changing the bonding I found that I had to reboot my nodes to get the new bond type to take. If changing the bonding mode, reboot your nodes. 474 The network barclamp dosesn't clean up vlan interface on node when switching from single to dual Deploy a swift storage node with network barclamp configured in single mode. Edit network barclamp proposal to switch to dual mode, and save \u0026 apply proposal. On a compute node, inspect ifconfig and notice that there are both: eth0.200 and eth1.200 Once the proposal has fully deployed, reboot the node to make the current active network configuration match the correctly created configuration files. 476 BIOS not updating from some version. Certain Versions cannot be updated to our current rev. 1.30 Please see the BIOS Firmware release notes to determine if you need to disable the BIOS Barclamp prior to updating any machines. 561 Modifying APT sources.list can break admin node Customers might modify the system configuration to add additional packages into crowbar.   This could cause chef-client execution to fail on the admin node (Which currently occurs on a regular basis), and render the admin node non-functional. It is highly recommended not to modify resources managed by crowbar.  If new packages are required, build a custom crowbar ISO and include the required packages in the build. 463 Nodes that are not managed by the admin are permitted to register with Chef I booted up the VM's and did not reset the boot sequence for network.  The nodes registered with Chef and admin.  Now I get an Error 500 page and see the nodes logging to the admin node their replication of swift. Inspect the chef UI to identify the offending nodes, and bring them onto crowbar (PXE boot to install standard image).  If the nodes are not to be managed by crowbar, either stop the chef-client daemon, or point it to the appropriate chef-server. 527 Swift fails if proxy installed on storage node It should be possible to install the swift-proxy on a swift storage node. Currently it fails. Do not install proxy on storage node. 846 Get \"volume group name already in use\" going from JBOD to RAID 10 (Admin node also) On Admin node a fast initialization of the existing Raid set and you will cause this.  Seems to happen when manually deleting RAID config the setting RAID to No Configuration in UI.  On install this error is occurring. Reboot node in question 855, 884 The Same IP on two adaptors after install is done with Team JSON After finishing a node installation ifconfig reveals that the primary IP is on both bond0 and eth2 Workaround: Rebooting node seems to clear this up. 877 Selecting Raw when drives sda/sdb/sdc are all mounted in use causes Nova to fail to deploy. Putting  nova-controller on a swift-storage node and setting  the volume mode to RAW causes  stack trace as it tried to manipulate the mounted file systems; this causes the barclamp to fail to deploy. Workaround:  Edit the barclamp and set the Nova - Volume to use Local.  ReApply. 900 OpenStack bonding network json doesn't support multi-speed Crowbar allows down/up-grading interface speeds relative to what is specified in the network json. The non-bonded network json does \"the right thing\".  The bonded one doesn't. Edit the Network JSON to use the proper Regex expression for the Ethernet. 901 Admin node, pre-install, has eth0 defined twice. Verify issue: cd etc/network/interfaces auto eth0 iface eth0 inet dhcp auto eth0 iface eth0 inet  static Although interface does not come up it is still accessible from the console and does not prevent installation. 903 Multijson encode is depricated - This error is on install of Admin node Errors in log file about MultiJson .encode is deprecated and will be removed  in the next major release. n/a 904 Should set more BIOS params for C2100 The following parameters are available on the C2100, but are not being set: \"Intel VT-d\", and \"SR-IOV Supported\" Manually Configure the Parameters in the BIOS 913 Redhat Network Warning during Install - CAP_SYS_MODULE Error in log: “Loading kernel module for a network device with CAP_SYS_MODULE (deprecated). Use CAP_NET_ADMIN and alias netdev-bond0 instead” Install continues on normally, no workaround needed. 915 raid-configure recipe rebuilds raid10 everytime (it seems) An R720 or R720xd will continuously loop on the install when there are only 3 or less drives. Follow the RA requirement to use the minimum number of drives of 6. 781 Can't install Mesa 1.3.1 on R720xd Two out of 3 R720xds are failing to install.   They just cycle from yellow to red “Problem”  after failing to install then continue to cycle again and again. Workaround is to manually delete all RAID sets. 952 BIOS setting on R720 causes node to fail to install I found if you uncheck one of the boot devices, in the Boot Order screen. Then you go into a hardware problem loop. Workaround is to enter the BIOS Bios Boot Order Screen Makes all devices are checked as bootable. 977 6220 IPMI  set password fails. root password remains root The new password is cr0wBar! for the IPMI root account Workaround is to edit the IPMI proposal before deploying any nodes, and ensure that a \"complex enough\" password is used. Use, symbols, digits and upper/lower case letters. 964 Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Workaround:  After installation should be done through ipmitool from command of admin node. 999 chef-client not running on admin node bluepill status showed that it was configured in bluepill. Workaround:  Reload it in to bluepill: ssh into admin node  sudo –i cd /etc/bluepill bluepill chef-client-stop bluepill load chef-client.pill 1003 Resetting and then allocating goes through two OS installs. Afterwards, it comes up fine, just takes a bit longer now. n/a 842 Client nodes lose contact with admin following allocation when both 1G and 10G ports are connected. In the install, the client nodes would go from green to gray following allocation. Investigation showed that the nodes were switching from the 1G port to the 10G port during a chef-client run. Workaround:   Disconnect the 1G ports on the client nodes. 1004 720s in Hardware Installing reboot loop Had 3 720s with 10g Intel NICs.  All of these systems went into a reboot loop in Hardware Installing on manual allocation. Investigation showed that the NIC firmware installation failed to install and failed to verify.  Attempted firmware installation would then continue in a loop. The 10G devices are not updated with current release. System has excluded these updates for just intel-based NICs. 1005 6           Keystone Title Comments Work Around Ref# Modifying account info on an active proposal and reapplying does not work. User must make Keystone account changes before applying proposal. 581 Installing mysql + keystone- returns access denied when creating keystone database when proposals queued. Workaround:  On the node that has mysql server installed execute: rm /etc/mysql/applied_grants (this will reapply the required permissions to the mysql server) 861 7           Network Barclamp Title Comments Work Around Ref# Network barclamp libraries attempt to save nodes that aren't the running node. An error may show up in your logs for the Admin node.  “INFO: HTTP Request Returned 403 Forbidden: You are not the correct node (auth_user name: admin.phone.com,”  This is benign and can be ignored. Ignore the log message 837 Deployment guide: JSON path is incorrect Page 9 lists the JSON at - /opt/dell/chef/data_bags/crowbar/bc-template-network.json Should be: /opt/dell/barclamps/network/chef... 929 8           Nova Title Comments Work Around Ref# Nova failed to install with specific config Network proposal - \u003e Nova fixed = 192.168.123.0 as a subnet and 255.255.255.0 as a mask Nova proposal - \u003e num_networks =2 and network_size = 256 The size of nova_fixed in the network proposal must be the same size as the nova proposal (num * size). 482 euca2ools not installed by default on fresh nova deploy I had to manually install euca2ools to try to query and manipulate images and VMs via the command line. Use alternative methods to achieve the same capabilities: Dashboard Nova-manage commands 518 Nova barclamp uses 1st Glance server found The Nova barclamp allows the user to select a Glance proposal to use.  But code uses the first one found.   This server may or may not be in the selected Glance proposal.  This can cause issues if there are multiple Glance proposals created. The Glance server used should be from the Glance proposal selected in the Nova create/edit form. 868 Somtimes get MySQL connect error on dashboard OperationalError) (2006, 'MySQL server has gone away' It will clear if you refresh the page a couple of times. 487 Libvirt error when trying to mount ISCSI volumes See: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/996840 Currently a manual patch by Dell 875 Nova-Volume Raw Select first disk does not use the physical first disk Nova-Volume will use the first volume and not the first physical drive 936 9           OpenStack Title Comments Work Around Ref# OpenStack servers listen on 0.0.0.0 Most servers listen to all local IP addresses n/a 859 10          RAID Title Comments Work Around Ref# WSMAN/RAID - Clearing config requires cold boot for JBOD to work. After clearing controller configuration at start you need to cold boot the box in order for JBOD to successfully install.   Cold boot box (in iDrac just click on \"Power Cycle System (cold boot)\" link) 844 11          Swift Title Comments Work Around Ref# Swift with multiple proxies breaks Currently not supported by Swift recipes in Crowbar Utilize single proxy 158 Swift does not always start after initial proposal commit. Memcachd is not starting up Occurs occasionally after the system is first installed. This only occurs during initial install. Reboot the Swift Proxy node. The installation will continue successfully 24 Not all swift ring parameters updated Some are:  # of replicas # of zones.  While some should never been updated (e.g. cluster hash) all ring parameters should allow dynamic modifications. Note that manual changes to the ring do take effect. 622 Creating Swift proposal before Keystone causes Swift install to hang Creating Swift before Keystone causes Swift to refer to blank Keystone instance. Delete Swift proposal and create a new one AFTER creating keystone proposal 1027 12     Errata 12.1     Nova Volume Setup ·           If you are planning on running the multi-volume role on the controller, your option for type of volume will default to Local, as the controller must be configured for RAID10.   ·           If you are planning on running the multi-volume role on a node/nodes other than the controller, and you want your volume type to use “Raw” disk selection, you must manually allocate the node BEFORE applying the Nova proposal.   (The Nova proposal will automatically configure the multi-volume node to be RAID10 if the node is in the unallocated state when applying the proposal, and therefore negates any Raw/disk selection settings . )   Steps to take if planning to run multi-volume on node other than the controller: o     On the system where you want multi-volume to run, edit the node set the RAID to JBOD, and BIOS = Virtualization o     Allocate the node and wait for it to go into the Ready state o     Create a Nova proposal o     Edit the proposal o     Drag the node that you manually allocated to multi-volume role o     Under the Volume Options section, you have the option to select the type of volume, Raw or Local and will see a display of disks you can select for nova-volume storage.   The user should be aware of this before applying Nova, since once it ’s applied, your option to change is gone unless you re-build.  ","filename":"Release-notes.md","format":"markdown","hl_body":" deploy. Workaround:  Edit the barclamp and set the \u003cem\u003eNova\u003c/em\u003e - Volume to use Local.  ReApply. 900 \u003cem\u003eOpenStack\u003c/em\u003e bonding network json doesn\u0026#x27;t support multi-speed Crowbar allows down\u0026#x2F;up-grading interface speeds","hl_title":"Release notes","id":"f222be72e4484000442c4c1706bb1de5fa813582","path":"Release-notes.md","public":true,"repo":{"repository":{"id":5368718,"name":"crowbar","owner_id":1816130,"owner_login":"MirantisDellCrowbar","updated_at":"2014-04-23T07:34:10.999Z","has_issues":false}},"repo_id":5368718,"title":"Release notes","updated_at":"2012-11-08T09:25:35.000-08:00"},{"body":"\u003c style type=\"text/css\" \u003e ol{margin:0;padding:0}.c0{vertical-align:top;width:117pt;border-style:solid;background-color:#d3dfee;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c3{vertical-align:top;width:117pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c16{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c1{color:#365f91;background-color:#d3dfee}.c9{color:inherit;text-decoration:inherit}.c5{color:#1155cc;text-decoration:underline}.c19{font-size:18pt}.c14{font-family:\"Times New Roman\"}.c12{font-size:7pt}.c17{font-style:italic}.c18{text-decoration:underline}.c2{font-weight:bold}.c6{direction:ltr}.c10{border-collapse:collapse}.c4{color:#365f91}.c13{font-family:\"Courier New\"}.c11{color:#1f497d}.c7{font-size:24pt}.c8{height:11pt}.c15{font-size:10pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:\"Georgia\";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:\"Arial\"}p{color:#000000;font-size:11pt;margin:0;font-family:\"Arial\"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:\"Arial\";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:\"Arial\";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:\"Arial\";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:\"Arial\";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:\"Arial\";padding-bottom:2pt} \u003c /style \u003e JimC 1           Chef Title Comments Work Around Ref# Cannot use knife SSH on nodes that are waiting to be allocated. Allocate the node, to get it fully installed into the system prior to running Knife commands on it. 802 Node failed to find private key after reset. A node exhibits a problem state and the following message is displayed when running a chef-client on that node. FATAL: Chef::Exceptions::PrivateKeyMissing: I cannot read /etc/chef/validation.pem, which you told me to use to sign requests! Reboot the node or run /etc/init.d/crowbar_join.sh on the affected node. 828   2           Crowbar UI Title Comments Work Around Ref# IE7: Attribute edit textbox translates apostrophe into web safe ' Only on some browsers Upgrade to IE8 (or turn off IE7 compatibility) or Change to \\\" to correct 143 Connecting with HTTPS produces bad SSL message error HTTPS was not a target for the 1.0 release Reference the Crowbar UI by http:// not https:// 67, 162 Adding/Removing a role in Chef does not update the proposal. If Crowbar does not do the updating then it cannot be reflected in the proposal! Make changes for proposals in Crowbar 87 There is no way to completely delete a node Crowbar will remove many aspects of a node from the system, but does not delete all traces (such as IP allocation). Can result in lost IP allocations. No work around; however, it will be possible to identify lost IPs and recover. 166 Drag and drop is not enabled in IE8 Use “Raw” mode or see the User’s Guide for a list of supported browsers 617 Missing BMC Buttons after shutdown of node using \"Power Off Button\" After clicking Power Off button on a node, the other buttons under Node – Edit were missing. Run the following command:  ipmitool -H BMCIP -P crowbar -U crowbar power on 196 No logout from crowbar Close open browser windows to remove temporary cookies. 242 Nodes in “Ready Retrying” that are powered off stay flashing red in UI I had two nodes in ready retrying state and shut them down.  They stayed flashing “Ready Retrying” and not grey, “Unavailable” This indicates a failure to properly initialize the node. Troubleshoot the underlying problem by inspecting logs and then reinstall the node. If the node failure is permanent, delete the node from crowbar. 407 RAID setting on Node Details screen needs to reflect the actual configuration. The raid value for \"Disk Drives\" on the Node Details screen is not reflective of the actual RAID config. This value can be changed by editing the node RAID setting and clicking Save. 735 Incorrect privileges when using the crowbar user to issue IPMI commands. The crowbar user does not have the correct privileges to make changes to the IDRAC controller. Use the root user when issuing IPMI commands to the IDRAC 764 Switch View shows the virtual switches Ethernet ports that are on the machine may create views of non-existent switches. Ignore the non-existent switches in the switch view. 791 Team_mode is required for all conduits All bonded conduits, team_mode is required in the Network.json file. Within the conduit, team_mode is a required field. 815 Delete node does not delete Nagios and Ganglia instances. Nagios and Ganglia continue to monitor the deleted systems. Manually delete the nodes from Nagios and Ganglia using the vendors UI. 817 IPMI proposal editor doesn't have field for deployment of IPMI-discover role IPMI has 2 roles - IPMI-discover and IPMI -configure.  The proposal editor only has IPMI -configure in the deployment section. Use raw mode to edit. 819 Trying to re-apply IPMI proposal once nodes transitioned from discovered state fails:  No Hxxx node found. IPMI -discover role is used during discovery, meaning the hxxx nodes are added to the IPMI proposal. Later on, nodes get renamed to dxxx, but the IPMI proposal is not modified, and retains the hxxx nodes. Edit the IPMI proposal and remove any hXXX nodes from the deployment section (possibly switching to raw modem if the IPMI-discover role is not visible) or  make your edits to the IPMI proposal before any nodes have been allocated. 820 Log export attempts to include logs from nodes in Discovered state. Ignore zero length zips that are included in the main log zip. 826 Download of log export sometimes downloads incomplete archive in IE 8. Retry the download, or use a different browser such as IE9 or Chrome to download the log exports. 830 Ganglia not displaying graphs Seems to be when the IP address is in the URL If the URL uses the MAC address, you do see the graphs. 865 Intermittent - # disks show as -1 on admin node on VmWare On the Node Inventory report, the number of disks for a VMWare virtual admin node shows up as -1.  The virtual admin node actually has 2 disks. The admin node disks show up correctly in chef as /block_device/sda and sdb. 897 Reset Nodes after rediscover still has links for Nagios/Ganglia on Dashboard These links will be removed in next release. Do not access links after reset until reallocated. 899 3           Glance Title Comments Work Around Ref# Not logging the Glance commit to Admin node error.log or syslog This will be addressed in the Diablo release. Please review the Glance barclamp documentation for more information. Until then, look for glance-registry.log and glance-api.log in /var/log/glance on the glance server. 104, 85 4           Horizon Title Comments Work Around Ref# Horizon cannot be deployed without Nova - Internal Server Error - Dashboard with Swift only Deployment Failure to deploy Nova returns an Internal Server Error on the Dashboard. You must Deploy Nova when using Horizon 879 5           Install Title Comments Work Around Ref# Admin node BIOS, RAID, and customization requires Keyboard/Monitor to be available Work to apply Crowbar to Crowbar is planned, but did not make it into the initial the release. Get a KVM for admin node setup. Refer to \"Getting Started\" guide for specific settings. 102 Booted machine on network with \u003e 1 installed Crowbar creates conflicts between servers. Crowbar is a DHCP server, you cannot have two of them on the same network When installing a new Crowbar server, replace the old one instead of bringing it up on a different server. 151 Crowbar only supports 1 top level domain While it is possible to change the TLD, Crowbar UI assumes that there is only 1 TLD in numerous places. Only use 1 top level domain - Changing the bonding mode requires a reboot After changing the bonding I found that I had to reboot my nodes to get the new bond type to take. If changing the bonding mode, reboot your nodes. 474 The network barclamp dosesn't clean up vlan interface on node when switching from single to dual Deploy a swift storage node with network barclamp configured in single mode. Edit network barclamp proposal to switch to dual mode, and save \u0026 apply proposal. On a compute node, inspect ifconfig and notice that there are both: eth0.200 and eth1.200 Once the proposal has fully deployed, reboot the node to make the current active network configuration match the correctly created configuration files. 476 BIOS not updating from some version. Certain Versions cannot be updated to our current rev. 1.30 Please see the BIOS Firmware release notes to determine if you need to disable the BIOS Barclamp prior to updating any machines. 561 Modifying APT sources.list can break admin node Customers might modify the system configuration to add additional packages into crowbar.   This could cause chef-client execution to fail on the admin node (Which currently occurs on a regular basis), and render the admin node non-functional. It is highly recommended not to modify resources managed by crowbar.  If new packages are required, build a custom crowbar ISO and include the required packages in the build. 463 Nodes that are not managed by the admin are permitted to register with Chef I booted up the VM's and did not reset the boot sequence for network.  The nodes registered with Chef and admin.  Now I get an Error 500 page and see the nodes logging to the admin node their replication of swift. Inspect the chef UI to identify the offending nodes, and bring them onto crowbar (PXE boot to install standard image).  If the nodes are not to be managed by crowbar, either stop the chef-client daemon, or point it to the appropriate chef-server. 527 Swift fails if proxy installed on storage node It should be possible to install the swift-proxy on a swift storage node. Currently it fails. Do not install proxy on storage node. 846 Get \"volume group name already in use\" going from JBOD to RAID 10 (Admin node also) On Admin node a fast initialization of the existing Raid set and you will cause this.  Seems to happen when manually deleting RAID config the setting RAID to No Configuration in UI.  On install this error is occurring. Reboot node in question 855, 884 The Same IP on two adaptors after install is done with Team JSON After finishing a node installation ifconfig reveals that the primary IP is on both bond0 and eth2 Workaround: Rebooting node seems to clear this up. 877 Selecting Raw when drives sda/sdb/sdc are all mounted in use causes Nova to fail to deploy. Putting  nova-controller on a swift-storage node and setting  the volume mode to RAW causes  stack trace as it tried to manipulate the mounted file systems; this causes the barclamp to fail to deploy. Workaround:  Edit the barclamp and set the Nova - Volume to use Local.  ReApply. 900 OpenStack bonding network json doesn't support multi-speed Crowbar allows down/up-grading interface speeds relative to what is specified in the network json. The non-bonded network json does \"the right thing\".  The bonded one doesn't. Edit the Network JSON to use the proper Regex expression for the Ethernet. 901 Admin node, pre-install, has eth0 defined twice. Verify issue: cd etc/network/interfaces auto eth0 iface eth0 inet dhcp auto eth0 iface eth0 inet  static Although interface does not come up it is still accessible from the console and does not prevent installation. 903 Multijson encode is depricated - This error is on install of Admin node Errors in log file about MultiJson .encode is deprecated and will be removed  in the next major release. n/a 904 Should set more BIOS params for C2100 The following parameters are available on the C2100, but are not being set: \"Intel VT-d\", and \"SR-IOV Supported\" Manually Configure the Parameters in the BIOS 913 Redhat Network Warning during Install - CAP_SYS_MODULE Error in log: “Loading kernel module for a network device with CAP_SYS_MODULE (deprecated). Use CAP_NET_ADMIN and alias netdev-bond0 instead” Install continues on normally, no workaround needed. 915 raid-configure recipe rebuilds raid10 everytime (it seems) An R720 or R720xd will continuously loop on the install when there are only 3 or less drives. Follow the RA requirement to use the minimum number of drives of 6. 781 Can't install Mesa 1.3.1 on R720xd Two out of 3 R720xds are failing to install.   They just cycle from yellow to red “Problem”  after failing to install then continue to cycle again and again. Workaround is to manually delete all RAID sets. 952 BIOS setting on R720 causes node to fail to install I found if you uncheck one of the boot devices, in the Boot Order screen. Then you go into a hardware problem loop. Workaround is to enter the BIOS Bios Boot Order Screen Makes all devices are checked as bootable. 977 6220 IPMI  set password fails. root password remains root The new password is cr0wBar! for the IPMI root account Workaround is to edit the IPMI proposal before deploying any nodes, and ensure that a \"complex enough\" password is used. Use, symbols, digits and upper/lower case letters. 964 Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Installed an admin node on an R720 and discovered 3 more R720s and 3 R720xds.  The DRAC password was correctly set to cr0wBar! on the client nodes, but was incorrectly set to crowbar on the admin node. Workaround:  After installation should be done through ipmitool from command of admin node. 999 chef-client not running on admin node bluepill status showed that it was configured in bluepill. Workaround:  Reload it in to bluepill: ssh into admin node  sudo –i cd /etc/bluepill bluepill chef-client-stop bluepill load chef-client.pill 1003 Resetting and then allocating goes through two OS installs. Afterwards, it comes up fine, just takes a bit longer now. n/a 842 Client nodes lose contact with admin following allocation when both 1G and 10G ports are connected. In the install, the client nodes would go from green to gray following allocation. Investigation showed that the nodes were switching from the 1G port to the 10G port during a chef-client run. Workaround:   Disconnect the 1G ports on the client nodes. 1004 720s in Hardware Installing reboot loop Had 3 720s with 10g Intel NICs.  All of these systems went into a reboot loop in Hardware Installing on manual allocation. Investigation showed that the NIC firmware installation failed to install and failed to verify.  Attempted firmware installation would then continue in a loop. The 10G devices are not updated with current release. System has excluded these updates for just intel-based NICs. 1005 6           Keystone Title Comments Work Around Ref# Modifying account info on an active proposal and reapplying does not work. User must make Keystone account changes before applying proposal. 581 Installing mysql + keystone- returns access denied when creating keystone database when proposals queued. Workaround:  On the node that has mysql server installed execute: rm /etc/mysql/applied_grants (this will reapply the required permissions to the mysql server) 861 7           Network Barclamp Title Comments Work Around Ref# Network barclamp libraries attempt to save nodes that aren't the running node. An error may show up in your logs for the Admin node.  “INFO: HTTP Request Returned 403 Forbidden: You are not the correct node (auth_user name: admin.phone.com,”  This is benign and can be ignored. Ignore the log message 837 Deployment guide: JSON path is incorrect Page 9 lists the JSON at - /opt/dell/chef/data_bags/crowbar/bc-template-network.json Should be: /opt/dell/barclamps/network/chef... 929 8           Nova Title Comments Work Around Ref# Nova failed to install with specific config Network proposal - \u003e Nova fixed = 192.168.123.0 as a subnet and 255.255.255.0 as a mask Nova proposal - \u003e num_networks =2 and network_size = 256 The size of nova_fixed in the network proposal must be the same size as the nova proposal (num * size). 482 euca2ools not installed by default on fresh nova deploy I had to manually install euca2ools to try to query and manipulate images and VMs via the command line. Use alternative methods to achieve the same capabilities: Dashboard Nova-manage commands 518 Nova barclamp uses 1st Glance server found The Nova barclamp allows the user to select a Glance proposal to use.  But code uses the first one found.   This server may or may not be in the selected Glance proposal.  This can cause issues if there are multiple Glance proposals created. The Glance server used should be from the Glance proposal selected in the Nova create/edit form. 868 Somtimes get MySQL connect error on dashboard OperationalError) (2006, 'MySQL server has gone away' It will clear if you refresh the page a couple of times. 487 Libvirt error when trying to mount ISCSI volumes See: https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/996840 Currently a manual patch by Dell 875 Nova-Volume Raw Select first disk does not use the physical first disk Nova-Volume will use the first volume and not the first physical drive 936 9           OpenStack Title Comments Work Around Ref# OpenStack servers listen on 0.0.0.0 Most servers listen to all local IP addresses n/a 859 10          RAID Title Comments Work Around Ref# WSMAN/RAID - Clearing config requires cold boot for JBOD to work. After clearing controller configuration at start you need to cold boot the box in order for JBOD to successfully install.   Cold boot box (in iDrac just click on \"Power Cycle System (cold boot)\" link) 844 11          Swift Title Comments Work Around Ref# Swift with multiple proxies breaks Currently not supported by Swift recipes in Crowbar Utilize single proxy 158 Swift does not always start after initial proposal commit. Memcachd is not starting up Occurs occasionally after the system is first installed. This only occurs during initial install. Reboot the Swift Proxy node. The installation will continue successfully 24 Not all swift ring parameters updated Some are:  # of replicas # of zones.  While some should never been updated (e.g. cluster hash) all ring parameters should allow dynamic modifications. Note that manual changes to the ring do take effect. 622 Creating Swift proposal before Keystone causes Swift install to hang Creating Swift before Keystone causes Swift to refer to blank Keystone instance. Delete Swift proposal and create a new one AFTER creating keystone proposal 1027 12     Errata 12.1     Nova Volume Setup ·           If you are planning on running the multi-volume role on the controller, your option for type of volume will default to Local, as the controller must be configured for RAID10.   ·           If you are planning on running the multi-volume role on a node/nodes other than the controller, and you want your volume type to use “Raw” disk selection, you must manually allocate the node BEFORE applying the Nova proposal.   (The Nova proposal will automatically configure the multi-volume node to be RAID10 if the node is in the unallocated state when applying the proposal, and therefore negates any Raw/disk selection settings . )   Steps to take if planning to run multi-volume on node other than the controller: o     On the system where you want multi-volume to run, edit the node set the RAID to JBOD, and BIOS = Virtualization o     Allocate the node and wait for it to go into the Ready state o     Create a Nova proposal o     Edit the proposal o     Drag the node that you manually allocated to multi-volume role o     Under the Volume Options section, you have the option to select the type of volume, Raw or Local and will see a display of disks you can select for nova-volume storage.   The user should be aware of this before applying Nova, since once it ’s applied, your option to change is gone unless you re-build.  ","filename":"Release-notes.md","format":"markdown","hl_body":" deploy. Workaround:  Edit the barclamp and set the \u003cem\u003eNova\u003c/em\u003e - Volume to use Local.  ReApply. 900 \u003cem\u003eOpenStack\u003c/em\u003e bonding network json doesn\u0026#x27;t support multi-speed Crowbar allows down\u0026#x2F;up-grading interface speeds","hl_title":"Release notes","id":"2cc114d3b814a79ea3c6e67979f942f9301e8bad","path":"Release-notes.md","public":true,"repo":{"repository":{"id":4599547,"name":"crowbar","owner_id":1770093,"owner_login":"vinayakponangi","updated_at":"2012-06-06T20:34:48.000Z","has_issues":false}},"repo_id":4599547,"title":"Release notes","updated_at":"2012-11-08T09:25:35.000-08:00"},{"body":"Contents 1.0 Introduction 1.1 Overview 1.2 The Chain of Trust 2.0 Intel ® Cloud Integrity Technology Architecture 3.0 Intel ® Cloud Integrity Technology Components 3.1 Attestation Server 3.2 Key Broker Service 3.3 Key Broker Proxy 3.4 Trust Director 3.5 Trust Agent 3.6 OpenStack Plugins 3.7 Attestation Reporting Hub 4.0 Intel ® Cloud Integrity Technology Setup 4.1 Installing the Attestation Server 4.1.1 Installation Prerequisites 4.1.2 Package Dependencies 4.1.3 Installation 4.2 Installing the OpenStack Controller Extensions 4.2.1 Prerequisites 4.2.2 Minimum Requirements 4.2.3 Extension Dependencies 4.2.4 Installation 4.3 Installing the Key Broker Service 4.3.1 Prerequisites 4.3.2 Minimum Requirements 4.3.3 Package Dependencies 4.3.4 Installation 4.4 Installing the Key Broker Proxy (KMS Proxy) 4.4.1 Prerequisites 4.4.2 Minimum Requirements 4.4.3 Package Dependencies 4.4.4 Installation 4.5 Installing the Trust Director 4.5.1 Prerequisites 4.5.2 Minimum Requirements 4.5.3 Recommended Hardware 4.5.4 Package Dependencies 4.5.5 Installation 4.6 Installing the Trust Agent - Linux 4.6.1 Package Dependencies 4.6.2 Supported Operating Systems 4.6.3 Prerequisites 4.6.4 Installation 4.7\tInstalling the Trust Agent - Windows 4.7.1 Package Dependencies 4.7.2 Supported Operating Systems 4.7.3 Prerequisites 4.7.4 Installation 5.0 Host Attestation 5.1 Overview 5.2 Extending Host Attestation 5.3 Required Components 5.4 Importing Whitelist Values 5.5 Host Registration 5.5.1 Registering Multiple Hosts Using a Flat File 5.5.2 Registering a Host Individually 5.6 Host Attestation 5.6.1 Remediation of Untrusted Attestations 6.0 Image Integrity (VM and Docker) 6.1 Required Components 6.2 Creating the Image Trust Policy (VM and Docker container) 6.3 Hash Only 6.4 Hash and Enforce 6.5 VM Migrations 6.6 VM Snapshots 6.7 Shared Storage 6.8 VM and Docker Attestation 6.9 Workflow Example #1 – VM images 6.10\tWorkflow Example #2 – Docker container images (Uploaded Images to Trust Director or Downloaded from Docker hub) 7.0 Image Privacy 7.1 Required Components 7.2 VM Migrations 7.3 VM Snapshots 7.4 Shared Storage 7.5 Encrypting an Image 7.6 Launching an Instance of an Encrypted Image 7.6.1 VM Encryption for Microsoft Windows Compute Nodes 7.7 Workflow Example for a Virtual Machine 8.0 PCR Definitions 8.1 TPM 1.2 8.2 TPM 2.0 8.3 MLE Administration 8.4 TLS Policy Overview 8.4.1 TLS Policy Types 8.4.2 Policy Scope 8.4.3 Default Policy Selection 8.4.4 Legacy Behavior 8.5 Asset Tags 8.5.1 Prerequisites 8.5.2 Asset Tag Provisioning Workflow 8.5.3 Asset Tag Provisioning Modes 8.5.4 Tags and Selections 8.5.5 Asset Tag Provisioning 8.5.5.1 Push Provisioning 8.5.5.2 Pull Provisioning 8.5.5.3 Creating an XML file for Asset Tag Provisioning 8.5.5.4 Encrypting the Asset Tag XML 8.5.5.5 Decrypting and Verifying the Selection XML File 8.5.5.6 Provisioning Usage 8.6 Database Configuration for Remote Database Servers 8.7 Password Guidelines 8.7.1 Changing the Database Password 8.8 Trust Policies 8.8.1 Choosing Files for Measurement 8.8.2 Creating a Trust Policy 8.8.2.1 Creating a Trust Policy for a Virtual Machine Image 8.8.2.2 Creating a Trust Policy for a Docker container Images 8.8.3 Downloading a Docker image from Docker Hub using Trust Director 8.8.4 Uploading a Docker image to Trust Director – Manual Upload 8.8.5 Uploading Image to Trust Director – Remote File Upload 8.8.6 Creating a Trust Policy for a Non-Virtualized Server 9.0 Whitelisting Guidelines 9.1 For BIOS MLEs: 9.2 For VMM/OS MLEs: 9.3 Encrypted Images 10.0 OpenStack Controller Changes 10.1 Horizon Changes 10.1.1 Library and Configuration Changes 10.1.2 Instance View Changes 10.1.3 Images Dashboard Changes 10.1.4 Attestation Service 10.1.5 Trust Agent 10.1.6 Trust Director 10.1.7 Attestation Reporting Hub 10.1.8 Key Management Service 10.1.8.1 Check Server Version 10.1.8.2 Check Server Status 10.1.8.3 Start and Stop the Server 10.1.8.4 Add, edit, or Remove User Permissions 10.1.8.5 List Users 10.1.8.6 Execute All Setup Tasks 10.1.8.7 Execute Specific Setup Tasks 10.1.8.8 Validate a Setup Task Without Executing It 10.1.8.9 Force Execution of a Setup Task Even if It is Already Validated 10.1.8.10 Continue Executing Subsequent Setup Tasks Even if One Fails 10.1.8.11 Setup Task Reference 10.1.8.12 Uninstall 10.1.8.13 Help 10.1.9 KMS Proxy 10.1.9.1 Check Server Version 10.1.9.2 Check Server Status 10.1.9.3 Start and Stop the Server 10.1.9.4 Execute All Setup Tasks 10.1.9.5 Execute Specific Setup Tasks 10.1.9.6 Validate a Setup Task Without Executing It 10.1.9.7 Force Execution of a Setup Task Even if It is Already Validated 10.1.9.8 Continue Executing Subsequent Setup Tasks Even if One Fails 10.1.9.9 Setup Task Reference 10.1.9.10 Uninstall 10.1.9.11 Help 10.1.10 Attestation Service 10.1.10.1 Check Server Version 10.1.10.2 Check Server Status 10.1.10.3 Start and Stop the Server 10.1.10.4 Change the Database Password and Update Configuration Files 10.1.10.5 Output Attestation Service SSH Key and SAML Certificate Fingerprints 10.1.10.6 Detect and Output Currently-Installed Version of and Installation Location Java 10.1.10.7 Detect and Output Currently-Installed Version and Installation Location of MySQL 10.1.10.8 Create a New MySQL SSL Certificate Authority 10.1.10.9 Detect and Output Currently Installed Version and installation location of Tomcat 10.1.10.10 Generate a New Tomcat SSL Certificate 10.1.10.11 Check the Status of the Tomcat Web Server 10.1.10.12 Backup and Restore All Keys, Certificates, and Secrets Used by the Attestation Service 10.1.10.13 Execute All Setup Tasks 10.1.10.14 Execute Specific Setup Tasks 10.1.10.15 Validate a Setup Task Without Executing It 10.1.10.16 Force Execution of a Setup Task Even if It is Already Validated 10.1.10.17 Continue Executing Subsequent Setup Tasks Even if One Fails 10.1.10.18 Uninstall 10.1.10.19 Help 10.1.11 Trust Agent 10.1.11.1 Start 10.1.11.2 Stop 10.1.11.3 Restart 10.1.11.4 Status 10.1.11.5 Version 10.1.11.6 Authorize 10.1.11.7 Setup 10.1.11.8 Uninstall 10.1.11.9 Help 10.1.12 Trust Director 10.1.12.1 Start 10.1.12.2 Stop 10.1.12.3 Restart 10.1.12.4 password-vault 10.1.12.5 director-envelope-key 10.1.12.6 director-envelope-key-registrationStart 10.1.12.7 Uninstall 10.1.12.8 Help 10.1.13 Attestation Reporting Hub 10.1.13.1 Start 10.1.13.2 Stop 10.1.13.3 Restart 10.1.13.4 password-vault 10.1.13.5 Uninstall 10.2 Installation and Configuration Options 10.2.1 Attestation Service 10.2.1.1 Installation Options 10.2.1.2 Configuration Options 10.2.1.3 Security Configuration 10.2.1.4 Encrypting Configuration Files 10.2.1.5 Changing the Database Password 10.2.2 Trust Agent 10.2.2.1 Trust Agent without OpenStack 10.2.2.2 Trust Agent for OpenStack Compute Node 10.2.2.3 OpenStack Compute Changes 10.2.2.4 Command-Line Options 10.2.3 Key Management Service 10.2.3.1 Installation Options 10.2.3.2 Configuration 10.2.3.3 Configuring the KMS to use an External Barbican or KMIP-Compliant Key Vault 10.2.3.4 Command-Line Options 10.2.4 KMS Proxy 10.2.4.1 Configuration 10.2.4.2 Command-Line Options 10.2.5 Trust Director 10.2.5.1 Setup 10.2.5.2 Configuration 10.2.6 OpenStack Controller 10.2.6.1 Setup 10.2.6.2 Configuration 10.2.7 Attestation Reporting Hub 10.3 High Availability Guidelines 10.3.1 Attestation Service 10.3.1.1 Prerequisites 10.3.1.2 Deployment Instructions 10.3.1.3 Failover 10.3.2 Key Management Service 10.3.3 Key Management Proxy 10.4 Nova Changes 10.4.1 Filter Code 10.5 OpenStack Compute Node Changes 11.0 Configuration 11.1 Directory Layout 11.1.1 Key Broker Service 11.1.1.1 Linux Directory Layout 11.1.1.2 Home Directory Layout 11.1.1.3 Custom Directory Layout 11.1.2 KMS Proxy 11.1.2.1 Linux Directory Layout 11.1.2.2 Home Directory Layout 11.1.2.3 Custom Directory Layout 12.0 Uninstallation 12.1 Attestation Service 12.2 Trust Agent 12.3 Trust Director 12.4 Key Broker Service 12.5 KMS Proxy 12.6 OpenStack Patches 12.7 Attestation Reporting Hub 13.0 Troubleshooting 13.1 Attestation Service 13.2 Key Management Service 13.3 KMS Proxy 13.4 Trust Agent 13.5 OpenStack Controller Extensions 13.6 Attestation Reporting Hub 14.0 Building OpenCIT from Source 14.1\tPreparing the Build Environment 14.1.1 Minimum Requirements 14.1.2 Installing the Required Packages 14.1.3 Installing the Java Development Kit (JDK) 14.1.4 Installing Apache Maven 14.1.5 Editing setting.xml 14.1.6 Modifying Environment Files 14.2 Intel ® CIT Source Code 14.2.1 Downloading the Source Code 14.2.2 Building the Source Code 14.3 Binary Locations 15.0 TXT/TPM Prerequisites and Activation 15.1 Trusted Boot Provisioning 16.0 Frequently Asked Questions 17.0 Sample Use Cases 17.1 Attesting Open vSwitch (OVS) 17.1.2 Configuration Steps 18.0 Known Issues and Errata 1.0 Introduction Intel ® Cloud Integrity Technology (Intel® CIT) extends a hardware-based Root of Trust up through the Cloud solution stack to ensure the privacy and integrity of Cloud platforms and workloads. 1.1 Overview Intel ® CIT secures Cloud-based workloads through workload placement, encryption, and launch control bound to the hardware-rooted Chain of Trust. By using Intel® Trusted Execution Technology (Intel® TXT) to measure server firmware and software components during system launch, serverconfigurations can b e verified against tampering. Extending this Chain of Trust, additional software components, hypervisors, virtual machines and now Docker containers can be similarly attested and verified. By encrypting workload images and tying the decryption key to server hardware using a Trusted Platform module, final control over where a virtual machine may or may not launch is given to the customer, preventing unauthorized access and enabling data sovereignty. 1.2 The Chain of Trust The Chain of Trust begins with Intel ® TXT, which acts as an unchanging hardware measurement agent, referred to as a hardware Root of Trust. By using Intel® TXT to measure software that in turn measures other software, a chain of trust can be established, where each step of the boot process measures the next step. Intel® CIT extends the concept of the “chain of trust” using a remote Attestation Service to verify the measured server components against previously-stored known-good measurements. While previous incarnations were only capable of measuring the BIOS, OS kernel, and hypervisor components, Intel® Cloud Integrity T echnology now adds to this capability, using administrator- customizable Trust Policies to define specific files and folders to be measured, both for bare-metal servers and for virtual machines, bringing the chain of trust beyond platform attestation and enabling application-level integrity verifica tion. Since each measurement is performed by a component that was itself measured by another component further down the chain, all the way to the hardware root of trust and remotely verified through the trust attestation process, Cloud adopters can be assured their workloads are run only on hardware and software that meets their criteria for security. 2.0 Intel ® Cloud Integrity Technology Architecture Figure 1 shows a component overview of Intel ® CIT architecture. Figure 1. Component Overview Figure 2 shows a more detailed overview of the architecture. Figure 2. Detailed Architecture Overview 3.0 Intel This section describes the various Intel 3.1 Attestation Server The Attestation Server component of Intel known-good values. The attested trust status of each server is used to make policy decisions for workload placement. As a server boots, Intel Trusted Platform Module (TPM). Each chain of trust component is measured, and these measurements are remotely verified using the Attestation Server. Known-good measurements for each of these components can be directly imported from a sample server, and additional software components can be measured using an administrator-defined Trust Policy (created using the Trust Director application). Each server to be attested is registered with the Attestation Server. This process includes setting the expected values for future attestations, and the generation of the Attestation Identity Key (AIK). The AIK is an asymmetric keypair generated by the host's Trusted Platform Module for the purpose of cryptographically securing attestation quotes for transmission to the Attestation Server. 3.2 Key Broker Service The key broker enables key distribution using platform trust to authorize key transfers. By retaining image decryption keys, unauthorized access can be prevented, even from within the Cloud Service Provider. The Key Broker Service (KMS) provides and retains encryption/decryption keys for virtual machine images. When a compute node requests the decryption key to launch an instance of an encrypted image, the KMS verifies the host's attestation from the Attestation Server, verifies all digital signatures, and retains final control over whether the decryption key is issued. If the server's attestation meets the policy requirements, the KMS issues a decryption key itself, wrapped using the AIK from the host that was attested, cryptographically ensuring that only the attested host can decrypt the requested image. The KMS is primarily a policy broker that analyzes key requests, decides how to respond, and wraps keys using the AIK-derived binding key. The Key Broker Service connects to a back-end 3rd Party KMIP-compliant key management service, like OpenStack Barbican, for key creation and vaulting services. 3.3 Key Broker Proxy The Key Broker Proxy (KMS Proxy) is a lightweight performance-enhancement service that limits the necessary communication between the Key Broker Server and the Cloud Service Provider components. The KMS Proxy receives the instance launch request for an encrypted image from the Trust Agent and requests an attestation for that host from the Attestation Service. The KMS Proxy then sends the request along with the signed SAML attestation to the appropriate Key Broker Service. 3.4 Trust Director The Trust Director application is used for the generation of VM image, Docker image, and non-virtualized server Trust Policies, and for the encryption of VM images using keys generated by the Key Management Service. The Trust Director requires access to mount the file system of a server or virtual machine image, allowing the user to select those files and folders to be included in the Trust Policy. Once the user defines the Policy, it is digitally signed by both the Trust Director and the Attestation Service. In the case of a virtual machine image, the Trust Policy is included in a tgz archive, and follows the image and all resulting instances as it is uploaded to OpenStack Glance. In the case of a physical server, the Trust Policy is copied to the server file system, where it acts as an extension of the files measured by the chain of trust, secured via remote attestation by the Attestation Service. 3.5 Trust Agent The Trust Agent resides on physical servers and enables both remote attestation and the extended chain of trust capabilities. The Agent maintains ownership of the server's Trusted Platform Module, allowing secure attestation quotes to be sent to the Attestation Service. The Trust Agent is also responsible for intercepting launch requests for encrypted images and Docker container images so that they can be decrypted before being sent to the hypervisor, as well as actual measurement of the virtual machine images themselves as they are launched. The Trust Agent is supported for Microsoft Windows Server 2012, Microsoft Hyper-V, Ubuntu and Red Hat Enterprise Linux (RHEL). Refer to Section 4.6.2 for specific versions supported. 3.6 OpenStack Plugins Several modifications are made to both the OpenStack controller and compute node components. These changes update the controller UI to display Cloud Integrity-related information and functions, and add a OpenStack plugins are supported for unmodified OpenStack deployments only. 3.7 Attestation Reporting Hub The Attestation Hub acts as a middle-man between the Attestation Service and one or more scheduler services (such as OpenStack), and \"pushes\" attestation information retrieved from the Attestation Service to one or more scheduler services according to an assignment of hosts to specific tenants.  In this way, Tenant A can receive attestation information for hosts that belong to Tenant A, but receive no information about hosts belonging to Tenant B.\nThe Attestation Hub serves to disassociate the process of retrieving attestations from actual scheduler queries, so that scheduler services can adhere to best practices and retain better performance.  The Attestation Hub will regularly query the CIT Attestation Service for SAML attestations for each host.  The Attestation Hub maintains only the most recent currently valid attestation for each host, and will refresh attestations when they would expire.  The Attestation Hub will verify the signature of the SAML attestation for each host assigned to a tenant, then parse the attestation status and asset tag information, and then will push the parsed key/value pairs to the plugin endpoints enabled. 4.0 Intel This section describes the installation and configuration steps for each component of the Intel 4.1 Installing the Attestation Server 4.1.1 Installation Prerequisites The Intel Supported Operating Systems: Ubuntu 14.04 Recommended Hardware: 2 vCPUs RAM: 4 GB Recommended; 2 GB Minimum 2 GB free space to install the Attestation Server services. Additional free space may be needed if the Attestation Server database will be located on the same disk (database space requirement is dependent on the number of managed servers and the frequency with which they will be attested). One network interface with network access to all managed servers. (Optional) One network interface for Asset Tag provisioning (only required for 4.1.2 Package Dependencies The Intel Monit (optional) Logback (optional) Apache Tomcat Java 8 JDK OpenSSL Postgres client and server 9.3 Unzip If they are not already installed, the Attestation Service installer attempts to install these packages automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update your repository package lists before installation. 4.1.3 Installation Figure 3 shows deployment scenarios for environments consisting of VMWare ESXi, Citrix XenServer, and Trust Agent servers. Depending on the individual deployment strategy, different deployment scenarios can also be considered. Figure 3. Deployment Scenarios Figure 4 shows the high-level procedure required to configure host attestation using Intel Figure 4. High-Level Procedure to Configure Host Attestation To install the Attestation Service, follow these steps: Copy the Attestation Service installation binary to the /root/ directory. Create the mtwilson.env installation answer file for an unattended installation. A sample minimal mtwilson.env file is provided next. For all configuration options and their descriptions, refer to Section 10.2.1 export INSTALL_PKGS=\"java logrotate tomcat postgres privacyca monit SERVICES PORTALS\" \nexport MTWILSON_SERVER= IP address or hostname for the Attestation Server export MTWILSON_API_BASEURL=\"https://${MTWILSON_SERVER}:8443/mtwilson/v1\" \nexport WEBSERVER_VENDOR=tomcat\nexport DATABASE_VENDOR=postgres \nexport DATABASE_PORTNUM=5432\nexport MC_FIRST_USERNAME=administrator \nexport MC_FIRST_PASSWORD=password \nexport TOMCAT_ADMIN_USERNAME=tomcatadmin\nexport TOMCAT_ADMIN_PASSWORD=setininstall \nexport PRIVACYCA_DOWNLOAD_USERNAME=pcaadmin \nexport PRIVACYCA_DOWNLOAD_PASSWORD=password\n#####################################################################################################\nexport MTWILSON_TLS_POLICY_ALLOW=certificate,certificate-digest,public-key,public-key- digest,TRUST_FIRST_CERTIFICATE\nexport MTWILSON_DEFAULT_TLS_POLICY_ID=TRUST_FIRST_CERTIFICATE\n#####################################################################################################\nexport LOG_ROTATION_PERIOD=daily export LOG_COMPRESS=compress\nexport LOG_DELAYCOMPRESS=delaycompress export LOG_COPYTRUNCATE=copytruncate \nexport LOG_SIZE=100M\nexport LOG_OLD=7\n##################################################################################################### \nexport JAVA_REQUIRED_VERSION=1.7.0_51\nexport MTWILSON_API_SSL_VERIFY_HOSTNAME=false \nexport DATABASE_HOSTNAME=127.0.0.1\nexport DATABASE_SCHEMA=mw_as \nexport DATABASE_USERNAME=root \nexport DATABASE_PASSWORD=password\n##################################################################################################### \nexport POSTGRES_REQUIRED_VERSION=9.3\nexport POSTGRES_HOSTNAME=${DATABASE_HOSTNAME} \nexport POSTGRES_PORTNUM=${DATABASE_PORTNUM} \nexport POSTGRES_DATABASE=${DATABASE_SCHEMA} \nexport POSTGRES_USERNAME=${DATABASE_USERNAME} \nexport POSTGRES_PASSWORD=${DATABASE_PASSWORD}\nexport ADD_POSTGRESQL_REPO=yes \nexport POSTGRESQL_KEEP_PGPASS=true\n##################################################################################################### \nexport TOMCAT_REQUIRED_VERSION=7.0\nexport TOMCAT_CREATE_SSL_CERT=yes\nexport TOMCAT_SSL_CERT_CN=${MTWILSON_SERVER},127.0.0.1 \nexport PRIVACYCA_SERVER=${MTWILSON_SERVER}\nexport INSTALLED_MARKER_FILE=/var/opt/intel/.mtwilsonInstalled \nexport INSTALL_LOG_FILE=/tmp/mtwilson-install.log\n#####################################################################################################\n# ASSET TAG Configuration\nexport MTWILSON_TAG_SERVER_PRIVATE=${MTWILSON_SERVER}\nexport TAG_PROVISION_EXTERNAL=false \nexport TAG_PROVISION_NOCACHE=true\nexport TAG_PROVISION_XML_ENCRYPTION_REQUIRED=false \nexport TAG_PROVISION_XML_PASSWORD=password\nexport MTWILSON_TAG_KEYSTORE=\"/opt/mtwilson/configuration/serverAtag.jks\" \nexport MTWILSON_TAG_KEYSTORE_PASSWORD=password\nexport MTWILSON_TAG_KEY_PASSWORD=password \nexport MTWILSON_TAG_CERT_IMPORT_AUTO=true \nexport TAG_PROVISION_XML_REQUIRED=false \nexport TAG_VALIDITY_SECONDS=31536000\nexport TAG_ISSUER_DN=\"CN=mtwilson-tag-ca\"\nexport MTWILSON_TAG_HTML5_DIR=\"/opt/mtwilson/share/apache-tomcat-7.0.34/webapps/mtwilson-portal/tag\" \nexport MTWILSON_TAG_ADMIN_USERNAME=tagadmin\nexport MTWILSON_TAG_ADMIN_PASSWORD=password Execute the installer binary. When the installation completes, the Attestation Service is available. If the web portal component was installed (recommended), the portal UI is now accessible at the following URL: https://[Attestation Server IP address]:8443/mtwilson-portal/index.html The services can also be verified by running mtwilson status from the Attestation Service command line. 4.2 Installing the OpenStack Controller Extensions 4.2.1 Prerequisites The following must be completed before installing the OpenStack Controller Extensions: OpenStack Mitaka release is supported. OpenStack Controller must be installed and running. The OpenStack Horizon and Nova services must be running on the same controller. The Attestation Service must be installed and running. The OpenStack controller must have a credentials file named /root/adminrc witht eh following contents: 4.2.2 Minimum Requirements Intel Mitaka\nRefer to the OpenStack documentation for OpenStack minimum requirements for specific releases. Note: Intel Open Cloud Integrity Technology currently supports only the base OpenStack community distribution versions. 4.2.3 Extension Dependencies The Intel OpenStack Horizon OpenStack Nova Note: If services are configured to run separately, the installation script requires modification. 4.2.4 Installation To install the Intel Create the mtwilson-openstack-controller.env installation answer file. A sample mtwilson-openstack-controller.env file is provided below. For all configuration options and their descriptions, refer to Section 10.2.6 . MTWILSON_SERVER= IP address or hostname for Attestation Service MTWILSON_SERVER_PORT=8443\nMTWILSON_ASSET_TAG_API_USERNAME= Attestation Service MTWILSON_TAG_ADMIN user MTWILSON_ASSET_TAG_API_PASSWORD= password Note: The username and password required by the OpenStack Controller Extensions can be satisfied by the MTWILSON_TAG_ADMIN user created during the installation of the Attestation Service. Copy the OpenStack Controller Extensions installation binary to the /root/ directory. Execute the OpenStack Controller Extensions installer. When the installation completes, the Horizon Dashboard should reflect the new Intel 4.3 Installing the Key Broker Service 4.3.1 Prerequisites The following must be completed before installing the Key Broker Service: Attestation Service server must be installed and active. (Choose Barbican or KMIP) Barbican service must be configured and available. (Choose Barbican or KMIP) KMIP service must be configured and available. 4.3.2 Minimum Requirements Following are the minimum requirements: Ubuntu 14.04 Minimum 512 MB RAM (1 GB recommended) Minimum 1 vCPU (virtual machines only) 1 GB free disk space 1 Network Interface with network access to the Trust Director 1 Network Interface with network access to the KMS Proxy 4.3.3 Package Dependencies The Intel Unzip Authbind If they are not already installed, the Key Broker installer attempts to install these automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update the repository package lists before installation. 4.3.4 Installation To install the Intel Copy the KMS installer binary to the /root/ directory Execute the KMS installer binary. From the KMS command line, run the following command to create the administrator account (replace admin and password with any username and password): kms password admin password --permissions *:* Run the following commands to configure the KMS endpoint URL: ifconfig\n    kms config endpoint.url http:// KMS IP kms restart (Optional, not required for KMIP key management) To use Barbican for key creation and vaulting services: kms config key.manager.provider com.intel.kms.barbican.client.BarbicanKeyManager kms config barbican.project.id Barbican Project ID kms config barbican.endpoint.url http://barbican.example.com:9311 kms config barbican.keystone.public.endpoint http://keystone.example.com:5000\nkms config barbican.tenant.name Tenant name kms config barbican.password Barbican password kms config barbican.username Barbican username kms restart (Optional, not required for Barbican key management) To use another KMIP-compliant application for key creation and vaulting services: kms config key.manager.provider com.intel.kms.kmip.client.KMIPKeyManager\nkms config kmip.targetHostname http://kmip.example.com: KMIP Port /KMIPWebAppServer/KMIPServlet kms restart Browse to the Attestation Service URL and log on. https://AttestationServiceIpAddress:8443/mtwilson-portal From the Attestation Service portal, browse to Administration View Certificates and click the Download Configuration Data Bundle link. This downloads an archive named databundle , containing Attestation Service certificates needed by the Key Broker (KMS). Log in to the Key Broker web UI (the URL is https://MyKmsIpAddress ) using the username and password configured in Step 4 . From KMS UI, select Settings More Settings Upload Settings . Click the Choose File button and select the databundle file downloaded from the Attestation Service in Step 8 . Click the Upload button to upload the configuration data bundle. 4.4 Installing the Key Broker Proxy (KMS Proxy) 4.4.1 Prerequisites The following must be completed before installing the Key Broker Proxy: Attestation Service server must be installed and active. Key Broker Service must be installed and active. 4.4.2 Minimum Requirements Ubuntu 14.04 Minimum 512 MB RAM (1 GB recommended) Minimum 1 vCPU (virtual machines only) 1 GB free disk space 1 Network Interface with network access to all Trust Agent servers and the Attestation Service 1 Network Interface with network access to the Key Broker Service (typically Internet/VPN) 4.4.3 Package Dependencies The Intel Unzip Authbind If they are not already installed, the KMS Proxy installer attempts to install these packages automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update the repository package lists before installation. 4.4.4 Installation To install the Key Broker Proxy, follow these steps: Create the kmsproxy.env installation answer file.\nA sample kmsproxy.env file is provided next. For full installation options and their descriptions, refer to Section 10.2.4 . MTWILSON_TLS_CERT_SHA256=\nMTWILSON_API_URL=https://:8443/mtwilson\nJETTY_PORT=8080\nJETTY_SECURE_PORT=8443 Note: The Attestation Service TLS certificate SHA256 can be found by running the following command on the Attestation Service server: mtwilson export-config --stdout |grep sha256 Copy the KMS Proxy installation binary to the /root/ directory. Run the KMS Proxy installation binary. After installation is complete, configure the KMS Proxy endpoint URL: kmsproxy config endpoint.url http:// KMSProxy IP Update the KMS Proxy Shiro configuration: kmsproxy setup shiro-ssl-port Restart the KMS Proxy services: kmsproxy restart Browse to the Attestation Service URL and log on using an administrative account. Browse to the Administration tab, then select Pending Requests . Select the kmsproxy user, then click Details . Select the Attestation and Challenger roles, then click Approve . 4.5 Installing the Trust Director 4.5.1 Prerequisites The following must be completed before installing the Trust Director: Attestation Service server must be installed and active. (Optional. Required only for VM Privacy use case) Key Management Service must be installed and active. (Optional. Required only for VM Privacy use case) KMS Proxy Service must be installed and active. 4.5.2 Minimum Requirements Ubuntu 14.04 Server (physical server or VM) Minimum 2 GB RAM Approximately 1 GB free disk space for the Trust Director application. Additional storage requirements depending on the number and size of images uploaded to the Trust Director. 4.5.3 Recommended Hardware 4 vCPUs RAM: 4GB Recommended 4.5.4 Package Dependencies The Intel 4.5.5\tInstallation To install the Trust Director Application, follow these steps: Create the director.env installation answer file. This file contains additional properties depending on the use cases. A sample director.env file is provided next (required for all use cases). For configuration options, refer to Section 10.2.5 . MTWILSON_USERNAME=\" Attestation Service user with Administrative rights \" \nMTWILSON_PASSWORD=\" Password for Attestation Service user with administrative rights \" \nMTWILSON_SERVER=\" Attestation Service Ip or Hostname \"\nMTWILSON_SERVER_PORT=\"8443\"\nDIRECTOR_ID=\" User-defined string used as an identifier; should be unique for each instance of Trust Director \"\n\nJAVA_KEYSTORE_PASSWORD=\" user-defined Java keystore password - default is changeit \"\nMTWILSON_API_URL=\"https:// Attestation Service IP or Hostname :8443/mtwilson/v2\" \nMTWILSON_TLS=\" SHA256 of Attestation Service TLS Certificate \"\n\n\nDIRECTOR_DB_NAME=\"director_data_pu\" \nDIRECTOR_DB_HOSTNAME=\"localhost\" \nDIRECTOR_DB_PORTNUM=\"5432\"\nDIRECTOR_DB_DRIVER=\"org.postgresql.Driver\" \nDIRECTOR_DB_USERNAME=\" Database username \" \nDIRECTOR_DB_PASSWORD=\" Database password \"\n\nDIRECTOR_VM_WHITELIST_HASH_TYPE=\"SHA256\"\nDIRECTOR_BAREMETAL_WHITELIST_HASH_TYPE=\"SHA1\" (Optional. Required only for Docker container use cases): DIRECTOR_DOCKER_WHITELIST_HASH_TYPE=\"SHA256\" (Optional. Required only for VM Integrity and VM Privacy use cases): TENANT_NAME=\" Tenant in OpenStack Glance \" \nGLANCE_API_ENDPOINT=\"https://glance.example.com:9292\"\nGLANCE_KEYSTONE_PUBLIC_ENDPOINT= Glance Username \" \nGLANCE_IMAGE_STORE_PASSWORD=\" Glance Password \" (Optional. Required only for VM Privacy use case): KMS_ENDPOINT_URL=\"https:// KMS IP or Hostname \" \nKMS_LOGIN_BASIC_USERNAME=\" KMS username \" \nKMS_LOGIN_BASIC_PASSWORD=\" KMS password \" \nKMS_TLS_POLICY_CERTIFICATE_SHA256=\" SHA256 of KMS TLS Certificate \" Note: The KMS_LOGIN_BASIC_USERNAME and password required by the Trust Director is the user created after installation of the KMS with the following command: kms password username password --permissions *:* The KMS TLS certificate SHA1 can be found in /opt/kms/configuration/https.properties . The KMS username and password are the username and password created by the kms password command after installing the KMS (see Section 4.3 ) Note: The Attestation Service TLS certificate SHA256 can be found by running the following command on the Attestation Service server: mtwilson export-config --stdout |grep sha256 Note: If SSL will be used for communication with Glance, the Glance SSL certificate must be first imported into the Java keystore on the Trust Director server.  Download the Glance SSL certificate to a file, and then use the following command to import the certificate into the keystore: keytool -import -trustcacerts -alias imagestore -file ssl.crt -keystore $JAVA_HOME/jre/lib/security/cacerts Copy the Trust Director installation binary to the /root/ directory. Execute the Trust Director installer. When prompted to create the supermin appliance by the installer, select yes . Create an administrative user for the Trust Director: director password username password --permissions *:* For example: director password admin password --permissions *:* Log on to the Trust Director* ( https://TrustDirectorIpOrHostname )* using the username and password configured in Step 4 . Integrating OpenStack Glance as External image store The External storage settings determine where the Trust Director will upload images, and must be configured before Docker and VM image Trust Policies can be uploaded. Navigate to the Settings menu and click on Configure External Storage Click on the Add External Storage button. Provide the External storage name and the connector. Names can only contain Select Glance as the connector. Check the boxes Image , Docker , Tarball then hit Next The next screen configures the URI and credential settings for OpenStack Horizon/Glance and Keystone. If your glance repository is set to private, set it to Private , otherwise set it to Public . Form name Possible values API Endpoint http://nova.server:9292 Authorization Endpoint http://keystone.server:5000 Tenant Name Tenant-a UserName TenantA-username Password Changeit Visibility Public OR Private After supplying the values, the settings can be tested by pressing the Test Connection button. Validation may take several seconds. Click Save to save the configuration settings. Proceed to the Section 8.8.2.1 or 8.8.2.2 4.6 Installing the Trust Agent - Linux 4.6.1 Package Dependencies The Intel trousers tboot tpm-quote-tools openssl make gcc If they are not already installed, the Trust Agent installer attempts to install these automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update the repository package lists before installation. 4.6.2 Supported Operating Systems The Intel 4.6.3 Prerequisites The following must be completed before installing the Trust Agent: (Optional, OpenStack deployments only) OpenStack Cloud Controller deployed and active. (Optional, OpenStack deployments only) OpenStack Compute Node resources installed and running. Supported server hardware including an Intel Trusted Platform Module installed and activated in the system BIOS, with cleared ownership status. System must be booted to a tboot boot option Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel Intel (Optional, required for Docker container use cases only) Docker-engine must be installed (supported versions: 1.10, 1.11, 1.12, 1.13) (Optional, required for Docker container use cases only) nova-Docker driver (Mitaka) 4.6.4 Installation To install the Intel (Required for non-OpenStack deployments only) Create the trustagent.env answer file in the /root/ directory (for configuration options, see Section 10.2.2 ) MTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \nMTWILSON_API_USERNAME= Attestation Service PrivacyCA username MTWILSON_API_PASSWORD= Attestation Service PrivacyCA password MTWILSON_TLS_CERT_SHA256= SHA1 of Attestation Service TLS Certificate REGISTER_TPM_PASSWORD=y\nMANIFEST_PATH=\"/boot/trust/manifest.xml\"\nGRUB_FILE=\" full path to the grub boot loader, grub.cfg \"  \nTRUSTAGENT_LOGIN_REGISTER=true Note: The MTWILSON_API_USERNAME and password required by the Trust Agent can be satisfied by the PRIVACYCA_DOWNLOAD_USERNAME user created during the installation of the Attestation Service. (Required for OpenStack deployments only) Create the mtwilson-openstack.env answer file in the /root/ directory (sample env file provided below; for full configuration options and their descriptions, refer to Section 10.2.2.2 ). MTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \nMTWILSON_API_USERNAME= Attestation Service administrative username MTWILSON_API_PASSWORD= Attestation Service administrative password MTWILSON_TLS_CERT_SHA256= SHA1 of Attestation Service TLS Certificate REGISTER_TPM_PASSWORD=y\nMANIFEST_PATH=\"/boot/trust/manifest.xml\"  \nGRUB_FILE=\" full path to the grub boot loader, rub.cfg \" \nKMSPROXY_SERVER=\" IP or hostname of KMS Proxy \" \nKMSPROXY_SERVER_PORT=\"8080\" \nTRUSTAGENT_LOGIN_REGISTER=true Note: The MTWILSON_API_USERNAME and password required by the Trust Agent can be satisfied by the PRIVACYCA_DOWNLOAD_USERNAME user created during the installation of the Attestation Service. (Required for Openstack Docker containers only) Create the mtwilson-openstack.env answer file in the /root/ directory (sample env file provided below; MTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \nMTWILSON_API_USERNAME= Attestation Service administrative username MTWILSON_API_PASSWORD= Attestation Service administrative password MTWILSON_TLS_CERT_SHA256= SHA1 of Attestation Service TLS Certificate REGISTER_TPM_PASSWORD=y\nMANIFEST_PATH=\"/boot/trust/manifest.xml\" \nGRUB_FILE=\" full path to the grub boot loader, grub.cfg \" \nTRUSTAGENT_LOGIN_REGISTER=true\nDEPLOYMENT_TYPE=\"docker\" Copy the Trust Agent installer binary to the /root/ directory. Note: There are separate Trust Agent installers for Ubuntu or Red Hat. Select the installer appropriate for your OS. Execute the Trust Agent installer, and wait for the installation to complete. Browse to the Trust Director ( https://TrustDirectorIpOrHostname ) to create the non-virtualized server Trust Policy. Select Trust Policy , then select Non-Virtualized Server and click Add New Policy . Provide a name for the new Trust Policy, as well as SSH details for the host that will be used to generate the Policy (root permissions are needed to browse the full file structure of the remote host). Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Files related to the Trust Agent are automatically selected for measurement on non-virtualized hosts; this is mandatory to preserve the Chain of Trust. For Docker containers, if you want to check the integrity of the Docker engine after every reboot, select the file /usr/bin/Docker as part of the manifest as shown below: Folders can be Once all required files and folders have been defined for the Trust Policy, click Next. The Trust Policy ( trustpolicy.xml and manifest.xml ) are created and placed in the /boot/trust directory on the host. To deploy the same Trust Policy to other hosts, click the provided Download link. The trustpolixy.xml and manifest.xml files are downloaded in a tgz archive, and can be provisioned to all hosts that will have identical measured files to the source host. A new GRUB boot option is created by the Trust Agent installer whose label begins with /etc/default/grub ) to use the TCB Protection option, and run update-grub (Ubuntu) or grub2-mkconfig /boot/grub/grub.cfg (RHEL) so the change takes effect. Reboot the server so that the Trust Policy is included in the server attestation measurements. This causes the new Trust Policy measurements to be calculated and extended to PCR 19 in the TPM. 4.7\tInstalling the Trust Agent - Windows 4.7.1\tPackage Dependencies The Intel cygwin64 must be installed. Microsoft Visual C++ 2010 Redistributable Microsoft Visual C++ 2013 Redistributable Java JDK 8 For the last three dependencies, If these are not already installed, the Trust Agent installer attempts to install them, which may require an Internet connection. 4.7.2 Supported Operating Systems The Intel Microsoft Windows Server 2012 Microsoft HyperV 2012 4.7.3 Prerequisites The following must be completed before installing the Trust Agent: Supported server hardware including an Intel Trusted Platform Module installed and activated in the system BIOS, with cleared ownership status. Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel Intel BitLocker must be activated. 4.7.4 Installation For Baremetal deployment This procedure describes the steps to install the CIT component on a Baremetal Windows. Before executing the installer, create the system.ini configuration file in the same folder than the mtwilson-openstack-trusted-node-windows-3.2-SNAPSHOT.exe file (sample system.ini file provided below). [COMMON]\n\n; if left blank then the default installation directory would be \"C:\\Program Files (x86)\\Intel\"\n\nINSTALLATIONTYPE=BM\n\nINSTALLATIONDIR=\n\n[TRUST_AGENT]\n\n; CIT server settings \n\nMTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \n\nMTWILSON_API_USERNAME= Attestation Service PrivacyCA username MTWILSON_API_PASSWORD= Attestation Service PrivacyCA password MTWILSON_TLS_CERT_SHA256= SHA256 of Attestation Service TLS Certificate Note: The MTWILSON_API_USERNAME and password required by the Trust Agent can be satisfied by the \tPRIVACYCA_DOWNLOAD_USERNAME user created during the installation of the Attestation Service. Execute the mtwilson-openstack-trusted-node-windows-3.2-SNAPSHOT.exe file. The CIT-Compute-Node Setup orchestrator installer will be displayed. This orchestrator will conduct the installation of all the CIT components required for the Windows host depending on the option set in the system.ini file. Click Next. The install location screen. Click Install. The Tbootxm Setup window will be displayed. Click Next and then in the next window Install.  A Microsoft Window will be displayed asking to restart the computer. NOTE: Do NOT click Restart Now. Click Restart Later. The installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing\nTbootxm Setup window will be displayed. Click Finish. The Intel CIT Trust Agent Setup window will be displayed saying the Microsoft Visual C++ package is not installed. Click OK. The required package will be installed then the Welcome to Intel CIT Trust Agent Setup window will be displayed. Click Next. The Checking Environment for Installation window will be displayed. Click Next. The Install Location window will be displayed. Click Next. The Setting up configuration window will be displayed. Click Install. After some minutes the installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing CIT Trust Agent Setup window will be displayed. Click Finish. Once this window disappears the Openstack-Extensions Setup installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Openstack-Extensions Setup window will be displayed. Click Finish. The CIT-Compute-Node Setup window will show the installation log and the Completed line. Make sure no errors are displayed in the log lines then click Next. The Completing CIT-Compute-Node Setup window will be displayed. Select the desired option, Reboot Now or I want to manually reboot later, and then click  Finish. Note: A reboot is required before start using the CIT components already installed. For VM Attestation deployment This procedure describes the steps to install the CIT component on a Windows compute node already attached to an Openstack controller. Before executing the installer, create the system.ini configuration file in the same folder than the mtwilson-openstack-trusted-node-windows-3.2-SNAPSHOT.exe file (sample system.ini file provided below). [COMMON]\n\n; if left blank then the default installation directory would be \"C:\\Program Files (x86)\\Intel\"\n\nINSTALLATIONTYPE=VM\n\nINSTALLATIONDIR=\n\n[TRUST_AGENT]\n\n; CIT server settings \n\nMTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \n\nMTWILSON_API_USERNAME= Attestation Service PrivacyCA username MTWILSON_API_PASSWORD= Attestation Service PrivacyCA password MTWILSON_TLS_CERT_SHA256= SHA256 of Attestation Service TLS Certificate [POLICY_AGENT]\n; Needed in case of creating new drive for encryption\n; if left blank the drive provided in DriveUsedForEncryption below will be used for encryption\nDriveUsedForPartition=\n\n; Size to be given to new partition if created (in MB)\nSizeOfNewPartition=20480            \n\n; Drive letter of an existing drive which will be used for encryption if DriveUsedForPartition above is blank\n; else Unique Drive letter to be assigned to new partition\nDriveUsedForEncryption=D\n\n; KMS configurations\n; if left blank, will need to be populated manually for encryption flow\nKMSPROXY_SERVER= KMS Service IP or Hostname KMSPROXY_SERVER_PORT= KMS Port [TBOOTXM]\n\n[VRTM]\n\n[MTWILSON_OPENSTACK_NODE] Execute the mtwilson-openstack-trusted-node-windows-3.2-SNAPSHOT.exe file. The CIT-Compute-Node Setup orchestrator installer will be displayed. This orchestrator will conduct the installation of all the CIT components required for the Windows host depending on the option set in the system.ini file. Click Next. The install location screen. Click Install. The Tbootxm Setup window will be displayed. Click Next and then in the next window Install.  A Microsoft Window will be displayed asking to restart the computer. NOTE: Do NOT click Restart Now. Click Restart Later. The installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Tbootxm Setup window will be displayed. Click Finish. The Intel CIT Trust Agent Setup window will be displayed saying the Microsoft Visual C++ package is not installed. Click OK. The required package will be installed then the Welcome to Intel CIT Trust Agent Setup window will be displayed. Click Next. The Checking Environment for Installation window will be displayed. Click Next. The Install Location window will be displayed. Click Next. The Setting up configuration window will be displayed. Click Install. After some minutes the installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing CIT Trust Agent Setup window will be displayed. Click Finish. The Vrtm Setup window will be displayed. Click Next and then Install in the next window.  The Vrtm Setup window will be displayed saying the Microsoft Visual C++ 2010 Redistributable package is not installed. Click Ok. The required package will be installed then a new Vrtm Setup window will be displayed saying the Ext2Fsd driver is not installed. Click OK. The required package will be installed then the Vrtm Setup Installation Complete window will be displayed and the installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Vrtm Setup window will be displayed. Click Finish. The Welcome to Policyagent Setup window will be displayed. Click Next and then Next in the Install Location window. Windows describing information about the drive that is going to be use for encryption will be displayed.  NOTE: Since the drive/partition that is going to be use for encryption w\nill be created/prepared and then encrypted by Bitlocker the Policyagent Setup windows could also show a Not Responding message. Once Bitlocker is done a Policyagent Setup window will be displayed saying the Bitlocker drive setup is completed. Click OK. The Policyagent Setup installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Policyagent Setup window will be displayed. Click Finish. The Welcome to Openstack-Extensions Setup window will be displayed. Click Finish. The Welcome to Openstack-Extensions Setup window will be displayed. Hit the Enter key. A second Windows command prompt window will be displayed asking for a confirmation to apply patches to some other files already installed. Hit the Enter key. A third Windows command prompt window will be displayed for few second saying the nova-compute services are being restarted.  Once this window disappears the Openstack-Extensions Setup installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Openstack-Extensions Setup window will be displayed. Click Finish. The CIT-Compute-Node Setup window will show the installation log and the Completed line. Make sure no errors are displayed in the log lines then click Next. The Completing CIT-Compute-Node Setup window will be displayed. Select the desired option, Reboot Now or I want to manually reboot later, and then click  Finish. NOTE. A reboot is required before start using the CIT components already installed. 5.0 Host Attestation 5.1 Overview Host Trust Attestation is the process of comparing known-good measurements against boot-time measurements to detect deviations in protected components. This always includes at a minimum attestation of the BIOS, SINIT ACM, and the OS kernel. Intel Figure 5. Attestation Server Setup, Configuration, and Usage Steps 5.2 Extending Host Attestation Customized non-virtualized server Trust Policies are represented by an XML file, located on the host itself (by default in /boot/trust/ ). The Trust Policy includes a list of files and directories; when the host boots, a Trust Agent component measures each of these files and directories and extends the measurement into PCR 19. Important: Extended attestation using Trust Policies is currently supported only on Linux systems using the Intel Trust Policies are generated using the Trust Director. Once created, the Trust Policy can be copied to one or more physical servers where identical files are attested. Once the server has been booted using the Trust Policy, the PCR 19 measurement can be compared against a known-good measurement by the Attestation Service. Host Trust Policies can be created on an individual per-server basis (which good-known measurements imported to the Attestation Service for each), or one Host Trust Policy can be copied to many servers and attested by the Attestation Service using only one set of good-known values. Important: Once the Host Trust Policy is configured and imported for attestation, any change to a measured file or folder is detected on the next attestation after a server reboot. Do not select files for attestation that will change between reboots.\nFor physical servers running the Trust Agent and using a non-virtualized server Trust Policy, a hypervisor is no longer required for trust attestation. For example, a physical database server can be attested using a Trust Policy to measure the static database libraries, executables, and configuration files at system launch, even though the server does not have a hypervisor installed and can run no virtual machines. Extending host attestation through non-virtualized Trust Policies is currently supported only for non-virtualized servers running the Trust Agent on Ubuntu 16.04 or Red Hat Enterprise Linux 7. See Section 4.6, . For instruction on creating Trust Policies, refer to Section 8.8, . For VMware ESXi or Citrix Xen servers, 5.3 Required Components Following are the required components: Attestation Service must be installed and active. Trust Agent must be installed on at least one non-virtualized server. (Optional, required for custom Trust Policies only) Trust Director must be installed and active. 5.4 Importing Whitelist Values To provide trust attestations, a set of good-known measurements must be established as the basis for comparison. The Attestation Server allows measurements to be imported from an existing server (manual definition of good-known values is also possible, but not recommended). Whitelist values consist of two logical groups of measurements, called Measured Launch Environments (MLEs). One MLE contains the platform-specific measurements and is referred to as the Whitelist values are specific to the precise version and configuration of the files on the server from which they are imported. This means the BIOS version 1.1 (for example) has a different measurement from BIOS version 1.2, and OS kernel 3.13.0-24-generic has a different measurement from OS kernel 3.13.0-30-generic. If a measured file is updated from one version to another, the measurement changes, and this results in an untrusted attestation after the server is rebooted. Each type of MLE can be applied to one or many servers. For example, if a sample data center uses only one type of server using identical BIOS, OS, hypervisor, and other measured components, only one BIOS and one VMM MLE is required to attest all servers in the data center. Alternatively, a new BIOS and VMM MLE can be created for each individual host. A new BIOS MLE is required whenever a new BIOS version is installed. Likewise, a new VMM MLE is required any time one of the components measured by the VMM MLE is updated (including at least the OS kernel, tboot, and the hypervisor, but also including any additional components measured by the Host Trust Policy). Important: Before importing MLE values, be sure that the Host Trust Policy has been created and the server rebooted afterward. If this step is completed out of order, the MLE values in the Attestation Server will mismatch the host on the host's next reboot, when the Host Trust Policy measurements are taken and extended to PCR 19. To import whitelist MLEs from an existing server: Browse to the Attestation Server URL, log on, and select to Whitelist Import from Trusted Host . The Import Whitelist from Trusted Host screen displays. Select the Host Type (Linux, Linux KVM, Citrix XenServer, VMware ESXi, Windows or Xen). For Docker containers, use the Linux KVM from the drop down list. Note: For Trust Agent hosts, an additional field is available to specify the Trust Agent authentication credentials. This field is only required if the Trust Agent credentials were NOT pre-registered with the Attestation Service during installation. By default, the credentials are pre-registered and so the Attestation Service already knows which credentials to use. Select the MLEs to import (BIOS, VMM, or both), and to what servers they will apply: Servers of any OEM (Global) Servers of a single OEM (OEM) Only one server (Host). Note: The Host Trust Policy (if used) measurements are always extended to PCR 19 in the VMM MLE (Optional) Select the TPM PCRs that will be used to define the good-known measurements (for details on different PCRs, refer to Section 8.0 ).  If no selections are made, default PCRs for the chosen host type will automatically be used (Recommended). Input the connectivity details for the server from which the measurements will be imported (for Trust Agent hosts, this includes the IP/Hostname and the port number for the Trust Agent (1443 by default); for VMware ESXi servers, this includes the host IP/hostname, vCenter Server IP/ hostname, and credentials for a vCenter Server user with the Select a TLS Policy to use (for more information on TLS Policies, refer to Section 8.4 ). Select whether to register the server after importing the measurements. Select whether to overwrite existing whitelist measurements, if measurements already exist for the same components/versions being imported. Click Import Whitelist . The current measurements for the specified server are imported and stored in the database for future attestations. 5.5\tHost Registration In order to perform a trust attestation for a given server, that server must be registered in the Attestation Server database. Registration includes defining the type of host, establishing connectivity details, and configuring which whitelist values (both a BIOS MLE and a VMM MLE) to be used for attestation. If whitelist values are being imported from a server, the same server can be registered at the same time (see Section 5.4, ). This is particularly useful if a separate BIOS and VMM MLE will be created for each server. Existing hosts can be deleted or modified (for example, different MLEs can be selected for attestation) under the Host Management tab on the Attestation Service web portal. 5.5.1 Registering Multiple Hosts Using a Flat File One or more servers can be registered with the Attestation Server in bulk using a text file, as long as there is an existing BIOS and VMM MLE appropriate for all necessary BIOS and OS versions already imported.\nTo register servers using a text file (flat file): Browse to the Attestation Server URL and select Host Management Import The Host Registration page displays: Create a plain-text file listing the servers to be registered using the following format for each host. Note: The Trust Agent connection string with username and password is only required if the Trust Agent password has not been pre-registered with the Attestation Service at the time of Trust Agent installation. For Linux Trust Agent servers: intel|host_name|host_port_no\ne.g. intel|myTrustAgent|https://MyTrustAgent:1443\nOR intel|myTrustAgent|https://MyTrustAgent:1443/;username;password\n\nFor Windows Trust Agent servers: microsoft|host_name|host_port_no\ne.g. microsoft |myTrustAgent|https://MyTrustAgent:1443\nOR microsoft |myTrustAgent|https://MyTrustAgent:1443/;username;password\n\nFor VMware ESXi hosts: vmware|Host_Name|Vmware_Connection_String*\ne.g.       vmware|myVmwareHost|https://myVcenterServer.mydomain.com:443/sdk;Administrator;Password\nFor Citrix XenServer Hosts citrix|Host_Name|Citrix_Connection_String*\ne.g.     citrix|myCitrixHost|https://192.168.1.1:443/;Administrator;Password Note: The connection string must be a valid URL. The Select the text file defining the host(s) to be registered using the Choose File button. Select a TLS Policy to use for all hosts in the text file Note: If multiple hosts will be registered, a shared TLS Policy applicable to all hosts must be used. For details on TLS Policies, refer to Section 8.4 . Click Retrieve Hosts to assemble the list of hosts to be registered from the provided flat file. For each host, select which applicability type of BIOS and VMM MLE (Global, OEM, Host) and whether to register the server. Click Register Host to register all selected servers. 5.5.2 Registering a Host Individually The Add Host tool allows hosts to be registered individually, and provides more detailed control over the MLEs used for attestation. While the Import tool automatically detects the BIOS and OS-VMM versions, the manual registration tool allows any BIOS and VMM MLE (within limits; attempting to register a vCenter host using a Trust Agent VMM MLE does not work simply because the vCenter connection details are missing) to be used to attest the host. Be aware that selecting a mismatched MLE results in the host appearing as untrusted when attested. Intel generally advises using the automated Import tool for host registration. On the Host Management tab, select Add Host . In the Host Name field, Enter the hostname or IP Address for the host to be registered. Select the OEM vendor from the OEM Vendor drop-down list. Select the appropriate BIOS version from the BIOS Info drop-down list. This is the BIOS MLE, and is populated according to the OEM Vendor selected. Select the OS-VMM combination from the OS-VMM Info list. This is the VMM MLE. Enter connection details. For vCenter, enter the hostname or IP Address of the vCenter server that manages the host, and credentials for a vCenter user with the For Citrix Xen enter the port number (Citrix Xen uses port 443 by default) and the administrative credentials for the host. For Trust Agent hosts (including Linus and Windows), simply enter the port number for the Trust Agent (the default is 1443). If the Trust Agent username and password were not pre-registered with the Attestation Service when the Trust Agent was installed, provide the Trust Agent credentials as well. The correct fields appear when the appropriate OS-VMM MLE is selected. Select a TLS Policy for use with this host (either a new host-specific policy, or an existing shared policy. For details on TLS policies, refer to Section 8.4.1 . Click Add Host to register the host. 5.6 Host Attestation The Attestation Server now features an automated background process that regularly checks for attestations that are nearing their expiration (by default attestations are considered valid for 90 minutes). When a given attestation is within five minutes of expiring, the Attestation Server initiates a new trust attestation for the attested server (retrieving a fresh quote from the server to be attested and attesting the values in the quote against the expected values in the whitelist). Attestations may be manually refreshed using the Refresh All button, or the refresh icon next to each host on the Trust Dashboard. The current (most recent) trust attestation for registered servers can be seen on the Attestation Service portal in the Trust Dashboard: Figure 6. Trust Dashboard On the OpenStack Controller, the current trust attestation for all hypervisors can also be seen on the Figure 7. Hypervisors Page An attestation of An 5.6.1 Remediation of Untrusted Attestations If a server attests as Trust Report button on the Trust Dashboard shows the detailed report.  A mismatched module or PCR measurement will be colored red.  However, extra or missing modules (modules present in the actual measurement but absent from the expected whitelist, or modules missing from the actual measurement and expected in the whitelist) will not be colored red, and will instead show a missing value in either the Figure 8. Trust Report This report shows all of the PCRs measured when the server last booted, along with the whitelist value expected. See the Appendix for details on PCR definitions. PCR 19 contains the tbootxm module shows all of the files measured for that host's Trust Policy. Any mismatches appear in red; these are the cause(s) of an For example, if an application configuration file is measured as part of the Host Trust Policy, and this file was changed between reboots, PCR19 (and therefore the entire host) become untrusted. Expanding the tbootxm module in PCR19 to view the measurements shows that the configuration file that changed is colored red and no longer matches its expected value, and is the cause of the untrusted status. If this is the result of a normal, authorized configuration change, the VMM MLE (which includes PCR19 and all modules) can be re-imported and overwritten with the new, current value. This causes the host to become If this is not the result of an authorized change, the incident can be flagged for a security response. 6.0 Image Integrity (VM and Docker) This section describes utilizing the Trust Director to establish a Trust Policy for a virtual machine or Docker container image, allowing that image to be attested to detect any changes in secured configurations. Image attestations can be set the following: Hash Only Hash and Enforce If the host of an instance becomes untrusted itself (typically this means the host was tampered with and then rebooted, and the instance is powered back on after the host boots), the instance appears untrusted as well, regardless of whether the instance files have changed. 6.1 Required Components The following prerequisites are required for the Image Integrity use case: OpenStack Controller with Intel Attestation Service must be installed and active. Attestation Reporting Hub must be installed and active Linux Trust Agent with Image Integrity must be installed on at least one OpenStack Compute Node. Linux Trust Agent Compute Nodes must be registered with the Attestation Service Compute nodes must be assigned to the appropriate tenant in the Attestation Reporting Hub to push attestation details for those hosts to the appropriate OpenStack controller To maintain the Chain of Trust, Trust Agent Compute Nodes must use a Host Trust Policy including the measurement components of the Trust Agent. These files are automatically selected by the Trust Director when creating Trust Policies for non-virtualized servers. Note: Only Linux KVM and Linux Docker hosts are currently supported for the Image Integrity use case. 6.2 Creating the Image Trust Policy (VM and Docker container) To create the Trust Policy, the virtual machine image is mounted using the Trust Director application. The file structure of the image is exposed in a UI menu, allowing folders and sub-folders to be selected. Each selected folder/file is measured, and the measurements stored as part of the Trust Policy. Once selection is complete, the Trust Policy is digitally signed by both the Trust Director and the Attestation Service to prevent tampering. The Trust Policy is uploaded to OpenStack Glance along with the image. It is extremely important that only static files/folders be selected as part of the Image Trust Policy. When attested during launch, instances of images protected with an Image Trust Policy attest as Section 8.8 . 6.3 Hash Only If the Hash Only option is selected during Trust Policy creation, all instances of the image are attested as they are booted. Attestation occurs only at the time the instance is powered on from a powered-off state, and the attestation results are stored for later queries from the Attestation Service (accessible via API). 6.4\tHash and Enforce If the Hash and Enforce option is selected during Trust Policy creation, instances of the protected image are attested during boot as with the Hash Only option, but if the instance attests as 6.5 VM Migrations Virtual Machine migrations (moving an instance from one compute node to another) are not currently supported for Image Integrity or Image Privacy. 6.6 VM Snapshots Virtual Machine snapshots are not currently supported for Image Integrity or Image Privacy. 6.7 Shared Storage Shared storage is not currently supported for Image Integrity or Image Privacy. 6.8 VM and Docker Attestation Each protected virtual machine image (an image with an associated Trust Policy) is attested each time it boots. The following table details when virtual machines are attested against the Image Trust Policy: Table 1. Virtual Machine Attestation Action New Instance Trust Attestation Launch from Image Yes Pause/Resume Instance No Suspend/Resume Instance Yes Soft Reboot Instance No Hard Reboot Instance Yes Shut Off/Start Instance Yes Table 2. Docker Attestation Action New Instance Trust Attestation Launch from Image Yes Pause/Resume Instance No Suspend/Resume Instance Yes Soft Reboot Instance No Hard Reboot Instance Yes Shut Off/Start Instance Yes To view the attestation result, an administrator can query the Attestation Service for the trust status of a given instance by its Instance ID in Glance and the host running the instance. This information can also be seen on the OpenStack dashboard in the Instances tab, which performs this query each time a new measurement is taken. Figure 9. OpenStack Dashboard Instances Tab The first icon refers to the hypervisor platform trust status, the second refers to the Asset Tag policy status, and the third refers to the VM attestation status. In each case: Red = Trust or Asset Tags are requires, but the hypervisor is not in compliance (wrong tags, untrusted, etc) Green = Trust or Asset Tags are required, and the hypervisor is in compliance Gray = No measurement available, or no policy applied When rebooting an instance or otherwise triggering a new measurement, the VM trust status icon switches to gray until the new attestation quote has been generated. Refreshing the page updates the icons. Note: If the compute node hosting an instance becomes untrusted (such as a reboot after an attacker compromises a measured file), the instance trust status shows a red untrusted icon as well. This is because the trust attestation of an instance cannot be trusted if the host performing the attestation is itself untrusted. 6.9 Workflow Example #1 To configure a new VM image for Image Integrity: Browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Select Images Add Images to Trust Director . Select the appropriate Image Type and Format for your image. Image Type should be Virtualized Server and click Next . Select the image to be uploaded, and click Upload . The image is uploaded to the Trust Director. Select Trust Policy from the top bar, then click the Virtualized Server tab to see a list of all images that have been uploaded to the Trust Director. To create a new Trust Policy for an image, click the (+) button in the Trust Policy field. Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or Hash and Enforce launch control policy, and whether the image is encrypted. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. If the encryption option was selected, the image is encrypted using a key from the KMS key broker. Set a name for the image (this is the name that appears in OpenStack), and select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. Open a browser window to the OpenStack Horizon dashboard. Select Admin , then Images . Click Edit next to the image uploaded by the Trust Director. The Update Image screen allows the image to be configured to use the Trust and Asset Tag scheduler filters. Note: The Asset Tag dropdowns will only contain the list of key/value options representing tags that have actually been pushed to hosts assigned to this OpenStack environment in the Attestation Reporting Hub. Select Trust only to require the OpenStack scheduler to only place instances of the image on hosts attested as Trust and Location to require a trusted attestation as well as specific Asset Tag key/value pairs. When Trust and Location is selected, the screen displays a drop-down of tag keys with a second drop-down for all possible values for that tag key. Use the drop-downs to select tags, and use the + button to add additional tag requirements. Instances of this image are only launched or migrated by the OpenStack scheduler to hosts matching the Trust Attestation and Asset Tag requirements. From the OpenStack Horizon Dashboard, browse to Project and select Images . Click Launch to launch an instance of the image. Provide an Instance Name and other details as normal. The OpenStack scheduler selects a host for the instance based on the filter requirement. After the instance files are copied but before the instance is powered on, the Trust Agent examines the files in the instance and compares them against the Trust Policy for the image. If the attestation for the instance is successful, the instance is powered on. If the attestation fails (some file in the Trust Policy is different on the instance when compared to the Trust Policy for the source image), images where Hash and Enforce was selected during Trust Policy creation are halted and unable to launch. If Hash Only was selected for the Trust Policy, the instance launches, but still shows its Instances page in OpenStack Horizon. After the image instance is launched, go to the Project tab and click Instances . All instances display the attestation status of the host they are running on, the attestation of the Asset Tags for the host they are running on, and the attestation for the instance itself. 6.10\tWorkflow Example #2 Before creating a Trust Policy for a Docker Container, a Docker image must be uploaded to the Trust Director or downloaded from the Docker Hub. Note: At least one External Storage endpoint must be configured before uploading the image and trust policy to OpenStack Glance. Refer to Section 4.5.6 to setup and configure an External Storage. To configure a new Docker image for Image Integrity: Browse to the Trust Director portal ( https:// TrustDirectorIp_Or_Hostname ) and log on.\nSelect Trust Policy Docker . The Docker Trust policy page lists the existing Docker container images in a table. To create a new Trust Policy for an image, click the (+) button in the Trust Policy field. The repo and tag name is retained for the Docker container image. Select whether this image uses the Hash Only or Hash and Enforce launch control policy. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. Select the type of Artifact you want to upload to OpenStack Glance. The Docker Image will only the image and excludes the Trust policy. This is similar to uploading a Docker container image directly to Glance. Choosing the Docker Image With Policy instructs the Trust director to upload the Docker container image with the Trust Policy as a tarball to OpenStack Glance. Select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. Select the appropriate external image storage service for the image (ex. OpenStack Glance). Once Trust Policy has been uploaded, the status of the upload can be displayed by clicking on the first icon in the Image store upload. See the sample screenshot below Queued In Progress Complete Open a browser window to the OpenStack Horizon dashboard. Select Admin , then Images . Click Edit next to the image uploaded by the Trust Director. The Update Image screen allows the image to be configured to use the Trust and Asset Tag scheduler filters. Select Trust only to require the OpenStack scheduler to only place instances of the image on hosts attested as Trust and Location to require a trusted attestation as well as specific Asset Tag key/value pairs. When Trust and Location is selected, the screen displays a drop-down of tag keys with a second drop-down for all possible values for that tag key. Use the drop-downs to select tags, and use the + button to add additional tag requirements. Instances of this image are only launched or migrated by the OpenStack scheduler to hosts matching the Trust Attestation and Asset Tag requirements. From the OpenStack Horizon Dashboard, browse to Project and select Images . Click Launch to launch an instance of the image. Provide an Instance Name and other details as normal. The OpenStack scheduler selects a host for the instance based on the filter requirement. After the instance files are copied but before the instance is powered on, the Trust Agent examines the files in the instance and compares them against the Trust Policy for the image. If the attestation for the instance is successful, the instance is powered on. If the attestation fails (some file in the Trust Policy is different on the instance when compared to the Trust Policy for the source image), images where Hash and Enforce was selected during Trust Policy creation are halted and unable to launch. If Hash Only was selected for the Trust Policy, the instance launches, but still shows its Instances page in OpenStack Horizon. After the image instance is launched, go to the Project tab and click Instances . All instances display the attestation status of the host they are running on, the attestation of the Asset Tags for the host they are running on, and the attestation for the instance itself. 7.0 Image Privacy This section describes utilizing the Trust Director and Key Management Service to encrypt virtual machine images before they are uploaded to the Cloud. By encrypting the entire VM, unauthorized access to sensitive workloads and data can be prevented. The decryption key is retained by the Key Management Service (KMS), meaning the owner of the KMS (and not the Cloud Service Provider) has ultimate control over whether an instance of the protected image will launch. Decryption permission is tied to the trust attestation of the host requesting the key, and cryptographically secured to the physical Trusted Platform Module of the server, meaning the image may only be decrypted and launched on a host meeting trust requirements with a valid attestation from the Attestation Service. 7.1 Required Components The following prerequisites are required for the Image Privacy use case: OpenStack Controller with Intel Attestation Service must be installed and active. Attestation Reporting Hub must be installed and active Key Management Service must be installed and active. KMS Proxy must be installed and active. Linux Trust Agent with Image Privacy and Image Integrity must be installed on at least one OpenStack Compute Node. Trust Agent Compute Nodes must be registered with the Attestation Service Compute nodes must be assigned to the appropriate tenant in the Attestation Reporting Hub to push attestation details for those hosts to the appropriate OpenStack controller To maintain the Chain of Trust, Trust Agent Compute Nodes must use a Host Trust Policy including the measurement components of the Trust Agent. These files are automatically added to\nnon-virtualized server Trust Policies by the Trust Director. Note: Only Linux KVM hosts are currently supported for the Image Privacy use case. 7.2 VM Migrations Virtual Machine migrations (moving an instance from one compute node to another) are not currently supported for Image Integrity or Image Privacy. 7.3 VM Snapshots Virtual Machine snapshots are not currently supported for Image Integrity or Image Privacy. 7.4 Shared Storage Shared storage is not currently supported for Image Integrity or Image Privacy. 7.5 Encrypting an Image Image encryption is handled by the Trust Director application. The Trust Director accepts an existing virtual machine image in one of several formats (qcow2, raw, vhd, ami). When an image is selected for encryption, the Trust Director requests a new key from the Key Management Service and uses it to encrypt the image. The resulting encrypted image includes metadata that points back to the Key Management Service that issued the key; at no point is the decryption key provided to or shared with the Cloud Service Provider. The Trust Director is capable of uploading the encrypted image directly into OpenStack Glance if access is available, or the image can be uploaded manually through the process supported by your Cloud Service Provider. 7.6 Launching an Instance of an Encrypted Image When an instance of an encrypted image is launched, the host detects that the image is encrypted. The host sends a request to the KMS Proxy, including the public Attestation Identity Key (AIK) bound to its TPM, as well as the URL for the KMS that manages the decryption key. The KMS Proxy retrieves an attestation for the host from the Attestation Service (using the AIK as the host identity) and forwards the request, along with the full SAML trust attestation, to the KMS. The KMS verifies the signatures and the trust attestation. If the verification passes, the KMS binds the image decryption key to the host AIK (which was included in the host attestation) and sends the wrapped key back to the KMS Proxy. The KMS Proxy returns the wrapped key to the host, which uses its TPM to unwrap the decryption key, allowing image to be decrypted. Because the image decryption key is cryptographically bound to the physical TPM of a host that passes an attestation check, the instance is only launched on a trusted host. Note: A key is requested by the host only the first time an instance of a given image is launched on that host, and then again when the host is rebooted.  The wrapped key is stored in memory to mount the encrypted image mount point, meaning the host must request the key again after a reboot to remount the encrypted file system.  If the host is untrusted after a reboot, the key will be denied and any encrypted instances will remain inaccessible.  If the host returns to a trusted state in a subsequent reboot, the key will be provided and instances will become available again. 7.6.1 VM Encryption for Microsoft Windows Compute Nodes VM encryption for Windows compute nodes works largely the same as for Linux compute nodes; however, there are a few key differences. Images in the Trust Director are still encrypted with individual encryption keys, and no workflow changes are needed on the Trust Director.\nAs with Linux nodes, a Windows host making a key request will still an attestation through the KMS Proxy, and the KMS will analyze the attestation report and only provide keys to a Trusted host.  The image key is wrapped using a TPM-specific Binding Key. However, while on Linux each base image will reside in its own dedicated encrypted virtual volume, Windows uses a single BitLocker volume to store all images.  This means that, for Windows hosts, VM images are encrypted using the same BitLocker key in a single volume.  When a Windows host is rebooted, it does not make a new key request to the KMS; instead, BitLocker unlocks the volume without contacting the KMS, regardless of the current trust status of the host.  BitLocker keeps the images encrypted on disk; the major differences between the Windows and Linux functionality are the use of a single key for all images in Windows as opposed to unique keys for individual images in Linux, and that BitLocker will unlock the volume on host reboot without a new trust attestation, while Linux hosts will request keys for each unique base image each time the Linux host reboots, with a new trust attestation required before keys are granted. 7.7 Workflow Example for a Virtual Machine To configure a new VM Image for Image Privacy: Browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Select Images Upload Images to Trust Director . Select the appropriate Image Format for the image, and click Next . Select the image to be uploaded, and click Upload . The image is uploaded to the Trust Director. Select Trust Policy from the top bar, then click the Virtualized Server tab to see a list of all images that have been uploaded to the Trust Director. To create a new Trust Policy for an image, click the ( + ) button in the Trust Policy field. Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or Hash and Enforce launch control policy Select Encrypt Image to encrypt the image. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. If the encryption option was selected, the image is encrypted using a key from the KMS key broker. Set a name for the image (this is the name that appears in OpenStack), and select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. Open a browser window to the OpenStack Horizon dashboard. Select Admin , then Images . Click Edit next to the image uploaded by the Trust Director. The Update Image screen allows the image to be configured to use the Trust and Asset Tag scheduler filters. Select Trust only to require the OpenStack scheduler to only place instances of the image on hosts attested as Trust and Location to require a trusted attestation as well as specific Asset Tag key/value pairs. When Trust and Location is selected, the screen displays a drop-down of tag keys with a second drop-down for all possible values for that tag key. Use the drop-downs to select tags, and use the + button to add additional tag requirements. Instances of this image are only launched or migrated by the OpenStack scheduler to hosts matching the Trust Attestation and Asset Tag requirements. From the OpenStack Horizon Dashboard, browse to Project and select Images . Click Launch to launch an instance of the image. Provide an Instance Name and other details as normal. The OpenStack scheduler selects a host for the instance based on the filter requirement. After the image has been downloaded to the host, the Trust Agent verifies the signature on the Trust Policy, and detect whether the image is encrypted. If the image is encrypted, the host sends a request for the decryption key to the KMS, which also triggers a trust attestation for the host. If the KMS determines that the attestation meets the image's policy requirements, it binds the key to the TPM of the host that was attested, and sends the wrapped key back to the host, where the image is decrypted. After decryption, but before the instance is powered on, the Trust Agent examines the files in the instance and compares them against the Trust Policy for the image. If the attestation for the instance is successful, the instance is powered on. If the attestation fails (some file in the Trust Policy is different on the instance when compared to the Trust Policy for the source image), images where Hash and Enforce was selected during Trust Policy creation are halted and unable to launch. If Hash Only was selected for the Trust Policy, the instance launches, but still shows its Instances page in OpenStack Horizon. After the image instance is launched, go to the Project tab and click Instances . All instances display the attestation status of the host they are running on, the attestation of the Asset Tags for the host they are running on, and the attestation for the instance itself. 8.0 PCR Definitions 8.1 TPM 1.2 PCR Measurement Parameters Description Operating System PCR 0 BIOS ROM and Flash Image This PCR is based solely on the BIOS version, and remains identical across all hosts using the same BIOS. This PCR is used as the BIOS MLE (PCRs 1-5 can also be used in a BIOS MLE, but this is not recommended). PCR 12 Data events and highly volatile events This PCR measures some of the modules which has boot counters in it. It changes on every boot and resume (Microsoft Windows ONLY; do not use for attestation as the values change on reboot) PCR 13 Boot Module Details This PCR remains static except major changes such as kernel module update, different device driver for different OEM servers, etc. (Microsoft Windows ONLY) PCR 14 Boot Authorities Used to record the Public keys of authorities that sign OS components. Expected not to change often. (Microsoft Windows ONLY) PCR 17 ACM This PCR measures the SINIT ACM, and is hardware platform-specific. This PCR is part of the BIOS MLE. PCR 18 MLE [Tboot +VMM] This PCR measures the tboot and hypervisor version. In ESXi hosts, only the tboot version is measured. PCR 19 OS Specific For ESXi and Trust Agent hosts, this PCR contains individual measurements of all of the non-Kernel modules. For Citrix Xen hosts, this PCR is a measurement of the OS, InitRD, and UUID. PCR 20 For ESXi only.,VM Kernel and VMK Boot This PCR is used only by ESXi hosts and is blank for all other host types. 8.2 TPM 2.0 PCR Measurement Parameters Description Operating System PCR 0 BIOS ROM and Flash Image This PCR is based solely on the BIOS version, and remains identical across all hosts using the same BIOS. This PCR is used as the BIOS MLE (PCRs 1-5 can also be used in a BIOS MLE, but this is not recommended). PCR 12 Data events and highly volatile events This PCR measures some of the modules which has boot counters in it. It changes on every boot and resume (Microsoft Windows ONLY) PCR 13 Boot Module Details This PCR remains static except major changes such as kernel module update, different device driver for different OEM servers, etc. (Microsoft Windows ONLY) PCR 14 Boot Authorities Used to record the Public keys of authorities that sign OS components. Expected not to change often. (Microsoft Windows ONLY) PCR 17 Details BIOS AC registration info Digest of Processor S-CRTM Digest of Policycontrol  Digest of all matching elements used by the policy Digest of STM Digest of Capability field of OsSinitData Digest of MLE PCR 18 Authorities Digest of public key modulus used to verify SINIT signature Digest of Processor S-CRTM Digest of Capability field of OSSinitData table Digest of PolicyControl field of used policy Digest of LCP PCR 19 OS Specific For TA hosts, this PCR is a measurement of the OS, InitRD, and UUID. This changes with every install due to InitRD and UUID change. For hosts with non-virtualized Trust Policies, the measurements defined in the Trust Policy will appear as sub-modules inside of the 8.3 MLE Administration Mt. Wilson automatically generates MLE names based on their classification as VMM or BIOLS MLEs, the specific type of MLE (Global, OEM, or Host), and details captured from the host during the import.\nThese values include the server platform (Romley, Thurley, etc), the name and version numbers of the OEM, OS, BIOS, and hypervisor as appropriate. For example, IBM_Thurley_VMware_ESXi_5.1.0-799733 is an OEM-level VMM MLE imported from an IBM Thurley server running ESXi version 5.1.0 build 799733. This VMM MLE can be used to attest the OS/hypervisor component of any IBM Thurley-based server running ESXi 5.1.0 build 799733, but cannot be used to attest an HP or Dell host, or any host running a different version of ESXi or a different hypervisor. Typically, only a single MLE is needed for a given platform and hypervisor or BIOS version. However, there are some use cases where different modules are present in a VMM MLE even though the version remains the same. For example, using the Cisco Nexus 1000 virtual switch adds several module entries for a VMware ESXi host, and yet the version and build number for ESXi does not change. If only some hosts in your data center are using the Cisco Nexus 1000, you would need two separate VMM MLEs to attest those hosts with and without the additional modules. Otherwise, one set of hosts attest as untrusted depending on whether the host used to import the MLE was configured to use the virtual switch. Hosts attest as untrusted if: They contain one or more modules that do not exist in the whitelist MLE. They do not contain one or more modules that do exist in the whitelist MLE. Any hash values for PCRs or modules for the host do not match those values in the MLE. Non-virtualized server Trust Policies effectively extend the VMM MLE by adding the Trust Policy measurements as modules extended to PCR 19. This means that hosts sharing a VMM MLE must also share the same Host Trust Policy, if any. If the Host Trust Policy measurements differ between two hosts, two VMM MLEs are required even if the hosts are using the same OS/hypervisor versions.\nSimilarly, the boot loader configuration file (typically in /boot/grub/grub.cfg ) is measured and extended to PCR18.  If there is a difference in the grub.cfg file between two hosts, they will have different resulting PCR 18 measurements. Note: This is particularly relevant when using LVM volumes; the grub typically contains a line defining the LVN name, and default OS installations typically incorporate the hostname into the LVM name (meaning every host would have a different entry, and thus a different grub.cfg and PCR18 measurement).  The same LVM configuration can be used across all similar hosts to prevent this difference.  Otherwise, host-specific VMM MLEs will be needed to ensure all hosts are Trusted. When importing a new MLE when an existing MLE of the same version info already exists in the database, the Attestation Service automatically checks to see whether any PCRs or modules have changed; if they have, the default behavior is to add a new MLE without overwriting the original, with a numerical tag at the end of the name (001, 002, etc). This can be overridden in the UI by selecting the Overwrite option on the Import Whitelist MLE page. This causes the Attestation Service to overwrite the existing MLE regardless of whether any PCRs or modules have changed. Only the MLE of the selected type (VMM or BIOS, and Global, OEM, or Host) and identical versions are overwritten. In the case of an environment upgrade (for example, upgrading from one ESXi version to another), it is important to import the new whitelist MLE value first, before upgrading the rest of the environment.\nAfter importing the new, updated MLEs, perform the production upgrade and then re-register the hosts. By re-registering the hosts, they are automatically assigned to the correct, updated MLEs. 8.4 TLS Policy Overview The Intel 8.4.1 TLS Policy Types The Intel Policy Type Behavior Shared Per-Host Certificate The certificate policy requires one or more trusted certificates or CA certificates and only connects to a peer whose certificate either is a trusted certificate or is signed by a CA that is trusted. This policy type also performs hostname verification. Note: The remote server's hostname must be resolvable from the Mt. Wilson server). Yes Yes Certificate Fingerprint This policy stores the SHA256 hash of the certificate for validation rather than the entire certificate itself. Yes Yes Public Key The public key policy requires one public key parameter and only connects to a peer using that key. This is similar to SSH public key authentication of clients and hosts. Hostname verification is NOT performed when using Public Key TLS policies. Yes Yes Public Key Fingerprint This policy stores the SHA256 hash of the public key for validation rather than the public key itself. Yes Yes TRUST_FIRST_CERTIFICATE This policy stores the first certificate encountered when connecting to a host, and uses that certificate for all future TLS validation with that host. This was the default TLS policy used in Mt. Wilson 1.x, and is disabled by default. Yes No INSECURE This policy disables all TLS validation. All connections are accepted regardless of TLS certificates. This is disabled by default. Yes No 8.4.2 Policy Scope TLS policies can be per-host or shared across multiple hosts. Per-Host Shared The Attestation Service requires a TLS policy to be defined for any remote host to which it connects. If no TLS policy is defined, or if the TLS information does not match the TLS policy, the connection fails. 8.4.3 Default Policy Selection Any shared-scope policy can be defined as the In the Attestation Service UI, this mostly means that the default policy is automatically selected from the drop-down when registering hosts. From an API perspective, it means that, when calling a registration API, if no TLS policy is specifically defined in the call, the default TLS policy is used. Using a shared default policy that is valid across all hosts in the attestation environment can greatly simplify TLS policy and host management. Note: During installation, the only two shared-scope policies that might be available are TRUST_FIRST_CERTIFICATE and INSECURE, and these only if they have actually been enabled. All other policies must be user-created after installation.\nTo define a default TLS policy, edit the mtwilson.properties file and set the value of mtwilson.default.tls.policy.id to either the UUID or the name of the shared-scope TLS policy to be set as the default. Restart Mt. Wilson to affect the change. 8.4.4 Legacy Behavior In the 1.x releases of the Attestation Service, only two policies were available to validate the TLS certificates of remote hosts: TRUST_FIRST_CERTIFICATE INSECURE To configure the Attestation Service to use the same TLS policy behavior as was used in the 1.x Attestation Service, configure the mtwilson.properties file with the following settings: mtwilson.tls.policy.allow=TRUST_FIRST_CERTIFICATE \nmtwilson.default.tls.policy.id=TRUST_FIRST_CERTIFICATE This can be done automatically during installation by setting the following variables in mtwilson.env : export MTW_TLS_POLICY_ALLOW= TRUST_FIRST_CERTIFICATE \nexport MTW_DEFAULT_TLS_POLICY_ID=TRUST_FIRST_CERTIFICATE 8.5 Asset Tags The Attestation Service securely writes Administrator-defined descriptors to TPM hardware. These values can be provisioned, validated, and made visible in the data center by using the Intel This section details the requirements, components, and procedures for deploying Asset Tags. It is targeted toward Systems Engineers who are proficient with Linux administration, PXE and related technologies, and the Citrix Xen and/or VMware ESXi hypervisors. 8.5.1 Prerequisites Following are the prerequisites: An instance of the Intel One or more hosts with Intel (Linux servers only) Intel (Optional; required for 8.5.2 Asset Tag Provisioning Workflow Figure 10. Asset Tag Provisioning Workflow 8.5.3 Asset Tag Provisioning Modes Asset Tags can be provisioned to assets either by 8.5.4 Tags and Selections Tags and Selections represent the core function of the Asset Tag service. A Tag is an arbitrary classification name with one or more potential values. For example, a Tag named State: California; Department: Accounting Creating a Tag involves creating a name for the Tag and its potential values. Open a browser window and point it to the Attestation Service URL. Click on the Asset Tag Management tab, and select Tag Creation . The Create New Tag page opens: Enter a name for the new tag in the Tag Name field. Enter a value for the tag in the Tag Value field and click Save . Repeat Step 3 to add any additional appropriate potential values for the new Tag. When all desired potential values for the Tag have been created, click the Save button to save the Tag. After Tags have been created, they can be searched using the Search Tags function. To list all Tags and their potential values, simply leave all of the fields blank and click the Search button. Creating a Tag Selection consists of naming the Selection, and adding a set of one or more Tags with appropriate values as name/value pairs. Open a browser window and point it to the Attestation Service URL. Click on the Asset Tag Management tab, and select Tag Creation . The Tag Selection page opens: Enter a name for your selection in the Name field. (Optional) Add a Description for your selection. To add Tags to the Selection, select a Tag from the drop-down on the left, select a value for the Tag from the drop-down on the right, and click the Add button. Repeat Step 4 until all desired tags have been added to the Selection. Click the Save button to save the Selection. After Selections have been created, they can be searched using the Search Selections function. To list all Selections, simply leave all of the fields blank and click the Search button. 8.5.5 Asset Tag Provisioning There are two methods supported for provisioning Asset Tags to assets. Push method Pull method Note: Currently, the push method is only supported for Citrix Xen Server with the Xen Server Measured Boot supplemental pack installed, and Trust Agent hosts. The pull method is supported for Citrix Xen, VMware ESXi, and KVM. 8.5.5.1 Push Provisioning The push method for Asset Tag provisioning is initiated by the Attestation Service; the administrator creates a new Asset Certificate and provisions the certificate to a provisioning agent running on the asset. Note: Because the asset must have a provisioning agent running to write the Asset Certificate to the TPM, only Citrix Xen hosts with the Xen Server Measured Boot supplemental pack installed, or open-source Xen or KVM hosts with the Intel Prerequisites: One or more Citrix Xen or Trust Agent hosts registered in the Attestation Service. Appropriate Asset Tags and Asset Selections to provision to the host(s) must have been created. Procedure: Open a browser window and point it to the Attestation Service URL. Click on the Asset Tag Management tab and select Provision Tags . The Asset Tag Provisioning page opens: Double-click on the servers to be provisioned. Click the existing Selection to provision to the chosen server(s). Click Provision . This creates a new Asset Certificate (one for each selected server), imports it into the Attestation Service database, and provisions the Asset Certificate to the TPM of the selected server(s). The certificate is matched to the appropriate host for attestation using the host's hardware UUID. Reboot the host to complete the provisioning process (the certificate info written to the TPM is not extended to PCR22 and thus is not available for attestation until the host's next boot cycle). 8.5.5.2 Pull Provisioning The pull method for Asset Tag provisioning is initiated from the host by an agent installed on the Intel The pull method requires that the Provisioning Agent take ownership of the server TPM; TPM ownership needs to be in a The Asset Tag Provisioning Agent must be run from an operating system with certain prerequisites installed, and therefore is provided on an ISO-format disk image ( assettag.iso ). This image can be used with iPXE on a provisioning network to remotely boot to the provisioning image. 8.5.5.3 Creating an XML file for Asset Tag Provisioning Asset Tags can be defined for future provisioning using an XML file provided to the Provisioning Agent script. The determination of which Tags are provisioned to which hosts can be configured in several ways: Provide the list of hosts to be provisioned with a set of Tags as a list of one or more hardware UUID values or the IP Address/hostname as it appears in Mt. Wilson (use subject uuid to list UUIDs or subject ip to list as the host(s) appear in Mt. Wilson) Provide a list of the Tags with no subject to apply the same set of Tags to all hosts. If a selection block with no subject list is provided along with one or more other selection blocks that do include one or more subject assignments, the selection block with no subject listed is used as a default set of Tags to provision to all hosts not explicitly listed. Tags are listed in the following format: attribute oid=\"2.5.4.789.1\" text Name=Value /text /attribute All Tags listed within a single selection /selection block are provisioned to the same host(s), according to any listed subject assignments. The oid \"2.5.4.789.1\" is required when using the text format Name=Value as shown here. Only one value is allowed in the name=value format, but multiple values for the same Tag can be listed in a single Selection (for example, Tenant=Tenant1 and Tenant=Tenant2 can both be applied to the same host by listing both name/value pairs in the same selection block). It is possible to create attributes other than name=value pairs by using the der tag instead of the text tag. However, der tags are incompatible with the Mt. Wilson UI. The entire Asset Tag certificate is provided in the SAML assertion, so any provisioned Tags are still obtainable regardless of which format is chosen. Following is a sample Asset Tag XML file: ?xml version=\"1.0\" encoding=\"UTF-8\"? selections xmlns=\"urn:mtwilson-tag-selection\" selection attribute oid=\"2.5.4.789.1\" text Country=US /text /attribute attribute oid=\"2.5.4.789.1\" text State=NY /text /attribute attribute oid=\"2.5.4.789.1\" text City=New York /text /attribute /selection selection subject ip 192.168.1.101 /ip /subject attribute oid=\"2.5.4.789.1\" text Country=US /text /attribute attribute oid=\"2.5.4.789.1\" text State=CA /text /attribute attribute oid=\"2.5.4.789.1\" text City=Folsom /text /attribute attribute oid=\"2.5.4.789.1\" text City=Santa Clara /text /attribute /selection selection subject uuid 21c26a6e-5401-41de-a168-d637e1e1b154 /uuid /subject subject uuid f98cabf1-6ab1-47c2-8b5c-e3be3d6865ad /uuid /subject attribute oid=\"2.5.4.789.1\" text Country=US /text /attribute attribute oid=\"2.5.4.789.1\" text State=TX /text /attribute attribute oid=\"2.5.4.789.1\" text City=El Paso /text /attribute /selection selection subject ip 192.168.1.103 /ip /subject subject ip 192.168.1.104 /ip /subject subject ip 192.168.1.105 /ip /subject attribute oid=\"2.5.4.789.1\" text Country=MX /text /attribute attribute oid=\"2.5.4.789.1\" text City=Mexico City /text /attribute attribute oid=\"2.5.4.789.1\" text Dept=Finance /text /attribute /selection /selections It is possible to have an existing valid certificate in the database containing Tags that do not correspond to those defined in the XML. The determination of whether the most recent valid certificate for a host or the Tags explicitly defined in the XML are provisioned in this case is handled by the value of the TAG_PROVISION_NOCACHE variable set during installation of the Attestation Service. If Tags and Selections are defined in the XML that do not exist in the Asset Tag database, the Asset Certificate is still created using the Tags specified in the XML, but the Asset Tag UI does not actually create new Tag or Selection entries. The correct Tags according to the XML are still shown in the SAML assertion (since the SAML displays the entire certificate). 8.5.5.4 Encrypting the Asset Tag XML When automating the provisioning of Asset Tags, there may be situations where the selection of attributes is determined in advance by one person and is provisioned by another person who has access to the hosts for provisioning, but is not authorized to change the attribute selections. This section describes how to create encrypted selection files that can be used in place of plain-text selection files to protect the integrity of the pre-determined selections. Pre-Provisioning Setup: The following are required to create an encrypted selection file: Encryption password from mtwilson.properties. Selection XML file. OpenSSL command-line tools, with optional openssl.org patch #3254. The encrypt.sh script provided with the Asset Tag service. The Asset Tag service automatically generates a file encryption password during installation and stores it in the Mt. Wilson configuration file mtwilson.properties . This password is used to encrypt and decrypt the selection XML file. The Asset Tag provisioning service allows exporting a selection file in XML format. Support for exporting the selection file already encrypted is planned for a later release. Alternatively, users may create selection XML files using another process. An XSD for the selection XML files is available. The OpenSSL command-line tools include the enc command (used to encrypt files) and the dgst command (used to provide an integrity digest for the selection). OpenSSL patch #3254 provides command-line support for PBKDF2 algorithm and setting the iteration count for both the older password algorithm and the new PBKDF2 algorithm. The patch was prepared against openssl-1.0.1f. Encrypting the Selection XML File: It is assumed that openssl and encrypt.sh are in the $PATH , and that the Asset Tag attribute selection file is in the current directory in a file named selection.xml . It is also assumed that the encryption password is known, and is represented as the word The following commands generate an encrypted file using the chosen password: export PASSWORD=password\nencrypt.sh -p PASSWORD selection.xml.enc selection.xml If you are using OpenSSL without patch #3254, add the --nopbkdf2 option: encrypt.sh --nopbkdf2 -p PASSWORD selection.xml.enc selection.xml The content of the output file selection.xml.enc looks like this: Content-Type: encrypted/openssl; alg=\"aes-256-ofb\"; digest-alg=\"sha256\"; enclosed=\"application/zip\" Date: Fri Feb 7 12:16:30 PST 2014\n\nU2FsdGVkX1+/wg16dCIvM5w7fyBcXvTmtIBsvB5NqsyHMqVR2lqCaNbQGaVW42WE yn46ncwOqccL1OlB5BtECB9I5WCl8Qb8OQzrMTZ+Wxwy4R28/1tzSMOEyOBbXMCY\n/ltf+qlVdNUqU/tSSZusSWCPnxclcF9v8O0vodmrcas+5d9QU2Z4yJH2ZuknP/Ji 8yYIRxge8UzsoG+AVwmoBk4ZWhzH6A5Lc/T1o0/uIw4M//2+cDCnGduuSLFrL1+q mO1xb/hP7Zgjk+9wRLPGYpjM2h58Vqf8WWD/DqMwGE07mlN8lS4gnkn6OmWj2dq5 nyHUrueiWaz81cbx4PTdcPCnzHryYBsW1YXDCru8JHba67owoYNx8CXalNkDfAu+ CnvitWqmSPJPvFHr6QbBzE/ziPRIzzYoRFksOmzkMjfsugdy8015PI9h36SUQc9Q y85ujORHb1yTt3hAYM0tpc3eYOF/rqEID4lwuzNvlbPyTV6tZO18/kxiejNMKqFd Nbx2Tn+fopG1tIujUPhneBqK7DHMDSGvgWcVl6CCgA0bPm6hcZ8MoDywHcJK86yg 55cJwRwMEHt/PtV94JU//c+Nckq3nltuQTe17+bUTHTgmY1rvone93HV7R1jV5c3 sVPXglBsFyhUax4l2YFXuXKSiiPXacUvWBg6oY7NCYhXcI4U+GSWJ65ADYSoxlcj EtdiG33kOS3L5vYUBJMHzmZVaqIR3iw2Za35cT5g+iagThudKcI= 8.5.5.5 Decrypting and Verifying the Selection XML File This step is performed by the Asset Tag Provisioning Service upon receiving an encrypted selection file. You can perform the same step to decrypt a previously-encrypted Selection XML file. In this section, it is assumed that openssl and decrypt.sh are in the $PATH , and that the encrypted Asset Tag attribute selection file is in the current directory in a file named selection.xml.enc . It is also assumed that the encryption password is known, and is represented as the word The following commands generate an encrypted file using the chosen password: export PASSWORD=password\ndecrypt.sh -p PASSWORD selection.xml.enc ls selection.xml.enc.d The decryption script does not need a --nopbkdf2 option because it automatically determines from the encrypted file whether PBKDF2 should be used. The decryption script creates a directory named selection.xml.enc.d into which it extracts the original selection file selection.xml. You may also see other files adjacent to selection.xml with .sig and .sig.doc extensions. These are used for the integrity check.\nIf the decrypted file fails the integrity check, the decryption script prints a message like the following: Message failed verification: selection.xml.enc.d/selection.xml 8.5.5.6 Provisioning Usage When deploying asset tags using the provisioning agent, select the encrypted selection file instead of a plain-text selection file. The provisioning service automatically recognizes that it is encrypted and attempts to decrypt it using the password in mtwilson.properties . 8.6 Database Configuration for Remote Database Servers While by default the Attestation Service deploys its own database on the local machine, it is also possible to use a remote database server. If using an external server is required, the remote database must be configured to accept remote connections. For Postgres, edit the /etc/postgresql/9.3/main/pg_hba.conf file and add the following line: host    all    all IP RANGE / SUBNET password Using a remote Postgres database also requires modifying the postgresql.conf file (in the same folder as pg_hba.conf ) to include the Attestation Service server in the listen_addresses setting, which is commented out by default. # - Connection Settings - \nlisten_addresses = '*' Setting this value to '*' enables connections from all addresses. This can be restricted to only the Attestation Service server(s), or to a specific IP range that includes the Attestation Service server(s). Prior to running the Attestation Service installation, the Attestation Service user (root by default) and the database schema (mw_as by default) must be created on the remote database server, and full rights over the database must be given to the user. These steps are not required if the database resides on the same machine as the Attestation Service services. 8.7 Password Guidelines 8.7.1 Changing the Database Password The Attestation Service includes a command-line utility to automatically change the Attestation Service database password and update all related Attestation Service properties files (no other Intel $ mtwilson change-db-pass This utility prompts for the new password, and automatically updates the database password in PostgreSQL as well as all of the Attestation Service .properties files. If the .properties files are encrypted, the command automatically handles decryption and re-encryption as long as the appropriate encryption password variable ( $MTWILSON_PASSWORD ) has been set (see Section 8.7 for details). The encryption password is only required if encryption is being used. 8.8 Trust Policies A Trust Policy is a list of files and directories to be measured with good-known measurements for comparison, digitally signed by the Attestation Service. Trust Policies are created for both bare-metal servers and for virtual machines, but function in the same way. Effectively, attestation for both bare-metal servers and virtual machines works by taking a hash measurement of a selected file or the cumulative hash of an entire folder, and comparing that hash against a known value. 8.8.1 Choosing Files for Measurement It is extremely important to select only files and folders that do not change between reboots of the measured device. The Trust Policy is the set of good-known values against which actual boot-time measurements are compared; any deviation from the expected measurements results in an untrusted state for the bare-metal server or virtual machine. Deviations can include adding, removing, renaming, or editing a file in a measured directory, or removing, renaming, or editing a specifically-measured file. Trust Policies are composed of a selection of one or more explicit files, and may also include one or more general rules applied to a folder through include/exclude regular expressions. Select explicit files and folders by putting a check in the check-box. If an individual file is selected, that specific file is added to the Trust Policy. If a directory is selected, that directory and all files and directories contained in the selected directory are added explicitly to the Trust Policy. Explicitly-added files are always included in the attestation of the machine governed by the Policy, but new files may be added without changing the resulting Trust Status. The lock icon next to each directory allows general rules to be applied to the folder using regular expressions. These rules control what files are measured n a directory, even if they are added later. For example, by locking a folder with the include expression , all files in the folder are measured, including files added later. Creating a new file in this folder results in the protected host becoming untrusted after its next reboot. Adding an exclude filter excludes any files matching the exclude expression. Exclude filters are applied after include filters, meaning a folder with an include filter of and an exclude filter of *.txt measures all files in the folder, with the exception of any files whose names contain the string . Folder lock rules can be applied to an individual folder, or can be applied recursively to all sub-folders as well. Any combination of explicitly selected files and directory lock filters can be used, including within the same folder.\nExplicitly-selected files are measured separately from lock filters. If a file is selected explicitly in a locked folder, and the lock filters would normally not include the explicitly selected file in the attestation measurement, the file is still measured and attested. Important: Ensure that files are measured only if they are not expected to change between reboots or, in the case of VM Trust Policies, that the files will not change between the source image and any instances. As an example, for a database workload, select the database executables, libraries, and configuration files, but do not select the actual database contents. 8.8.2 Creating a Trust Policy 8.8.2.1 Creating a Trust Policy for a Virtual Machine Image To create a Trust Policy, browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Select Images Upload Images to Trust Director . Select the appropriate Image Format for your image, and click Next . Select the image to be uploaded, and click Upload . The image is uploaded to the Trust Director. Select Trust Policy from the top bar, then click the Virtualized Server tab to see a list of all images that have been uploaded to the Trust Director. To create a new Trust Policy for an image, click the ( + ) button in the Trust Policy field. Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or **Hash and Enforce **launch control policy. Select Encrypt Image to encrypt the image. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations. Be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. If the encryption option was selected, the image is encrypted using a key from the KMS key broker. Set a name for the image (this is the name that appears in OpenStack), and select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. 8.8.2.2 Creating a Trust Policy for a Docker container Images To create a Trust Policy, browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Before creating a Trust Policy for Docker, Make sure you have an image uploaded to the Trust Director or have downloaded a Docker image from Docker Hub (registry). Refer to the Section 8.9.3 or Section 8.9.4 for instructions on how to download or upload a Docker container. Come back to this section if you have completed downloading or uploading a Docker image to Trust director. Once you have completed the uploading or downloading of Docker image, Navigate to the Trust Policy and Proceed to the Docker page Choose the Docker image that you want to create a trust Policy from the table  by clicking on the Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or Hash and Enforce launch control policy. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations. Be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. The name for the docker image will be composed by the repository name of the image and the tag name using a \":\" as delimiter, the image name will be displayed on the Policy Name field, for Upload Artifact field you must select Docker Image with Policy otherwise you will only upload the image without a policy atached. Clicking Upload Now uploads the image to the OpenStack Glance repository. 8.8.3 Downloading a Docker image from Docker Hub using Trust Director To download a Docker image from Docker hub, browse to the Trust Director portal and logon. Select Images then Add Images to the Trust Director . Select the appropriate image type: Docker then click Add . Select Pull from Hub , then supply the repository name and tag name of the Docker image you wish to download. Make sure the repo and tags are correct and has not been previously downloaded. Then press the Download button as show in the example below. Once the container is downloaded Trust Policy Page will be displayed and enabled. Click on the button and you will be redirected to the Trust Policy Page . The Trust Policy Page contains all the Docker Images that you have downloaded from Docker Hub or uploaded to the trust Director. From this page, you can delete the Docker image with the Trust Policy by clicking on the ( x ) button on the Delete column. You can also download the Docker image as a tarball. This is also the place where you can start creating the trust Policy of a Docker image. See screenshot below. Once you see a Docker image in the Trust policy page, you can now start creating the trust policy for Docker images. Proceed to Section 8.8.2.2 to create a Trust Policy for Docker images. 8.8.4 Uploading a Docker image to Trust Director To  upload a Docker image to Docker hub, browse to the Trust Director portal and logon. Select Images then Add Images to the Trust Director . Select the appropriate image type: Docker then click Add . Select Manual Upload. Browse through your disk or network shared folder to find the Docker image that you have downloaded and saved previously using A progress bar and porcentage will be displayed at the bottom of the page showing the progress of the upload process once completed a message will appear at the bottom of the page indicating the image was succesfully uploaded. Once the uploading process was completed you can close the pop window and then proceed to the Trust policy page by clicking on the Trust Policy page button. You will be taken to the Trust policy page which contains all the Docker Images that you have downloaded from Docker Hub or uploaded to the trust Director. From this page, you can delete the Docker image with the Trust Policy by clicking on the ( x ) button on the Delete column. You can also download the Docker image as a tarball. This is also the place where you can start creating the trust Policy of a Docker image. Once you confirm the Docker images in the Trust policy page, you can now start creating the trust policy for Docker images by clicking on the ( + ) icon. See screenshot below. Proceed to the Section 8.8.2.2 Creating Trust Policy for Docker Images to create the trust policy for Docker images. 8.8.5 Uploading Image to Trust Director To upload an image directly from the host were TD is installed you need to use the option \"Remote File Upload\". Select Images then Add Images to the Trust Director . Select the appropriate image type: Docker then click Add . Select Remote File Upload and enter the information required as the Absolute Image Location, Repository Name of the image and Tag Name for the docker image. Optionally you can set another name for the image. Once the uploading process was completed you can close the pop window and then proceed to the Trust policy page by clicking on the Trust Policy page button. You will be taken to the Trust policy page which contains all the Docker Images that you have downloaded from Docker Hub or uploaded to the trust Director. From this page, you can delete the Docker image with the Trust Policy by clicking on the ( x ) button on the Delete column. You can also download the Docker image as a tarball. This is also the place where you can start creating the trust Policy of a Docker image. Once you confirm the Docker images in the Trust policy page, you can now start creating the trust policy for Docker images by clicking on the ( + ) icon. See screenshot below. Proceed to the Section 8.8.2.2 Creating Trust Policy for Docker Images to create the trust policy for Docker images. 8.8.6 Creating a Trust Policy for a Non-Virtualized Server Browse to the Trust Director ( https://TrustDirectorIpOrHostname ) to create the non-virtualized server Trust Policy Select Trust Policy , then select Non-Virtualized Server and click Add New Policy . Provide a name for the new Trust Policy, as well as SSH details for the host that is used to generate the Policy (root permissions are needed to browse the full file structure of the remote host). Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations. Be sure to select only files that will not change between reboots. Files related to the Trust Agent are automatically selected for measurement on non-virtualized hosts; this is mandatory to preserve the Chain of Trust. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy ( trustpolicy.xml and manifest.xml ) are created and placed in the /boot/trust directory on the host. To deploy the same Trust Policy to other hosts, click the provided Download link. The trustpolicy.xml and manifest.xml files are downloaded in a tgz archive, and can be provisioned to all hosts that will have identical measured files to the source host. Note: When using the same Trust Policy on multiple servers, remember that Trust Policy measurements are not performed until rebooting the host after the Trust Policy has been deployed. It is suggested to either copy the Trust Policy immediately before installing the Trust Agent (and rebooting afterward), or (if the Trust Agent has already been installed) reboot the host after copying the Trust Policy. Any time the Trust Policy is modified, be sure to repeat the whitelisting and registration steps to update all hosts to use the new whitelisted measurements. A new GRUB boot option is created by the Trust Agent installer whose label begins with /etc/default/grub ) to use the TCB Protection option, and run update-grub so the change takes effect. Reboot the server so that the Trust Policy is included in the server attestation measurements. This causes the new Trust Policy measurements to be calculated and extended to PCR 19 in the TPM. 9.0 Whitelisting Guidelines White-listing consists of extracting known-good MLE values to use for later attestation. While a known-good host is used to provide these values, the MLEs are stored in the Attestation Service database and are only changed when deleted or overwritten by user action. If the known-good host\nchanges for any reason, the MLEs already captured are not updated unless a user with the appropriate roles repeats the white-listing procedure and overwrites the MLEs with new, updated values.\nRegistration of the known-good host for attestation is optional. MLEs are divided into two types: BIOS and VMM. To register a given host, MLEs appropriate for that host's BIOS and OS/hypervisor configuration must already exist in the Mt Wilson database. Note: Beginning in Intel 9.1 For BIOS MLEs: Select the OEM option to provide whitelist for each OEM type and BIOS version. All the hosts of a given OEM type BIOS version are verified with this whitelist. Select the HOST option to provide whitelist by specific host and BIOS version (for example, for HP Servers, by design PCR0 changes for every host). 9.2\tFor VMM/OS MLEs: Select the OEM option to provide whitelist for each OEM type and VMM/OS version. All the hosts of a given OEM type platform, VMM/OS version are verified with this whitelist. Select the HOST option to provide whitelist by host and VMM/OS version. This whitelist is used to verify ONLY the specified host. Select the GLOBAL option to provide the whitelist for each VMM/OS version and number. All the servers/hosts across all OEM types using the same platform run this specified VMM/OS version and build are verified with this whitelist. Note: OEM and Global VMM MLEs are specific to server platform (for example, Thurley vs Romley).\nIf your data center consists of a single OS/hypervisor version but has both Romley- and Thurley-platform-based servers for example, a separate VMM MLE is required for each of the two platforms even though the OS/hypervisor configuration is otherwise uniform. 9.3\tEncrypted Images Image encryption allows an enterprise to control whether or not instances of a given image may be launched on a given platform, by providing access to keys only to a successfully attested host, and by cryptographically binding the image decryption key to the hardware Trusted Platform Module of the attested host. When the first instance of an encrypted image is landed on a compute node by the OpenStack Nova scheduler, the Trust Agent intercepts the VM launch command and analyzes the Trust Policy for the VM. If the Trust Policy shows that the VM is an instance of an encrypted image, the Agent uses the key transfer URL found in the Policy to request the decryption key. This request is routed through the KMS Proxy (the URL for the KMS Proxy is defined for the Trust Agent installation), which requests a new trust attestation from the Attestation Service for the compute node (this attestation is performed using the Attestation Identity Key of the host to ensure that the resulting attestation is securely tied to the returned binding key). The KMS Proxy forwards the attestation to the key transfer URL for the image decryption key on the KMS. The KMS then analyzes the host attestation, ensuring the attestation is properly signed by an Attestation Service whose SAML and PrivacyCA keys are known (configured during KMS setup), and verifying that the attestation result was The host's binding key is the public half of an asymmetric key pair generated by the host's TPM at the time of Trust Agent installation. By sealing the decryption key using the public binding key, successful decryption of the image can only happen on a host with access to the TPM containing the private half of the binding key. The public binding key is included as part of the host trust attestation from the Attestation Service. Upon receipt, the Trust Agent then asks the host TPM to unwrap the decryption key; the decryption key is never stored on disk.  If the host is rebooted, the key must be requested (with the associated new attestation) again.  This happens automatically. The decryption key is then used to fully decrypt the image on the host, and also to mount an encrypted virtual disk on the host file system, where the decrypted image is placed. Effectively, so long as the host can access the decryption key, it is able to mount the encrypted virtual disk at boot and access instances of the image. In the event of a host reboot, the host automatically issues any needed key requests.  If the host is still trusted after the reboot, the key will be provided, and again unwrapped into memory using the host TPM.  The cryptfs mount is remounted, restoring access to the encrypted instances.  If the host is untrusted after the reboot, the key will be denied, and any encrypted instances will remain inaccessible. A CLI command can also be used to issue all needed key requests to remount the encrypted disks for all images running on a host: policyagent remount Scenarios where the wrapped key would be inaccessible include re-installing the Trust Agent (this replaces the Binding Key, and so keys wrapped using an old Binding Key can no longer be unwrapped and are therefore inaccessible), or temporary network unavailability. Rebuilding the instance from the Horizon dashboard re-downloads the decryption key and restores functionality, but all data separate from the base image is lost (rebuilding the instance essentially re-instantiates the instance from the base image, discarding any virtual disk change file, but preserving the instance ID, name, IP, and so on). 10 OpenStack Controller Changes The following modifications to the OpenStack controller are made by the Intel 10.1 Horizon Changes 10.1.1 Library and Configuration Changes File Changes and Other Notes distribution-location/python2.7/ cit_horizon_plugin.py Custom module written for enabling Trust and Geo-tag columns in Instances/Images/Hypervisors view of the Horizon dashboard. This module extends the views in images, instances and hypervisors view to add a column with Geo-tag and Trust icons. For the instances view, along with Trust and Geo-tag, the column also contains the VM attestation policy and status. distribution-location/python2.7/horizon_utils.py Utility class which is consumed by the above module. This utility class contains helper methods to call into CIT to retrieve the available asset tags, Hypervisor and VM attestation reports. distribution-location/openstack-dashboard/ openstack_dashboard/settings.py Need to add the CIT Attestation Service access details and credentials in the setttings.py configuration file. This is used by the helper methods in horizon_utils.py for calling into CIT. All the required configuration changes should be under the ASSET_TAG_SERVICE section. Example:      ASSET_TAG_SERVICE = {                'IP': 'xxx.xxx.xxx.xxx',                 'port': '8443',                'certificate_url': '/certificate-requests',                   'auth_blob': 'username:password',                'api_url': '/mtwilson/v2/host-attestations',                 'host_url': '/mtwilson/v2/hosts',                'tags_url': '/mtwilson/v2/tag-kv-attributes.json?filter=false'     } distribution-location/openstack-dashboard/ openstack_dashboard/local/local_settings.py This settings file has to be modified to enable the horizon_geo_tag override module to let Horizon pick the custom modules to render the Images/Instances/Hypervisor views. The following line has to be added in the HORIZON_CONFIG section.                              'customization_module': 'horizon_geo_tag.overrides' distribution-location/python2.7/dist-packages/horizon/static/ horizon/js/horizon.geotag.js The required javascript changes for the UI changes made on horizon. This has to be added to the list of js files to be loaded. File to be modified:                           /usr/lib/python2.7/distpackages/horizon/templates/horizon/_scripts.html horizon_geotag.less Required CSS changes to show the appropriate icons for Trust/Geo-tag column in the views on the dashboard. This CSS has to be appended to the appropriate CSS files relevant to the distribution/version of OpenStack being used. 10.1.2 Instance View Changes File Changes and Other Notes distribution-location/python2.7/dist-packages/nova/api/ openstack/compute/views/server Changes made to pass the Trust and Asset Tag values to the view override method distribution-location/openstack-dashboard/ openstack_dashboard/api/nova.py Changes made to add the Asset Tag properties to the instance details response. 10.1.3 Images Dashboard Changes File Changes and Other Notes distribution-location/openstack-dashboard/ openstack_dashboard/dashboards/project/ images/images/forms.py Modified the Create Image and Edit Image forms to support add/edit/get the distribution-location/openstack-dashboard/ openstack_dashboard/dashboards/project/ images_and_snapshots/images/views.py Modified to update the above created column of the table with the appropriate Policy value of the image. 10.1.4 Attestation Service Application Configuration Files Overall Intel mtwilson.properties Attestation Service attestation-service.properties SAML.jks (signing key) Whitelist Manager Service wlm-service.properties Management Service management-service.properties SAML.crt (certificate) Privacy CA privacyca.properties Management Console management-console.properties Whitelist Portal whitelist-portal.properties Trust Dashboard trust-dashboard.properties Security Framework shiro.ini Application:   /opt/mtwilson\nConfiguration: /etc/intel/cloudsecurity/\n               /opt/mtwilson/configuration\nData:\t   PostgreSQL database\nLogs:\t   /opt/mtwilson/share/apache-tomcat-7.0.34/logs/catalina.out 10.1.5 Trust Agent Item Default Value Notes Application home directory /opt/trustagent Policy Agent home directory (Image Privacy and Integrity Trust Agent ONLY) /opt/policyagent The Policy Agent is used only with OpenStack deployments, and analyzes VM Trust Policies. Tbootxm home directory /opt/tbootxm Tbootxm is an extension of tboot that measures files and directories specified in a non-virtualized server Trust Policy during system launch for extension to PCR 19. Vrtm home directory  (Image Privacy and Integrity Trust Agent ONLY) opt/vrtm VRTM is a component of the Trust Agent used only with OpenStack deployments. This is the agent that directs the VM measurement and attestation functions. Configuration directories /opt/trustagent/configuration /opt/policyagent/configuration /opt/tbootxm/configuration /opt/vrtm/configuration Command-line tools /opt/trustagent/bin /opt/policyagent/bin /opt/tbootxm/bin /opt/vrtm/bin Java components /opt/trustagent/java Item Default Value Notes Trust Agent logs /var/log/trustagent/trustagent.log Tentative: /opt/trustagent/log (may be linked to /var/ log/trustagent ) /var/log/policyagent/policyagent.log  /var/log/vrtm/vrtm.log Policy Agent logs (Image Privacy and Integrity Trust Agent ONLY) /opt/policyagent/logs Tbootxm logs /opt/tbootxm/logs Vrtm logs (Image Privacy and Integrity Trust Agent ONLY) /opt/vrtm/logs Temporary files /opt/trustagent/var (may be linked to /var/ trustagent ) 10.1.6 Trust Director Application:   /opt/director\nConfiguration: /opt/director/configuration, /opt/director/env\nData:\t   /opt/director/repository\nLogs:      \t   /opt/director/logs\nJava:\t   /opt/director/java 10.1.7 Attestation Reporting Hub Application:   /opt/attestation-hub\nConfiguration: /opt/attestation-hub/configuration, /opt/attestation-hub/env\nData:\t   /opt/attestation-hub/repository\nLogs:\t   /opt/attestation-hub/logs\nJava:\t   /opt/attestation-hub/java 10.1.8 Key Management Service 10.1.8.1 Check Server Version The following command displays the server version: # kms version \nVersion: 1.0 \nBranch: release-1.0\nTimestamp: 2014-12-16T15:37:28.702-0700 10.1.8.2 Check Server Status To check the server status: # kms status Output indicates if KMS is running or not running. For example: KMS is running Or, if the service is not running, this displays instead: KMS is not running 10.1.8.3 Start and Stop the Server To start the key server: # kms start\nStarted KMS To stop the key server: # kms stop\nStopped KMS To restart the key server: # kms restart \nStopped KMS Started KMS 10.1.8.4 Add, edit, or Remove User Permissions The administrator can use the password command to add, edit, or remove user permissions for password-based login to the key server. Note that password-based access is only available with Transport Layer Security. New users should be provided their passwords along with the key server's TLS certificate; they must install the server TLS certificate (add it to their trusted server certificate list) to secure their login to the key server. To add a new user: kms password username password --permissions permission1,permission2,... The permissions are comma-separated list of permissions. Each permission has the format domain:action , and a single wildcard character is allowed on each side to indicate *:* means superuser permission. To change a user's password, repeat the command to add the user and supply the new password. You can omit the permissions if they do not need to change: kms password username new-password To edit user permissions, repeat the command to add the user and supply the current password (or a new password) and new permissions. The new permissions overwrite the existing permissions. To list the current permissions for a user, use the following command: kms password username --list 10.1.8.5 List Users The administrator can use the password command to list existing users. kms password --list Output is one username per line. 10.1.8.6 Execute All Setup Tasks The setup tasks are documented in Section 10.1.8.6 . The following command executes all setup tasks, in order: kms setup Any environment variables needed by the setup tasks should be set before running the command. When all the setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. More detailed information is written to the KMS log. 10.1.8.7 Execute Specific Setup Tasks If you need to execute a specific setup task, you can name one or more tasks to execute in order on the command line. The following example executes two tasks: kms setup task1 task2 10.1.8.8 Validate a Setup Task Without Executing It If you need to check that a setup task has completed successfully but do not want to execute it (validation or dry run), you can use the --noexec option. The following example validates that an endorsement certificate has been requested, but does not actually request it: kms setup tasks... --no-exec 10.1.8.9 Force Execution of a Setup Task Even if It is Already Validated Normally, if a setup task has already been successfully completed, its execution is skipped. If you want to force that task to run again, you can use the --force option. The following example requests a new endorsement certificate even if a one has already been requested: kms setup tasks... --force 10.1.8.10 Continue Executing Subsequent Setup Tasks Even if One Fails Normally, if a setup task fails to complete, subsequent tasks are skipped. If you want to try running subsequent tasks anyway, you can use the --continue option. The following example attempts to take ownership and then requests a new AIK even if taking ownership fails: kms setup tasks... --continue 10.1.8.11 Setup Task Reference filesystem Ensures that configuration, features, and repository directories are created. update-extensions-cache-file Scans the installed application for available extensions and automatically register them in the extensions.cache file in the configuration folder. Should be executed after any update to the application software. password-vault Creates a file to store all other passwords needed by the server. The file is password-protected using the master password in KMS_PASSWORD . jetty-ports Configures default values for HTTP and HTTPS ports in kms.conf . jetty-tls-keystore Randomly-generates Jetty keystore password. Creates password-protected keystore file. Generates TLS keypair. notary-key Creates a key used to generate integrity signatures on key metadata. envelope-key Creates a key used by clients to wrap keys that should be registered with the key server. storage-key Creates a key used to encrypt user keys before storing them, for example before sending them to any back-end KMIP or Barbican server. saml-certificates Ensures there is a SAML certificates file present with trusted SAML certificates. tpm-identity-certificates Ensures there is a file present with trusted Privacy CA certificates. 10.1.8.12 Uninstall The uninstall command removes the KMS files but keeps the configuration, keys, and any credentials for remote services. To completely remove the KMS and its data, use the --purge argument. # kms uninstall --purge\n    Stopped KMS 10.1.8.13 Help The help command shows all available commands. Note: The setup command takes additional options and arguments, so it is described separately from the other commands. # kms help\nUsage: /usr/local/bin/kms start|stop|restart|status|version|zeroize|uninstall|help Usage: /usr/local/bin/kms setup [--force|--noexec] [task1 task2 ...]\nAvailable setup tasks: password-vault\njetty\njetty-tls-keystore notary-key envelope-key storage-key\nsaml-certificates\ntpm-identity-certificates 10.1.9 KMS Proxy 10.1.9.1 Check Server Version The following command displays the server version: # kmsproxy version \n  Version: 1.0 Branch: release-1.0\n  Timestamp: 2014-12-16T15:37:28.702-0700 10.1.9.2 Check Server Status To check the server status: # kmsproxy status Output indicates if the service is running or not running. For example: KMSPROXY is running Or, if the service is not running, This displays instead: KMSPROXY is not running 10.1.9.3 Start and Stop the Server To start the key server proxy: # kmsproxy start\n  Started KMSPROXY To stop the key server proxy: # kmsproxy stop\n  Stopped KMSPROXY To restart the key server proxy: # kmsproxy restart \n  Stopped KMSPROXY \n  Started KMSPROXY 10.1.9.4 Execute All Setup Tasks The setup tasks are documented in Section 10.1.8.6 . The following command executes all setup tasks, in order: kmsproxy setup Any environment variables needed by the setup tasks should be set before running the command. When all the setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. More detailed information is written to the KMSPROXY log. 10.1.9.5 Execute Specific Setup Tasks If you need to execute a specific setup task, you can name one or more tasks to execute in order on the command line. The following example executes two tasks: kmsproxy setup task1 task2 10.1.9.6 Validate a Setup Task Without Executing It If you need to check that a setup task has completed successfully, but do not want to execute it (validation or dry run), you can use the --noexec option. The following example validates that an endorsement certificate has been requested, but does not actually request it: kmsproxy setup tasks... --no-exec 10.1.9.7 Force Execution of a Setup Task Even if It is Already Validated Normally, if a setup task has already been successfully completed, its execution is skipped. If you want to force that task to run again, you can use the --force option. The following example requests a new endorsement certificate even if a one has already been requested: kmsproxy setup tasks... --force 10.1.9.8 Continue Executing Subsequent Setup Tasks Even if One Fails Normally, if a setup task fails to complete, subsequent tasks are skipped. If you want to try running subsequent tasks anyway, you can use the --continue option. The following example attempts to take ownership and then requests a new AIK even if taking ownership fails: kmsproxy setup tasks... --continue 10.1.9.9 Setup Task Reference filesystem Ensures that configuration, features, and repository directories are created. update-extensions-cache-file Scans the installed application for available extensions and automatically register them in the extensions.cache file in the configuration folder. Should be executed after any update to the application software. password-vault Creates a file to store all other passwords needed by the server. The file is password-protected using the master password in KMS_PASSWORD . jetty-ports Configures default values for HTTP and HTTPS ports in kms.conf . jetty-tls-keystore Randomly-generates Jetty keystore password. Creates password-protected keystore file. Generates TLS keypair and self-signed certificate, which can be customized by setting KMSPROXY_TLS_CERT_DN ( kmsproxy.tls.cert.dn ), KMSPROXY_TLS_CERT_IP ( kmsproxy.tls.cert.ip ), and KMSPROXY_TLS_CERT_DNS ( kmsproxy.tls.cert.dns ). mtwilson Registers a client with Mt. Wilson and requests the Attestation and Challenger roles. 10.1.9.10 Uninstall The uninstall command removes the KMS proxy files but keeps the configuration, keys, and any credentials for remote services. To completely remove the KMS proxy and its data, use the --purge argument. # kmsproxy uninstall --purge\n  Stopped KMSPROXY 10.1.9.11 Help The help command shows all available commands. Note: The setup command takes additional options and arguments, so it is described separately from the other commands. # kmsproxy help\n  Usage: /usr/local/bin/kms start|stop|restart|status|version|zeroize|uninstall|help Usage: /usr/local/bin/kms setup [--force|--noexec] [task1 task2 ...]\n  Available setup tasks: password-vault\n  jetty\n  jetty-tls-keystore mtwilson The help command can also show more detailed information about specific commands: kmsproxy help command 10.1.10 Attestation Service 10.1.10.1 Check Server Version The following command displays the server version: # mtwilson version \n  MtWilson Linux Utility \n  Version 3.0-SNAPSHOT\n  Build date ( source branch ) 10.1.10.2 Check Server Status To check the server status: # mtwilson status\n  Checking Tomcat process... Running (pid pid )\n  Checking if mtwilson is deployed on webserver...Deployed \n  Checking if mtwilson-portal is deployed on webserver... Deployed 10.1.10.3 Start and Stop the Server To start the Attestation Server: # mtwilson start To stop the Attestation Server: # mtwilson stop To restart the Attestation Server: # mtwilson restart 10.1.10.4 Change the Database Password and Update Configuration Files This change the current database password and updates the relevant Attestation Service configuration files with the new password. # mtwilson change-db-pass 10.1.10.5 Output Attestation Service SSH Key and SAML Certificate Fingerprints # mtwilson fingerprint\n\n== SSH HOST KEYS == 98:07:72:61:42:54:86:96:11:c0:07:9b:ac:8d:c8:67 (ECDSA-256)\n98:de:31:42:80:e0:61:ae:db:ab:9d:df:09:e3:45:f8 (DSA-1024)\n22:95:2a:72:e2:41:94:f2:08:20:0e:76:fd:39:00:da (RSA-2048)\n88:bf:60:02:05:d5:26:62:03:79:09:e7:96:26:b5:83 (ED25519-256)\n== MT WILSON SAML CERTIFICATE ==\nOwner: CN=mtwilson, OU=Mt Wilson, O=Intel, L=Folsom, ST=CA, C=US\nValid from: Fri Aug 21 13:01:28 PDT 2015 until: Mon Aug 18 13:01:28 PDT 2025 \n        MD5:  36:9D:B2:D2:12:6B:12:4C:9D:51:C5:00:38:0D:31:F4\n        SHA1: 07:88:E6:41:32:CE:D9:6E:A0:94:0E:17:D2:2F:4E:89:1C:32:51:98 10.1.10.6 Detect and Output Currently-Installed Version of and Installation Location Java This command is used for troubleshooting. If the Attestation Service cannot detect a valid version of Java, installation and functionality fail. The Java version must be equal or greater than the specified minimum Java version in the installation answer file. # mtwilson java-detect \n  JAVA_HOME=/usr/share/jdk1.7.0_51 \n  java_bindir= \n  java=/usr/share/jdk1.7.0_51/bin/java 10.1.10.7 Detect and Output Currently-Installed Version and Installation Location of MySQL # mtwilson mysql-detect\n  mysql= path 10.1.10.8 Create a New MySQL SSL Certificate Authority # mtwilson mysql-sslcert\n  Creating MySQL Certificate Authority... Generating RSA private key, 2048 bit long modulus\n  ....................................................+++\n  ....................................................................................\n  ................+++ \n  e is 65537 (0x10001)\n  Creating MySQL SSL Certificate... \n  Generating a 1024 bit RSA private key 10.1.10.9 Detect and Output Currently Installed Version and installation location of Tomcat # mtwilson tomcat-detect\n  TOMCAT_HOME=/usr/share/apache-tomcat-7.0.34 \n  tomcat_bin=/usr/share/apache-tomcat-7.0.34/bin/catalina.sh\n  tomcat=\"env PATH=/usr/share/jdk1.7.0_51/bin:/usr/local/sbin:/usr/local/bin:/usr sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games JAVA_HOME=/usr/share/jdk1.7.0_51 CATALINA_HOME=/usr/share/apache-tomcat-7.0.34 CATALINA_BASE=/usr/share/apache-tomcat\n  7.0.34 CATALINA_CONF=/usr/share/apache-tomcat-7.0.34/conf /usr/share/apache-tomcat 7.0.34/bin/catalina.sh\" 10.1.10.10 Generate a New Tomcat SSL Certificate # mtwilson tomcat-sslcert 10.1.10.11 Check the Status of the Tomcat Web Server This command also outputs the Tomcat TLS certificate fingerprint information. # mtwilson tomcat-status\n  Checking Tomcat process... Running (pid 31418)\n  Owner: CN=10.1.71.130, CN=127.0.0.1, OU=Mt Wilson, O=Trusted Data Center, C=US \n  Valid from: Fri Aug 21 13:01:18 PDT 2015 until: Mon Aug 18 13:01:18 PDT 2025\n  MD5:  DF:AE:44:60:12:10:5D:2B:04:CE:BE:0A:AE:D6:45:39\n  SHA1: C5:B8:5D:90:E1:3D:42:58:F0:13:02:38:54:C9:66:4C:0D:C3:27:AF 10.1.10.12 Backup and Restore All Keys, Certificates, and Secrets Used by the Attestation Service These commands backup and restore all Attestation Service keys, certificates, and secrets to/from an encrypted blob file. These can be used to back up and restore keys when performing Attestation Service re-installations, and to restore functionality and access to data in the event of an accidental deletion. An encryption password must be set before running these commands. This password is used to encrypt or decrypt the secrets to/from the encrypted blob file. To set the encryption password, export the MTWILSON_PASSWORD variable with a password value. # export MTWILSON_PASSWORD= password mtwilson key-backup\n\t  Keys backed up to: /var/mtwilson/key-backup/mtwilson-keys_2015-09-03.135329.enc\n  \n  mtwilson key-restore path_to_file mtwilson key-restore /var/mtwilson/key-backup/mtwilson-keys_2015-09-03.135329.enc \n  Keys restored from: /var/mtwilson/key-backup/mtwilson-keys_2015-09-03.135329.enc 10.1.10.13 Execute All Setup Tasks The setup tasks are documented in the next section. The following command executes all setup tasks, in order: # mtwilson setup Any environment variables needed by the setup tasks should be set before running the command. When all the setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. 10.1.10.14 Execute Specific Setup Tasks If you need to execute a specific setup task, you can name one or more tasks to execute in order on the command line. The following example executes two tasks: # mtwilson setup task1 task2 10.1.10.15 Validate a Setup Task Without Executing It If you need to check that a setup task has completed successfully, but do not want to execute it (validation or dry run), you can use the --noexec option. # mtwilson setup tasks... --no-exec 10.1.10.16 Force Execution of a Setup Task Even if It is Already Validated Normally, if a setup task has already been successfully completed, its execution is skipped. If you want to force that task to run again, you can use the --force option. # mtwilson setup tasks... --force 10.1.10.17 Continue Executing Subsequent Setup Tasks Even if One Fails Normally, if a setup task fails to complete, subsequent tasks are skipped. If you want to try running subsequent tasks anyway, you can use the --continue option. # mtwilson setup tasks... --continue 10.1.10.18 Uninstall The uninstall command removes the Attestation Server files but keeps the configuration, keys, and any credentials for remote services. To completely remove the Attestation Service and its data, use the zeroize , erase-data , and erase-users -all commands first, because as they are not available after uninstall. # mtwilson uninstall To erase all data (excluding user information) from the Attestation Service database: # mtwilson erase-data To erase user data from the Attestation Service database: # mtwilson erase-users --all By default, erase-users deletes all users except those with the word -all switch. Note that this terminates all access to the Attestation Service, but the data remains in the database. To immediately delete all certificates and cryptographic keys from the Attestation Service and the database: # mtwilson zeroize 10.1.10.19 Help Displays basic command options. # mtwilson help\n  Usage: mtwilson {change-db-pass|erase-data|erase-users|fingerprint|help| glassfish-detect|glassfish-enable-logging|glassfish-sslcert| glassfish-status|java-detect|mysql-detect|mysql-sslcert| tomcat-detect|tomcat-sslcert|tomcat-status|key-backup|\n  key-restore|restart|setup|start|status|stop|uninstall|version| zeroize} 10.1.11 Trust Agent 10.1.11.1 Start # tagent start\n  Started trust agent 10.1.11.2 Stop # tagent stop\n  Stopped trust agent 10.1.11.3 Restart # tagent restart \n  Stopped trust agent \n  Started trust agent 10.1.11.4 Status # tagent status\n  Trust agent is running Or, if the service is not running, this displays instead: Trust agent is not running 10.1.11.5 Version # tagent version trustagent\n  Version 2.0-SNAPSHOT\n  Build release-2.0 at 2014-07-16T15:37:28.702-0700 10.1.11.6 Authorize This command forces the Trust Agent to re-establish all certificates and authentication with the Attestation Server. This can be used if, for example, the Attestation Server has been re-installed and now uses new certificates. # tagent authorize \n  Stopped trust agent \n  Started trust agent 10.1.11.7 Setup This command is fully described in the Trust Agent subsection of the Installation and Configuration Options section of this guide. # tagent setup 10.1.11.8 Uninstall This command uninstalls the Trust Agent, but does not remove any other component (vrtm, tbootxm, policyagent). These components need to be uninstalled separately. If the Trust Agent is uninstalled and then re-installed, the host record in the Attestation Service is not automatically removed. After re-installing the Trust Agent, the host should be re-registered in the Attestation Server. # tagent uninstall --purge \n  Stopped trust agent \n  Stopping Monit service... 10.1.11.9 Help # tagent help\n  Usage: /usr/local/bin/tagent start|stop|authorize|start-http-server|version Usage: /usr/local/bin/tagent setup [--force|--noexec] [task1 task2 ...] \n  Available setup tasks:\n  configure-from-environment \n  create-keystore-password \n  create-tls-keypair\n  create-admin-user \n  create-tpm-owner-secret \n  create-tpm-srk-secret \n  create-aik-secret\n  take-ownership\n  download-mtwilson-tls-certificate \n  download-mtwilson-privacy-ca-certificate \n  request-endorsement-certificate\n  request-aik-certificate register-tpm-password 10.1.12 Trust Director 10.1.12.1 Start # director start 10.1.12.2 Stop # director stop 10.1.12.3 Restart # director restart 10.1.12.4 password-vault # director setup password-vault 10.1.12.5 director-envelope-key # director setup director-envelope-key 10.1.12.6 director-envelope-key-registrationStart # director setup director-envelope-key-registrationStart 10.1.12.7 Uninstall # director uninstall --purge 10.1.12.8 Help # director help\n  Usage: /usr/local/bin/director start|stop|uninstall|version\n  Usage: /usr/local/bin/director setup [--force|--noexec] [task1 task2 ...] \n  Available setup tasks:\n  password-vault \n  director-envelope-key\n  director-envelope-key-registrationStart 10.1.13 Attestation Reporting Hub 10.1.13.1 Start # attestation-hub start 10.1.13.2 Stop # attestation-hub stop 10.1.13.3 Restart # attestation-hub restart 10.1.13.4 password-vault # attestation-hub setup password-vault 10.1.13.5 Uninstall # attestation-hub uninstall --purge 10.2 Installation and Configuration Options 10.2.1 Attestation Service The Attestation Service can be configured during installation using an answer file. If an answer file is not provided or a required option is missing, the installer prompts the user for the required information. The answer file must be named mtwilson.env and should be placed in the same directory as the installer, or in the /root/ directory. After installation, configuration is managed by several .properties files located in the /etc/intel/cloudsecurity/ directory. These files are encrypted by default. Use caution when modifying these files, as incorrect configuration can cause the Attestation Service to stop functioning. 10.2.1.1 Installation Options Table 2. Installation Options (set in mtwilson.env ) Environment Variable Default Value or Example Notes ADD_POSTGRESQL_REPO yes Required to download and install PostgreSQL 9.3 if installing on Ubuntu,12.04. Unnecessary if PostgreSQL 9.3 has already been downloaded. DATABASE_HOSTNAME 127.0.0.1 The IP Address or hostname of the database server. This can be the local machine (default) if the database resides on the Attestation Service VM, or can be set to a remote server's IP Address or hostname if the database is set up elsewhere. See the configuration instructions for remote databases in Section 8.7. DATABASE_PASSWORD mypassword The password for the Attestation Service database. mtwilson.db.password DATABASE_PORTNUM 5432 The port number of the database server. By default, use 5432 for PostgreSQL. DATABASE_SCHEMA mw_as The schema name for the Attestation Service database. The default is If a schema name other than the default is desired, it must be manually created on the database server, along with a user with full privileges over the schema, before the Attestation Service installation is performed. The installer only creates a database schema named DATABASE_USERNAME root The user name for the Attestation Service database. mtwilson.db.user DATABASE_VENDOR postgres The database vendor. Currently the only accepted value is b postgres. b INSTALL_LOG_FILE /tmp/mtwilson-install.log Sets the path for the installation log. INSTALL_PKGS \"postgres java tomcat logrotate privacyca SERVICES PORTALS\" Tells the installer which packages to be installed as a space-separated list. It takes the following possible options: b logrotate /b (installs the logrotate log management service) INSTALLED_MARKER_FILE /var/opt/intel/.mtwilsonInstalled Creates an installation flag in the designated location that can be used by ISVs to confirm whether the Attestation Service installation has been completed. JAVA_REQUIRED_VERSION 1.7.0_51 The minimum required Java version. The value shown is the default. LOG_COMPRESS compress Compresses old rotated logs in .zip,format. This setting used is only if b Logrotate /b is installed. LOG_COPYTRUNCATE copytruncate Truncate the original log file in place after creating a copy, instead of moving the old log file and optionally creating a new one. This setting used is only if b Logrotate /b is installed. LOG_DELAYCOMPRESS delaycompress Postpones compression of older rotated log files until the next log rotation. This setting used is only if b Logrotate /b is installed. LOG_OLD 2 Sets the number of log rotations to retain. This setting used is only if b Logrotate /b is installed. LOG_ROTATION_PERIOD daily Sets the time period used for log rotation. Acceptable values can include daily, hourly, weekly, monthly, and yearly. This setting used is only if b Logrotate /b is installed. LOG_SIZE 100M Creates a new log file and rotates at this size threshold. This setting used is only if b Logrotate /b is installed. MC_FIRST_PASSWORD mypasword The password for the administrative user defined in i MC_FIRST_USERNAME /i . MC_FIRST_USERNAME admin The username that is used for the initial default administrative user. This user account is used to approve any additional users created through the b Registration /b link on the logon page of the portal. MTWILSON_API_BASEURL https://$[MTWILSON_SERVER]:8443/ mtwilson/v1 The Base URL for Mt. Wilson v1 APIs. This value should be set to: i \"https://$[MTWILSON_SERVER]:/mtwilson/v1\" /i Replace with the port for the web server that is used (8443 for Tomcat by default). MTWILSON_OWNER root Sets the user that owns the Mt. Wilson installation (root by default).This user is created if it does not already exist. MTWILSON_OWNER_PASSWORD mypasword Sets the password for the Mt. Wilson owner user specified above if it does not already exist. Not used if the user already exists (does not change existing passwords). MTWILSON_SERVER Myserver.mydomain.com The IP Address or hostname of the Attestation Service server. MTWILSON_TAG_ADMIN_PASSWORD mypassword Password for the account that is used for pull tag provisioning. MTWILSON_TAG_ADMIN_USERNAME tagadmin Username for the account that is used for pull tag provisioning. MTWILSON_TAG_CERT_IMPORT_AUTO TRUE If set to b TRUE /b (default), all asset tag certificates are automatically imported to be matched to an appropriate host for tag attestation. If set to b FALSE /b , the certificates are not imported automatically. Attestation of asset tag information depends on the certificate being imported, so it is recommended that this be set to b TRUE /b for most deployments. MTWILSON_TAG_HTML5_DIR /usr/share/apache-tomcat-7.0.34/ webapps/mtwilson-portal/tag The path to the asset tag HTML5 information. This path can change if the web service has been installed in a directory other than the path used by default. MTWILSON_TAG_KEY_PASS mypassword Mt. Wilson tag key password. MTWILSON_TAG_KEYSTORE /opt/mtwilson/configuration/ serverAtag.jks Mt. Wilson tag keystore path MTWILSON_TAG_KEYSTORE_PASS mypassword Mt. Wilson tag keystore password. MTWILSON_TAG_SERVER_PRIVATE 192.168.1.1 The IP Address for the adapter on the private PXE network used for pull provisioning. Not required if pull provisioning is not used. NO_POSTGRES_MONIT FALSE Do not install PostgreSQL configuration for b monit /b . NO_TOMCAT_MONIT FALSE Do not install Tomcat configuration for b monit /b . POSTGRES_DATABASE $[DATABASE_SCHEMA] The schema name for the Attestation Service database. This should not be changed, as it is set by the i DATABASE_SCHEMA /i variable POSTGRES_HOSTNAME $[DATABASE_HOSTNAME] The IP Address or hostname of the database server. This should not be changed, as it is set by the i DATABASE_HOSTNAME /i variable. POSTGRES_PASSWORD $[DATABASE_PASSWORD] The password for the Mt. Wilson database. This should not be changed, as it is set by the i DATABASE_PASSWORD /i variable. POSTGRES_PORTNUM $[DATABASE_PORTNUM] The port number for the Postgres server. POSTGRES_REQUIRED_VERSION 9.3 The minimum required Postgres version. The value shown is the default. POSTGRES_USERNAME $[DATABASE_USERNAME] The user name for the Attestation Service database. This should not be changed, as it is set by the i DATABASE_USERNAME /i variable. PRIVACYCA_DOWNLOAD_PASSWORD The password for the PrivacyCA user defined in i PRIVACYCA_DOWNLOAD_USERNAME /i . PRIVACYCA_DOWNLOAD_USERNAME The username used for authenticating Trust Agent hosts. This username and its associated password are entered when installing the Trust Agent on a host so that the Trust Agent can download required certificate information from the Attestation Service server. TAG_ISSUER_DN Tag issuer distinguished name. TAG_PROVISION_EXTERNAL FALSE If set to b FALSE /b (default), the built-in certificate authority is used to sign certificate requests. If set to b TRUE /b , certificate requests are not signed automatically, so that the external certificate authority can sign them instead. TAG_PROVISION_NOCACHE TRUE If this is set to b TRUE /b , tag provisioning request ignores any existing valid certificates for the specified host and creates a new certificate with the specified selection. If set to b FALSE /b , the most recent existing valid certificate is provisioned, and a new certificate is only created if there is no existing valid certificate for the specified host. TAG_PROVISION_XML_ENCRYPTION_REQUIRED FALSE Determines whether XML encryption is required. If this is set to b FALSE /b , asset tag provisioning requests using an XML of tag selections can be used without being encrypted. If this value is set to b TRUE /b , only encrypted XMLs are accepted. TAG_PROVISION_XML_PASSWORD mypassword XML encryption password. TAG_VALIDITY_SECONDS 31536000 Tag certificate validity duration in seconds. TOMCAT_CREATE_SSL_CERT yes A b yes /b value tells the installer to create a new SSL certificate. A b no /b skips the SSL certificate creation. An SSL certificate then needs to be provided. TOMCAT_REQUIRED_VERSION 7 The minimum required Tomcat version. TOMCAT_SSL_CERT_CN $[MTWILSON_SERVER] The Common Name (CN) of the SSL certificate MUST contain the IP Address or the hostname of the Mt. Wilson server. Use comma-separated values for multiple CN entries (hostname, IP, etc.). This needs to include the IP Addresses for ALL adapters that communicate with Mt. Wilson. Using the value of $[MTWILSON_SERVER], 127.0.0.1,,and the IP Address for the PXE network for Pull asset tag provisioning (if Pull provisioning is used) is recommended. WEBSERVER_VENDOR tomcat The application server to be used. Currently the only accepted value is b tomcat /b . Several users are created during the Attestation Service installation. Each of these users is created with different roles and permissions for different purposes: MC_FIRST_USERNAME This user is created with full Administrator rights. This user can be used to approve new users, as well as any other task with the Attestation Service. Use this user sparingly. PRIVACYCA_DOWNLOAD_USERNAME This user is created with permissions to create and retrieve TPM passwords, to download the PrivacyCA certificate from the Attestation Service, and to create VM attestations. This user is intended for use when installing the Trust Agent. MTWILSON_TAG_ADMIN_USERNAME This user is created with permissions to create host attestations, as well as all permissions for Asset Tagging. This user is recommended for use with the OpenStack Controller for OpenStack deployments, as it has all required permissions for the OpenStack scheduler plugins and other tasks required for integration. 10.2.1.2 Configuration Options These configuration settings are saved in .properties files in /etc/intel/cloudsecurity/ . These files are encrypted by default after installation. These properties can be viewed using the following command: # mtwilson export-config --in= path_to_properties_file --stdout If no specific .properties file is specified, mtwilson.properties is used. To change the value of any configuratiofn setting in mtwilson.properties, use the following command: # mtwilson config key value To change the value of any property not in mtwilson.properties, decrypt the needed properties file, change the property, and then re-encrypt the file: # mtwilson export-config --in= path_to_encrypted_file --out= temporary_filename Make changes in the temporary file: # mtwilson import-config --in= temporary_filename --out= path_to_encrypted_file Note: The mtwilson.properties file is a master configuration file. When Attestation Service components start up, properties configured in this file take precedence. Table 3. mtwilson.properties 10.3.3 Attestation Servic Configuration Key Default Value or Example Notes dbcp.validation.on.borrow= true dbcp.validation.on.return= false dbcp.validation.query= select 1 . mtwilson.api.tls.policy.certificate.sha1= sha1 of the Attestation Service TLS certificate sha1 of the Attestation ServiceTLS certificate. mtwilson.api.url= https\\://{AttestationService IP or Hostname}\\:8443/mtwilson/v1 Base URL for v1 APIs. mtwilson.as.autoUpdateHost= false This setting is for a futurefeature of the Attestation Service.This setting must be set to false mtwilson.as.dek= Randomly-generated password Decryption key used by the Attestation Service to encrypt sensitive connectivity details in the database, such as vCenter administrator passwords. mtwilson.privacyca.aik.p12.password= Randomly-generated password Password for the PrivacyCA Attestation Identity Key (AIK). mtwilson.privacyca.ek.p12.password= Randomly-generated password Password for the Privacy CA Endorsement Key (EK). mtwilson.tls.keystore.password= Randomly-generated password Password to the Attestation Service TLS keystore. Web Service Settings mtwilson.webserver.vendor= tomcat Defines the web service application being used. tomcat.admin.password= Randomly-generated password Randomly-generated password for the web service account. tomcat.admin.username= admin Defines the username for a web service account that is used to run Attestation Service components instead of root. Database Configuration mtwilson.db.driver= org.postgresql.Driver The database connection driver to be used. mtwilson.db.host= 127.0.0.1 IP Address or hostname of the database server. mtwilson.db.password= password Database password. mtwilson.db.port= 5432 Database server port. mtwilson.db.schema= mw_as Database schema name (mw_as by default). mtwilson.db.user= root Database username. Asset Tag Configuration mtwilson.atag.html5.dir= /usr/share/apache-tomcat-7.0.34/ webapps/mtwilson-portal/tag The path to the asset tag HTML5 information. By default this is: i /usr/share/apache-tomcat-7.0.34/ webapps/ mtwilson-portal/tag /i mtwilson.atag.mtwilson.baseurl= https\\://[AttestationService Ip or Hostname]\\:8443/mtwilson/v1/ AttestationService/resources/ assetTagCert he base URL for Asset Tag APIs. This appears in the following format: i https\\://[MtWilson IP or Hostname]\\:[MtWilson Port]/mtwilson/ v1/ AttestationService/resources/assetTagCert /i mtwilson.atag.url= https\\://[AttestationService IP or Hostname]\\:8443/mtwilson/v2 The base URL for Asset Tag API resources. The default value is: https\\://[AttestationService IP or Hostname]\\:8443/mtwilson/v2. mtwilson.locales= en-US Defines the locale for the Attestation Service language settings. Currently only en-US is supported. mtwilson.tag.api.password= Randomly-generated password Credentials for a background user used by the Asset Tag service. mtwilson.tag.api.username= tagservice Credentials for a background user used by the Asset Tag service. tag.issuer.dn= CN\\=mtwilson-tag-ca Distinguished Name to be used in Asset Tag certificates created by the Attestation Service. tag.provision.autoimport= true If set to true (default), all asset tag certificates are automatically imported to be matched to an appropriate host for tag attestation. If set to b false /b , the certificates are not imported automatically. Attestation of asset tag information depends on the certificate being imported, so Intel recommends that this be set to b true /b for must deployments. tag.provision.external= false Use external CA instead of the built-in CA. If set to b true /b , certificates are not automatically signed by the Attestation Service CA, and all certificates need to be signed by the external authority instead. Set to b false /b by default. tag.provision.xml.encryption.password= password Password to decrypt encrypted XML files. tag.provision.xml.encryption.required= false Determines whether the Attestation Service accepts Asset Tags selections unencrypted. Set to b false /b by default, which enables plain- text XML to be used when generating selections or certificates. If set to b true /b , only properly encrypted XML input is allowed. tag.validity.seconds= 31536000 This defines the validity duration for Asset Tag certificates in seconds. TLS Policy Configuration mtwilson.default.tls.policy.id= TRUST_FIRST_CERTIFICATE Sets the default TLS policy. Can be the name or Universally Unique Identifier (UUID) of a specific shared policy. This policy is used for all APIs that do not specify another TLS policy. mtwilson.tls.policy.allow= certificate,certificate-digest, public-key,public-key-digest, TRUST_FIRST_CERTIFICATE, INSECURE Comma-separated list of allowed TLS policy types. Possible values are: Table 4. audit-handler.properties Configuration Key Default Value or Example Notes mountwilson.audit.async true Defines whether to do the auditing in a synchronous manner, or not. mountwilson.audit.db.driver org.postgresql.Driver JDBC connection driver. mountwilson.audit.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.audit.db.password= password Database password. mountwilson.audit.db.port= 5432 Database port mountwilson.audit.db.schema= mw_as Database schema name. mountwilson.audit.db.user= root Database username. mountwilson.audit.enabled= true Enables or disables auditing. mountwilson.audit.logunchangedcolumns false Defines whether to log all the columns or just the changed columns for any updates. Table 5. attestation-service.properties Configuration Key Default Value or Example Notes Database Configuration mountwilson.as.db.driver= org.postgresql.Driver These settings are used by the attestation service to verify Attestation Identification Key (AIK) quotes. b Do not change these settings /b . untwilson.as.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.as.db.password= password The database connection driver to be used. mountwilson.as.db.port= 5432 Database schema name (mw_as by default). mountwilson.as.db.schema= mw_as Database username. mountwilson.as.db.user= root Database password Trust Agent Quote Verification com.intel.mountwilson.as.aikqverify.cmd= aikqverify com.intel.mountwilson.as.home= /var/opt/intel/aikverifyhome com.intel.mountwilson.as.openssl.cmd= openssl.sh SAML Configuration saml.key.alias= samlkey1 Alias of the SAML certificate in the SAML keystore. saml.key.password= Randomly-generated password Password for the SAML certificate in the SAML keystore. saml.keystore.file= /etc/intel/cloudsecurity/SAML.jks The path to the SAML keystore in .jks,format. saml.keystore.password= Randomly-generated password Password to the SAML keystore. saml.validity.seconds= 3600 The length of time, in seconds, that a SAML assertion is considered valid. Performance mtwilson.bulktrust.threads.max= 32 Bulk trust APIs can get attestation reports from multiple hosts simultaneously. This setting controls the maximum number of concurrent threads that the Attestation Service uses. This value is set at 32 threads by default. Miscellaneous com.intel.mountwilson.as.trustagent.timeout 600 Number of seconds that Attestation Service should wait for a response from a trust agent. mtwilson.api.url= https\\://[AttestationService IP or Hostname]\\:8443 /mtwilson/v1 The base URL for the v1 APIs. mtwilson.as.dek Randomly-generated password The base64 encoded form of the data encryption key. This key is used to encrypt credentials stored in the database that are used to access vCenter and Citrix Xen APIs. privacyca.server Hostname or IP Address Set the local host's external IP Address or hostname. Table 6. wlm-service.properties Configuration Key Default Value or Example Notes Database Connection mountwilson.as.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.as.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.as.db.password= password Database password. mountwilson.as.db.port= 5432 Database server port. mountwilson.as.db.schema= mw_as Database schema name (mw_as by default). mountwilson.as.db.user= root Database username. Table 7. management-service.properties Configuration Key Default Value or Example Notes mtwilson.api.baseurl https://attestation.servername:8443/ mtwilson/v1 Database mountwilson.ms.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.ms.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.ms.db.password= password Database password. mountwilson.ms.db.port= 5432 Database server port. mountwilson.ms.db.schema= mw_as Database schema name (mw_as by default). mountwilson.ms.db.user= root Database username. mtwilson.api.baseurl= https://10.1.71.130:8443/mtwilson/v1 Base URL for the v1 APIs. mtwilson.api.ssl.policy TRUST_FIRST_CERTIFICATE mtwilson.ms.biosPCRs= 0;17 Configures the default PCRs to be used for a future Attestation Service feature. b DO NOT CHANGE /b mtwilson.ms.bulkmgmt.threads.max 32 mtwilson.ms.registration.hostTimeout 600 Timeout value for bulk host registration in seconds. mtwilson.ms.vmmPCRs= 18;19;20 Configures the defaultPCRs to be used for a future Attestation Service feature. b DO NOT CHANGE /b . mtwilson.privacyca.certificate.file= PrivacyCA.p12.pem Filename of the Attestation Service Privacy CA certificate in i .pem /i format. mtwilson.rootca.certificate.file= MtWilsonRootCA.crt.pem Filename of the Attestation Service Root CA certificate in i .pem /i format. mtwilson.saml.certificate.file= saml.crt.pem Filename of the Attestation Service SAML certificate in i .pem /i format. mtwilson.ssl.required true mtwilson.tls.certificate.file= ssl.crt.pem Filename of the Attestation Service TLS certificate in i .pem /i format. Table 8. mtwilson-portal.properties Configuration Key Default Value or Example Notes mtwilson.api.baseurl= https://[AttestationService IP or Hostname]:8443/mtwilson/v1 The base URL for the v1 APIs. mtwilson.api.ssl.policy= TRUST_FIRST_CERTIFICATE Name or UUID of the default TLS Policy to be used when a TLS policy is not specified. Management Console properties mtwilson.mc.keystore.dir= /var/opt/intel/management-console/ users Path to users folder for management console user keystores. This property is no longer used as user keystores are now located in the database. Portal Icon Configuration imagesRootPath= images/ Root path for portal icons. kvm= images/kvm.png Path to the icon to display for KVM hosts suse= images/suse.png Path to the icon to display for SuSe hosts. trustFalse= images/Untrusted.png Path to the icon to display for untrusted attestations trustTrue= images/Trusted.png Path to the icon to display for trusted attestations. trustUnknown= images/Unknown.png Path to the icon to display for unknown attestations. ubuntu= images/ubuntu.png Path for the icon to display for Ubuntu hosts. vmware= images/vmware.png Path to the icon to display for VMware hosts. xen= images/xen.png Path to the icon to display for Xen hosts. Session Timeout Settings mtwilson.tdbp.sessionTimeOut= 1800 Duration in seconds for the portal login session to time out and require a new login. Page Formatting mtwilson.tdbp.paginationRowCount= 10 Number of results to display per page. Trust Dashboard Users Configuration mtwilson.tdbp.keystore.dir= /var/opt/intel/trust-dashboard/users Path to users folder for Trust Dashboard user keystores. This property is no longer used as user keystores are now located in the database. Whitelist Portal Properties mtwilson.wlmp.keyStoreFileName= /etc/intel/cloudsecurity/mw.jks Deprecated and no longer used. mtwilson.wlmp.moduleAttestation= VMWARE mtwilson.wlmp.moduleAttestationVersion= 5.1 mtwilson.wlmp.openSourceHypervisors= KVM:Xen mtwilson.wlmp.pagingSize= 8 Number of results to display per page. mtwilson.wlmp.sessionTimeOut= 1800 Duration in seconds for the portal login session to time out and require a new login. mtwilson.wlmp.vmwareHypersior= ESXi Database Configuration mountwilson.as.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.as.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.as.db.password= password Database password. mountwilson.as.db.port= 5432 Database server port. mountwilson.as.db.schema= mw_as Database schema name (mw_as by default). mountwilson.as.db.user= root Database username. mountwilson.mc.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.mc.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.mc.db.password= password Database password mountwilson.mc.db.port= 5432 Database server port. mountwilson.mc.db.schema= mw_as Database schema name (mw_as by default). mountwilson.mc.db.user= root Database username. mountwilson.mcp.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.mcp.db.port= 5432 Database server port. mountwilson.mcp.db.schema= mw_as Database schema name (mw_as by default). mountwilson.mcp.db.user= root Database username. mountwilson.ms.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.ms.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.ms.db.password= password Database password mountwilson.ms.db.port= 5432 Database server port. mountwilson.ms.db.schema= mw_as Database schema name (mw_as by default). mountwilson.ms.db.user= root Database username. mountwilson.tdbp.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.tdbp.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.tdbp.db.password= password Database password mountwilson.tdbp.db.port= 5432 Database server port. mountwilson.tdbp.db.schema= mw_as Database schema name (mw_as by default). mountwilson.tdbp.db.user= root Database username. mountwilson.wlmp.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.wlmp.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.wlmp.db.password= password Database password mountwilson.wlmp.db.port= 5432 Database server port. mountwilson.wlmp.db.schema= mw_as Database schema name (mw_as by default). mountwilson.wlmp.db.user= root Database username. 10.2.1.3 Security Configuration The Attestation Service uses the Apache Shiro access control framework. Background information on Apache Shiro can be found on the project website ( https://shiro.apache.org/web.html ). This section describes how Apache Shiro is used in the Attestation Service and how to configure authentication and authorization. Authentication and authorization in the Attestation Service are configured in the shiro.ini file, located in /etc/intel/cloudsecurity . The default shiro.ini configuration, shown below, defines a series of realms and authentication filters, and then applies the filters to various URL patterns. A realm is the source of authentication information, for example the hashed password table. An authentication filter examines each incoming request and determines if it knows how to parse it to obtain the client's credentials and pass them on to the corresponding realm to obtain the authentication information corresponding to the client's credentials. The credentials (authorization token) are evaluated against the authentication information to determine if the password is correct, or if the request signature was can be verified with a known X059 certificate. Every authentication filter has a chance to look at the request. If no credentials are provided that the filter recognizes, the filter ignores that request and the next filter is checked. However, if credentials are provided that are recognized by the filter but the credentials cannot be validated, the filter rejects the request. This means that when configuring trusted IP Addresses for clients to connect without authentication, if the clients provide incorrect HTTP BASIC or HTTP X509 Authorization credentials, their request is rejected even though it is coming from a trusted IP Address. Note: All requests from a hostname or IP Address listed in iniHostRealm.allow are allowed without any authentication or user role application. This option is commented out by default. Use only with caution. Following is a sample of shiro.ini as configured in the Attestation Service: # shiro configuration\n# Reference: https://shiro.apache.org/authentication.html [main]\nssl.enabled = true ssl.port = 8443\n\njdbcDataSource=com.intel.mtwilson.shiro.jdbi.JdbcDataSource\n\njdbcPasswordRealm=com.intel.mtwilson.shiro.jdbi.JdbcPasswordRealm passwordMatcher=com.intel.mtwilson.shiro.authc.password.PasswordCredentialsMatcher jdbcPasswordRealm.credentialsMatcher=$passwordMatcher\n\njdbcCertificateRealm=com.intel.mtwilson.shiro.jdbi.JdbcCertificateRealm certificateMatcher=com.intel.mtwilson.shiro.authc.x509.X509CredentialsMatcher jdbcCertificateRealm.credentialsMatcher=$certificateMatcher\n\niniHostRealm=com.intel.mtwilson.shiro.authc.host.IniHostRealm\n#iniHostRealm.allow=127.0.0.1 hostMatcher=com.intel.mtwilson.shiro.authc.host.HostCredentialsMatcher iniHostRealm.credentialsMatcher=$hostMatcher\n\nauthcStrategy = com.intel.mtwilson.shiro.LoggingAtLeastOneSuccessfulStrategy\n\nsecurityManager.realms = $iniHostRealm, $jdbcCertificateRealm, $jdbcPasswordRealm securityManager.authenticator.authenticationStrategy = $authcStrategy\n\nauthcPassword=com.intel.mtwilson.shiro.authc.password.HttpBasicAuthenticationFilter authcPassword.applicationName=Mt Wilson\nauthcPassword.authcScheme=Basic authcPassword.authzScheme=Basic\n\nauthcX509=com.intel.mtwilson.shiro.authc.x509.X509AuthenticationFilter authcX509.applicationName=Mt Wilson\n\n# this host filter is an including filter - if any host matches this list it\n# will be granted access, but if it doesn't match this list it will be ignored\n# and have an opportunity to authenticate with x509 or password hostAllow=com.intel.mtwilson.shiro.authc.host.HostAuthenticationFilter\n\n[urls]\n# the first match wins so order is important\n# /path/* will match /path/a and /path/b but not /path/c/d\n# /path/** will match /path/a and /path/b and also /path/c/d\n# /v2/login is a real resource in mtwilson-shiro-ws-v2 but /v2/logout is a\n# virtual resource handled by shiro's logout filter\n/v2/login = anon\n/v2/logout = logout\n/v1/ManagementService/resources/ca/** = ssl\n/v1/ManagementService/resources/apiclient/register = ssl\n/v1/ManagementService/resources/i18n/locales = ssl\n/v2/version = ssl\n/v2/rpc/register-user-with-certificate = ssl\n/v2/ca-certificates/root = ssl\n/v2/ca-certificates/saml = ssl\n/v2/ca-certificates/privacy = ssl\n/v1/** = ssl, hostAllow, authcX509, authcPassword, perms\n/v2/** = ssl, hostAllow, authcX509, authcPassword, perms\n/static/** = anon 10.2.1.4 Encrypting Configuration Files The Attestation Service configuration files are encrypted by default. The following commands can be used to decrypt or re-encrypt the files. (Optional) Set the configuration file password (MTWILSON_PASSWORD). # export MTWILSON_PASSWORD=\"password\" This step is optional. By default, this password is randomly generated and configured during the Attestation Service installation. The password is automatically imported when executing Attestation Service commands using either the root or mtwilson OS user accounts. Ensure that all changes to be made to the .properties files in /etc/intel/cloudsecurity have already been made before proceeding. Encrypt the files (each .properties file must be encrypted and decrypted individually). # mtwilson import-config --in=/etc/intel/cloudsecurity/attestation- service.properties\t--out==/etc/intel/cloudsecurity/attestation- service.properties To edit the .properties files again later, decrypt them using the following command: # mtwilson export-config --in=/etc/intel/cloudsecurity/attestation- service.properties\t--out==/etc/intel/cloudsecurity/attestation- service.properties The files can now be edited normally, and Step 1 through Step 3 can be repeated to re-encrypt the files. The ImportConfig and ExportConfig commands have the following additional options: To see/export the contents of the encrypted configuration file without replacing it, use the --stdout option: # mtwilson export-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n    --stdout To export the contents of the encrypted configuration file to another file, use the --out option: # mtwilson export-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n   --out=outputfilename.properties. To import/encrypt a configuration file from another source like a pipe, use the --stdin option: # cat editable.properties | mtwilson export-config --out=/etc/intel/cloudsecurity/ mtwilson.properties --stdin. To import/encrypt a configuration file from another file, use the --in option: # mtwilson import-config --in=inputfilename.properties --out=/etc/intel/ cloudsecurity/mtwilson.properties --in=inputfilename.properties. (Optional) By default, the MTWILSON_PASSWORD variable is used, and this variable is stored in /opt/mtwilson/configuration/.mtwilson_password . The password is randomly generated during installation, and it is not recommended to change the password. However, if a variable other than MTWILSON_PASSWORD is used, users can specify the name of that variable with the --env-password option like this: --env-password=MY_OTHER_VARIABLE and this can be done for both import and export. Note that the value you supply here is the name of the variable, not the password itself. For example: export OTHER_PASSWORD=changeit\n\nmtwilson import-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n--out=/etc/intel/cloudsecurity/mtwilson.properties --env-password=OTHER_PASSWORD\n\nmtwilson export-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n--out=/etc/intel/cloudsecurity/mtwilson.properties --env-password=OTHER_PASSWORD If users do not provide the --env-password parameter, the default environment variable MTWILSON_PASSWORD is used. If users specify a variable but it is empty, or if users do not specify -- env-password and MTWILSON_PASSWORD is not set, users are prompted for the password. mtwilson setup ImportConfig /etc/intel/cloudsecurity/mtwilson.properties Note: The Attestation Service Java process needs the encryption password variable resident in memory before the JVM loads. This is handled by default for the MTWILSON_PASSWORD variable stored in /opt/mtwilson/configuration/.mtwilson_password . Custom  configuration is needed to ensure any other variable is loaded before the JVM starts on system boot. Otherwise, the variable needs to be manually set before starting the Attestation Service services. Using an alternate variable is supported but strongly not recommended. Cannot get password from environment variable 'OTHER_PASSWORD' specified by option env- password You must protect the Mt Wilson Encrypted Configuration File with a password. \n  Password: Password (again): This means that the value of MTWILSON_PASSWORD or its substitute MUST be set before the JVM loads, including at system startup. If this environment variable is not set at system boot before the JVM is started, the Attestation Service services do not start unless manually restarted using the mtwilson restart command and the user on the Attestation Service console then is prompted for the password as follows: Cannot get password from environment variable 'OTHER_PASSWORD' specified by option 'env-password'\nA password is required to unlock the Mt Wilson Encrypted Configuration File. \nPassword 10.2.1.5 Changing the Database Password The Attestation Service includes a command-line utility to automatically change the database password and update all related Attestation Service properties files. The command is: mtwilson change-db-pass This utility prompts for the new password, and automatically updates the database password in PostgreSQL as well as all of the .properties files. If the .properties files have been encrypted, the command automatically handles decryption and re-encryption as long as the appropriate encryption password variable ( $MTWILSON_PASSWORD by default) has been set. The encryption password is only required if encryption is being used. 10.2.2 Trust Agent By default, the Trust Agent configuration .properties files are encrypted during installation. To view the contents of any Trust Agent .properties file, use the following commands: View only: tagent export-config --stdout Decrypt: tagent export-config --in= path_to_encrypted_file --out= path_to_temp_file Encrypt: tagent import-config --in= path_to_temp_file --out= path_to_encrypted_file 10.2.2.1 Trust Agent without OpenStack The settings listed in Table 9 can be declared in trustagent.env before setup, or edited in trustagent.properties (default location is /opt/trustagent/configuration/trustagent.properties ) after setup, with the exception of TRUSTAGENT_PASSWORD , which is only available as an environment variable. Table 9. trustagent.env Environment Variable Default Value or Example Notes AIK_INDEX Default value is 1. Example:1 AIK_SECRET Generated automatically.  Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. JAVA_REQUIRED_VERSION Default: 1.7,Possible values: Java version number in the format Trust Agent for Intel MTWILSON_API_PASSWORD Example: 94i3kPN7bObnJ5Qo Password corresponding to mtwilson.api.username. MTWILSON_API_URL Example: https://10.1.71.56:8443/mtwilson/v2 The URL is for v2 APIs directly, because the 2.0 trust agent does not use v1 APIs. MTWILSON_API_USERNAME Example: admin Obtain this from the Intel MTWILSON_TLS_CERT_SHA1 No default value. 20 hex-encoded bytes. Obtain this from the Intel sha1sum /etc/intel/cloudsecurity/ssl.crt TPM_OWNER_SECRET 20 hex-encoded bytes. This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re-installation. Note: If the OS is re-installed, the file /var/lib/tpm/system.data contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS. TPM_QUOTE_IPV4 Default: true When enabled (not set or set to true ) causes the challenger's nonce to be extended with the IP Address of the trusted host for quoting to prevent quote relay attacks. This is a new feature in Intel false ). TPM_SRK_SECRET Constant value. Example: 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. TRUSTAGENT_KEYSTORE_PASSWORD Generated automatically. Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. TRUSTAGENT_LOGIN_PASSWORD User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password TRUSTAGENT_LOGIN_REGISTER true The Trust Agent requires authentication for API access. Setting this option to true causes the Trust Agent, during installation, to pre-register its authentication credentials with the Attestation Service. By pre-registering the credentials, no credentials need to be provided by the user when whitelisting or registering the host. TRUSTAGENT_LOGIN_USERNAME User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password. TRUSTAGENT_PASSWORD No default value. Possible values: Any combination of printable characters. The password used to encrypt and decrypt the trustagent.properties file. This password must be exported in an environment variable for the Trust Agent to use it. TRUSTAGENT_TLS_CERT_DN Possible values: Valid X509 distinguished name with commas separating the parts. For example. CN=trustagent,OU=DCG,O=Intel, L=Folsom,C=US Default: CN=trustagent Determines the subject name of the trust agent's TLS certificate. TRUSTAGENT_TLS_CERT_DNS Generated automatically. Comma- separated list of all IP Addresses used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. TRUSTAGENT_TLS_CERT_IP Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. Table 10. /opt/trustagent/configuration/trustagent.properties Configuration Key Default Value or Example Notes aik.secret= Generated automatically. Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. binding.key.secret= dcb272b851a853a0f51d085fb0640a156 8af2fe7 hardware.uuid= 00886B98-994D-E411-906E-,0017A4403562 Host hardware UUID. Do not change this value . mtwilson.api.password= password Password corresponding to mtwilson.api.username . mtwilson.api.url= https://[Attestation Service IP or Hostname]:8443/mtwilson/v2 The URL is for v2 APIs directly because the 2.0 trust agent does not use v1 APIs. mtwilson.api.username= Example: admin Obtain this from the Intel mtwilson.tls.cert.sha1= c5b85d90e13d4258f013023854c9664c0,dc327af 20 hex-encoded bytes. Obtain this from the Attestation Service server: sha1sum /etc/intel/cloudsecurity/ssl.crt signing.key.secret= 68a426fd332058a21189944220da540b,1fbc5710 tpm.owner.secret= 424c6f724ac9d23f52cb97ef63ec12e62c 893c30 20 hex-encoded bytes. This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re- installation. **Note:**If the OS is re-installed, the file /var/lib/tpm/system.data contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS. tpm.srk.secret= 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. trustagent.keystore.password= Generated automatically. Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. trustagent.tls.cert.dn= CN=trustagent This setting determines the subject name of the Trust Agent's TLS certificate. trustagent.tls.cert.dns= Generated automatically Comma- separated list of all hostnames used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. trustagent.tls.cert.ip= Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. 10.2.2.2 Trust Agent for OpenStack Compute Node The settings listed in Table 11 can be declared in mtwilson-openstack.env before setup or edited in the following configuration files (default locations provided): Table 11.  mtwilson-openstack.env Environment Variable Deefault Value or Example Notes AIK_INDEX Default value is 1. Example: 1 AIK_SECRET Generated automatically.  Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. DISTRIBUTION_LOCATION Default:* /usr/lib/python2.7/dist- package* (Optional) Python distribution location. If python distribution location is at customized path (not at default path), only this value needs to be added. DEPLOYMENT_TYPE Docker (Optional) This variable is required when you install the trust agent on a Docker container host GRUB_FILE No default value. Example: /boot/grub/grub.cfg Tbootxm requires grub file to update it with TCB Protection menu entry. JAVA_REQUIRED_VERSION Default: 1.7 Possible values: Java version number in the format Trust Agent for Intel KMSPROXY_SERVER KmsProxyIpAddress KMSPROXY Server IP Address is used for communication with other Intel KMSPROXY_SERVER_PORT 8080 KMSPROXY Server communicates on port 8080. MANIFEST_PATH No default value. Example: /root/manifest.xml Tboot-xm requires manifest.xml file that contains list of files/directories for measurement of host. Path of manifest.xml is not fixed. Tboot-xm installer picks file from mentioned path from tbotxm.env and copies it to /boot/trust/manifest.xml . MTWILSON_API_PASSWORD Example: 94i3kPN7bObnJ5Qo Password corresponding to mtwilson.api.username . MTWILSON_API_URL Example: ttps://10.1.71.56:8443/mtwilson/v2/ The URL is for v2 APIs directly because the,2.0 trust agent does not use v1 APIs. MTWILSON_API_USERNAME Example: admin Obtain this from the Intel MTWILSON_TLS_CERT_SHA1 No default value 20 hex-encoded bytes. Obtain this from the Intel sha1sum /etc/intel/cloudsecurity/ssl.crt. NOVA_CONFIG_DIR_LOCATION_PATH Default: /etc/nova/ (Optional) Location path of nova configuration files. If nova configuration files are at different location (not at default path), only this value needs to be added. TPM_OWNER_SECRET 20 hex-encoded bytes. This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re-installation.  **Note:**If the OS is re-installed, the /var/lib/tpm/system.data file contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS. TPM_QUOTE_IPV4 Default: true When enabled (not set or set to true ) causes the challenger's nonce to be extended with the IP Address of the trusted host for quoting to prevent quote relay attacks. This is a new,feature in Intel false ). TPM_SRK_SECRET Constant value.,Example: 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. TRUSTAGENT_KEYSTORE_PASSWORD Generated automatically. Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. TRUSTAGENT_LOGIN_PASSWORD User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password. TRUSTAGENT_LOGIN_USERNAME User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password. TRUSTAGENT_PASSWORD No default value. Possible values: Any combination of printable characters. The password used to encrypt and decrypt the trustagent.properties file. This password must be exported in an environment variable for the Trust Agent to use it. TRUSTAGENT_TLS_CERT_DN Possible values: Valid X509 distinguished name with commas separating the parts. For example. CN=trustagent,OU=DCG,O=Intel,L=F olsom,,C=US,Default: CN=trustagent Determines the subject name of the Trust Agent's TLS certificate. TRUSTAGENT_TLS_CERT_DNS Generated automatically. Comma- separated list of all IP Addresses used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. TRUSTAGENT_TLS_CERT_IP Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. Table 12. /opt/trustagent/configuration/trustagent.properties Configuration Key Default Value or Example Notes aik.secret= Generated automatically. Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. binding.key.secret= dcb272b851a853a0f51d085fb0640a156 8af2fe7 Generated automatically. It is the authorization data (password) to retrieve the binding key. Binding key certificate is used to wrap the decryption key for the VM. hardware.uuid= Example: 00886B98-994D-E411-906E-,0017A4403562 Host hardware UUID. Do not change this value . mtwilson.api.password= password Password corresponding to mtwilson.api.username. mtwilson.api.url= https://[Attestation Service IP or Hostname]:8443/mtwilson/v2 The URL is for v2 APIs directly because the 2.0 trust agent does not use v1 APIs. mtwilson.api.username= Example: admin Obtain this from the Intel mtwilson.tls.cert.sha1= c5b85d90e13d4258f013023854c9664c0,dc327af 20 hex-encoded bytes. Obtain this from the Attestation Service server: sha1sum /etc/intel/cloudsecurity/ssl.crt signing.key.secret= 68a426fd332058a21189944220da540b,1fbc5710 Generated automatically. It is the authorization data (password) to retrieve the signing key. Signing key certificate is used to sign the VM attestation report. tpm.owner.secret= 424c6f724ac9d23f52cb97ef63ec12e62c 893c30 20 hex-encoded bytes.  This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re- installation Note: If the OS is re-installed, the file /var/lib/tpm/system.data contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS tpm.srk.secret= 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. trustagent.keystore.password= Generated automatically.  Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. trustagent.tls.cert.dn= CN=trustagent This setting determines the subject name of the Trust Agent's TLS certificate. trustagent.tls.cert.dns= Generated automatically. Comma- separated list of all hostnames used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. trustagent.tls.cert.ip= Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. Table 13. /tbootxm.conf Configuration File Default Value or Example Notes MANIFEST_PATH Default: /boot/trust/manifest.xm Tboot-xm requires manifest.xml file that contains list of files/directories for measurement of host. This is the Host Trust Policy. PARTITION_INFO Example: {/dev/mapper/intelmh--vg-root:/,/dev/sda2:/boot} Tboot-xm requires list of partitions on host to mount before measuring the host. Table 14. /opt/policyagent/configuration/policyagent.properties Configuration Key Default Value or Example Notes kmsproxy.server 192.168.1.2 IP Address or hostname for KMS Proxy service kmsproxy.server.port 8080 Default HTTP port for KMS Proxy service endpoint. sparsefile.size Size in kilobytes for cryptfs sparse file. This setting should not be used, as the Agent determines the appropriate size automatically for a given image. Table 15. /opt/vrtm/configuration/vRTM.cfg Configuration File Default Value or Example Notes cancelled_vm_max_age Example: 120 Time (in seconds) after which vRTM's remove canceled (failed) VM entries from its internal data structure and trust reports related to those. entry_cleanup_interval Example: 30 Time interval (in seconds) after which vRTM's clean up thread finds and removes canceled VM entries in its table. max_thread_limit Default: 63 Maximum number of threads vRTM can start to process requests. rpcore_ip Default: 127.0.0.1 This value is fixed. No need to change this unless vRTM needs to be accessed remotely by some application. rpcore_port Default: 16005 The port on which vRTM service listens. trust_report_dir Default: /var/lib/nova/trustreports/ Location of the trust report directory where vRTM stores trust reports. vrtm_root=../ Default: ../ Root directory of vRTM installation. 10.2.2.3 OpenStack Compute Changes Table 16 , Table 17 , and Table 18 list the changes made to OpenStack and hypervisor components by the Trust Agent installer (OpenStack deployments only). Table 16.  Nova Configuration Changes File Changes /etc/nova/rootwrap.d/compute.filter Added a command filter to ensure that the call to policyagent script is done as root user. Table 17.  Libvirt Driver Changes File Changes /usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py Changes to call the policyagent script during launch and delete VM instance.  In VM launch flow, the download image from Glance and call to policyagent steps are combined in a synchronized block to avoid nova and policyagent trying to access the base image at the same time. Table 18.  Nova Compute Changes File Changes /usr/lib/python2.7/dist-packages/nova/compute/manager.py Changes to add two additional properties related to VM measurement in instance metadata on the life cycle events of the VM. /usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py Changes to call Attestation Service to retrieve the trust status of the VM while updating resources of the compute node in the database. /usr/lib/python2.7/distpackages/nova/exception.py Introduced a new custom exception for VM measurement. 10.2.2.4 Command-Line Options Encrypting the Trust Agent Configuration Files By\ndefault, the Trust Agent configuration .properties files are encrypted during installation. To view, decrypt, or encrypt the contents of any Trust Agent .properties file, use the following commands: View only: # tagent export-config --stdout Decrypt: # tagent export-config --in= path_to_encrypted_file --out= path_to_temp_file Encrypt: # tagent import-config --in= path_to_temp_file --out= path_to_encrypted_file Execute All Setup Tasks The setup tasks are documented below. The following command executes all setup tasks, in order: # tagent setup Any environment variables needed by setup tasks should be set before running the command. When all setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. More detailed information is written to the trust agent log. Setup The setup tasks complete the following steps: Copy environment variables defined in trustagent.env to trustagent.properties , automatically converting names. For example MTWILSON_TLS_CERT_SHA1 becomes mtwilson.tls.cert.sha1 . # tagent setup configure-from-environment Create a Trust Agent keystore password, randomly generated and stored in trustagent.properties. # tagent setup create-keystore-password Create a trust agent SSL key pair. # tagent setup create-tls-keypair Note: The default distinguished name CN=trustagent can be customized by setting TRUSTAGENT_TLS_CERT_DN (trustagent.tls.cert.dn), TRUSTAGENT_TLS_CERT_IP (trustagent.tls.cert.ip), and TRUSTAGENT_TLS_CERT_DNS (trustagent.tls.cert.dns). Create a Trust Agent administrator account. # tagent setup create-admin-user If the variables TRUSTAGENT_ADMIN_USERNAME and TRUSTAGENT_ADMIN_PASSWORD are set, those values are used. If in an interactive installation, the administrator is prompted for the information. Otherwise, the default username is admin and the password is stored in /opt/trustagent/configuration/private/admin.txt for the administrator to read and then delete. The administrator account can also be reset at any time via the command line: # tagent password admin [--permissions key:value] The trust agent stores its authorized users credentials in a salted and hashed password file /opt/trustagent/configuration/users.txt and permissions file /opt/trustagent/configuration/permissions.txt .\n5. Generate TPM ownership secret, Storage Root Key (SRK) secret, and Identity Key Certificate (AIK) secret if they have not yet been generated. # tagent setup create-tpm-owner-secret create-tpm-srk-secret create-aik-secret Take ownership of the TPM and generate a random owner secret. # tagent setup take-ownership Connect to the Intel MTWILSON_API_URL (copied to trustagent.properties as mtwilson.api.url). If the MTWILSON_TLS_CERT_SHA1 variable is set, its content (in hex) is used to validate the Intel MTWILSON_TLS_CERT_SHA1 is not set, the administrator is prompted to verify the SSL certificate fingerprint in an interactive install; otherwise, a non-interactive install fails. # tagent setup download-mtwilson-tls-certificate Connect to the Intel MTWILSON_API_URL , MTWILSON_API_USERNAME , and MTWILSON_API_PASSWORD . # tagent setup download-mtwilson-privacy-ca-certificate Request an Endorsement Certificate (EC) from the Intel MTWILSON_API_URL , MTWILSON_API_USERNAME , and MTWILSON_API_PASSWORD during installation (these are copied to trustagent.properties , mtwilson.api.username , and mtwilson.api.password , respectively). # tagent setup request-endorsement-certificate Request an attestation AIK certificate from the Intel # tagent setup request-aik-certificate Optional. Register the TPM owner secret with Intel # tagent setup register-tpm-password 10.2.3 Key Management Service 10.2.3.1 Installation Options Table 19. KMS Installation Options Environment Variable Default Value Notes JETTY_PORT 80 JETTY_SECURE_PORT 443 KMS_HOME /opt/kms Application home directory. KMS_LAYOUT linux Possible values are linux and home , and they affect the default installation directory layout. KMS_PASSWORD None The master password protects the configuration file and the password vault. It must be set before installing and before starting the KMS PROXY. KMS_USERNAME KMS Non-root user to run KMS. 10.2.5.2 Configuration Table 20 lists the settings that may be edited in kms.properties after setup. A restart is required for a new setting to take effect. Table 20.  KMS Configuration Configuration Key Default Value or Example Notes endpoint.key.transfer.url http://[KMS IP or hostname]/v1/keys/{keyID}/transfer URL template used to generate a key transfer link. endpoint.url http://[KMS IP or hostname] Base URL for Key Management Service resources. jetty.port 80 Port for HTTP connections. jetty.secure.port 443 Port for HTTPS connections. The files in Table 21 are located in the KMS configuration folder ( /opt/kms/configuration by default). Their names and locations are not configurable other than changing the location of the configuration folder itself. Table 21.  Additional KMS Files File Name Description logback.xml Configures the logging system used by KMS. For details, see: http://logback.qos.ch/manual/configuration.html,The log file location /var/log/kms/kms.log is configured in this file. shiro.ini The authentication and authorization settings for the key server. extensions.cache List of KMS extensions that should be loaded, one per line. Each extension is a fully qualified Java class name. Example line: com.intel.mtwilson.kms.cmd.Start The https.properties file is not configurable. It is automatically generated to facilitate integration with other software by providing the TLS certificate fingerprints. 10.2.3.3 Configuring the KMS to use an External Barbican or KMIP-Compliant Key Vault The KMS can use its own local key vault system (by default), but can also use an existing external Barbican or KMIP-compliant service for key creation and vaulting services. To configure these options, use the kms config key value commands on the command line, and restart the KMS services afterward. Table 22.  Settings for Barbican configuration in KMS Configuration Key Default Value or Example Notes barbican.endpoint.url http://[host_name]:9311/ The URL of the Barbican server. The default installation of Barbican starts a server at http://[host_name]:9311/.  Depending on the port and host, configure this URL. barbican.project.id 12345 The ID of the bucket where all the secrets are created. key.manager.provider com.intel.kms.barbican.client.BarbicanKeyManager Selects client for Barbican server Table 23.  Settings for Barbican configuration in KMS Configuration Key Default Value or Example Notes key.manager.provider com.intel.kms.kmip.client.KMIPKeyManager Selects client for KMIP Server. kmip.decoder ch.ntb.inf.kmip.process.decoder.KMIPDecoder kmip.encoder ch.ntb.inf.kmip.process.encoder.KMIPEncoder Depending on the underlying KLMS, an encoder that converts the user data to a TTLV Message. kmip.targetHostname http://[host_name]:8090/KMIPWebAppServer/KMIPServlet Link to KMIP Server. kmip.transportLayer ch.ntb.inf.kmip.stub.transport.KMIPStubTransportLayerHTTP The default implementation for HTTP is: 10.2.3.4 Command-Line Options Export Configuration The KMS configuration is encrypted. The KMS encryption password is by default generated randomly at installation time and stored in /opt/kms/configuration/.kms_password , and the user is not prompted for the password when executing any commands. If the password is instead manually specified by exporting the KMS_PASSWORD environment variable during installation, the password is required to execute these commands. To view the configuration in the console: # kms export-config --stdout [--env-password=KMS_PASSWORD] To export the configuration to a file: # kms export-config filename [--env-password=KMS_PASSWORD] If you do not export KMS_PASSWORD , and use the --env-password option, the command prompts for a password. Import Configuration The KMS configuration is encrypted. To import the configuration using a pipe from another program: # kms import-config --stdin [--env-password=KMS_PASSWORD] To export the configuration from a file: # kms import-config filename [--env-password=KMS_PASSWORD] If you do not export KMS_PASSWORD and use the --env-password option, the command prompts for a password. Edit Configuration Instead of exporting, editing, and re-importing the configuration, you can also edit the encrypted configuration directly from the command line. When using this command, the KMS_PASSWORD variable must be defined in the environment. To view a configuration setting: # kms config key To edit the configuration: # kms config key value Users and Permissions You can use the kms password command to set and reset user passwords and permissions. The following examples create five different users named user1 through user5 , each with a different password or permission set. If permissions are specified, they must be in one argument. The special permission *:* means all access. # kms password user1 password1\n# kms password user2 password2 *:*\n# kms password user3 password3 tpm:endorse,tpm:quote,host:info,aik:create kms password user4 --nopass\n# kms password user5 --nopass *:* You can provide the password in an environment variable: # export PASSWORD=password6\n# kms password user6 env:PASSWORD *:* If you do not specify a password in the command line or as an environment variable, you are prompted: # kms password user7\n Choose a password for user7 Password:\n Password (again): It is not possible to be prompted for a password and specify permissions at the same time. To add a user with permissions and be prompted for the password, perform two steps: # kms password user8 --nopass *:* kms password user8\n Choose a password for user8 Password:\n Password (again): To remove access for a user, use the --remove option: # kms password user9 --remove If you attempt to remove a user that does not exist, you will still see the success message, Restricting Access by IP Address or Hostname To restrict access to a set of addresses or hostnames, edit /opt/kms/configuration/shiro.ini and ensure that the following lines are present: [main] hostFilter=com.intel.mtwilson.shiro.authz.HostFilter\nhostFilter.allow=127.0.0.1,192.168.1.100,netops.datacenter.com \n[urls]\n/index.html = anon\n/** = hostFilter The hostFilter.allow line can have a comma-separated list of IP Addresses and hostnames. It does not support CIDR addressing or wild-cards in hostnames, but this may be added in a future release. The shiro-ip.ini file in the configuration folder is an example of how to enable shiro-ip.ini to shiro.ini , then restart the key server. 10.2.4 KMS Proxy 10.2.4.1 Configuration The following settings can be declared in kmsproxy.env before setup or changed using command-line commands after setup, with the exception of KMSPROXY_PASSWORD , which is only available as an environment variable. Table 24.  KMS Proxy Configuration Environment Variable Default Value Notes JETTY_PORT 80 JETTY_SECURE_PORT 443 KMSPROXY_HOME /opt/kmsproxy Application home directory. KMSPROXY_LAYOUT home Possible values are linux and home , and they affect the default installation directory layout. KMSPROXY_PASSWORD None The master password protects the configuration file and the password vault. It must be set before installing and before starting the KMS PROXY KMSPROXY_USERNAME kmsproxy Non-root user to run KMS Proxy. MTWILSON_API_URL None Without any /v1 or /v2 path. For example: https://mtwilson:8443/mtwilson MTWILSON_TLS_CERT_SHA1 None SHA-1 digest of the Mt Wilson TLS certificate. Table 25.  /opt/kmsproxy/kmsproxy.properties Configuration Key Default Value or Example Notes mtwilson.api.password No default value. Example: 94i3kPN7bObnJ5Qo Password corresponding to mtwilson.api.username. mtwilson.api.url No default value. Example: https://server.com:8443/mtwilson/v2 Base URL to reach the Attestation Service v2 API endpoints. mtwilson.api.username No default value.  Example: admin Obtain this from the Attestation Service server. This must be a valid Attestation Service username with the Attestation role. mtwilson.tls.cert.sha1 No default value. Example: eeb9d481bd779b9a6dfcf65a5ee9b2f8 89906e02 20 hex-encoded bytes. Obtain this from the Attestation Service server: sha1sum /etc/intel/cloudsecurity/ssl.crt 10.2.4.2 Command-Line Options Setup The setup tasks complete the following steps: Ensure that configuration, features, and repository directories are created. # kmsproxy setup filesystem Scan the installed application for available extensions and automatically register them in the extensions.cache file in the configuration folder. # kmsproxy setup update-extensions-cache-file Configure default values for HTTP and HTTPS ports in kms.conf . # kmsproxy setup jetty Randomly generate Jetty keystore password. Create password-protected keystore file. Generate TLS keypair and self-signed certificate which can be customized by setting KMSPROXY_TLS_CERT_DN ( kmsproxy.tls.cert.dn ), KMSPROXY_TLS_CERT_IP ( kmsproxy.tls.cert.ip ), and KMSPROXY_TLS_CERT_DNS ( kmsproxy.tls.cert.dns ). # kmsproxy setup jetty-tls-keystore Registers a client with Mt. Wilson and requests the # kmsproxy setup mtwilson-client Export Configuration The KMS Proxy configuration is encrypted. The KMS Proxy encryption password is by default generated randomly at installation time and stored in /opt/kmsproxy/configuration/.kmsproxy_password , and the user is not prompted for the password when executing any commands. If the password is instead manually specified by exporting the KMSPROXY_PASSWORD environment variable during installation, the password is required to execute these commands. To view the configuration in the console: # kmsproxy export-config --stdout [--env-password=KMSPROXY_PASSWORD] To export the configuration to a file: # kmsproxy export-config filename [--env-password=KMSPROXY_PASSWORD] When using this command, the KMSPROXY_PASSWORD variable must be defined in the environment. If you do not export KMSPROXY_PASSWORD and use the --env-password option, the command prompts for a password. Import Configuration The KMS proxy configuration is encrypted. To import the configuration using a pipe from another program: # kmsproxy import-config --stdin [--env-password=KMSPROXY_PASSWORD] To export the configuration from a file: # kmsproxy import-config filename [--env-password=KMSPROXY_PASSWORD] When using this command, the KMSPROXY_PASSWORD variable must be defined in the environment. If you do not export KMSPROXY_PASSWORD and use the --env-password option, the command prompts for a password. Edit Configuration Instead of exporting, editing, and re-importing the configuration, you can also edit the encrypted configuration directly from the command line. When using this command, the KMSPROXY_PASSWORD variable must be defined in the environment. If you do not export KMSPROXY_PASSWORD and use the --env-password option, the command prompts for a password. To view a configuration setting: # kmsproxy config key To edit the configuration: # kmsproxy config key value Trust Report Cache The proxy is able to cache trust reports. The cache duration is configurable in seconds and the default is not to cache the trust reports (0 seconds). To cache trust reports for 5 minutes (300 seconds), configure it like this: # kmsproxy config trust.report.cache.expires.after 300 10.2.5 Trust Director 10.2.5.1 Setup Table 26. director.env Environment Variable Default Value Notes DIRECTOR_DB_DRIVER org.postgresql.Driver JDBC driver for the Trust Director database connection. Currently only Postgres is supported. DIRECTOR_DB_HOSTNAME localhost Hostname for the Trust Director database (by default, the Trust Director installs a local Postgres database server instance for this purpose). DIRECTOR_DB_NAME director_data_pu Database schema name for the Trust Director database. DIRECTOR_DB_PASSWORD dirdbpass Password for user with full access to Trust Director database schema on the database server. By default this is created at the same time the database is installed. DIRECTOR_DB_PORTNUM 5432 Port for the Trust Director database DIRECTOR_DB_USERNAME dirdbadmin Username with full access to Trust Director database schema on the database server. By default this is created at the same time the database is installed. DIRECTOR_ID 8478484737 User-defined identifier string for this Trust Director installation. JAVA_KEYSTORE_PASSWORD changeit Password for the Java keystore. The default Java keystore password is b changeit /b . MTWILSON_API_URL https://10.1.71.130:8443/mtwilson/v2 Full base URL for the Attestation Service v2 API resources. MTWILSON_PASSWORD password Password for a user on the Attestation Service with the Administrator role. MTWILSON_SERVER 10.1.71.130 Attestation Service IP Address or hostname. MTWILSON_SERVER_PORT 8443 Attestation Service port. MTWILSON_TLS d7e8ce2013bd1eb222b81c86b9be045c 2e166284 SHA1 of the Attestation Service TLS certificate. MTWILSON_USERNAME admin Username for a user on the Attestation Service with the Administrator role. VM_WHITELIST_HASH_TYPE SHA-1 Hash algorithm used for measurement in creating Trust Policies. Currently only SHA-1 is supported. The following properties are required only for the VM Integrity and VM Privacy use cases, and can be excluded if those use cases are not enabled GLANCE_IMAGE_STORE_IP 10.2.71.137 OpenStack Glance service IP Address or hostname. GLANCE_IMAGE_STORE_PASSWORD password OpenStack Glance password. GLANCE_IMAGE_STORE_PORT 9292 OpenStack Glance service port number. GLANCE_IMAGE_STORE_USERNAME admin OpenStack Glance username. TENANT_NAME admin Tenant used with OpenStack Glance. The below properties are required only for the VM Privacy (encryption) use case, and can be excluded if that use case is not enabled KMS_ENDPOINT_URL https://10.1.71.132 Full URL for the Key Management Service. KMS_LOGIN_BASIC_PASSWORD password Password for the Key Management Service (created during KMS installation). KMS_LOGIN_BASIC_USERNAME admin Username for the Key Management Service (created during KMS installation). KMS_TLS_POLICY_CERTIFICATE_SHA1 eca611575757600042e6b90a224feb36,51d380fd SHA1 of the TLS certificate used by the KMS. 10.2.5.2 Configuration The Trust Director connection configuration for reaching the Attestation Service and the KMS can be changed on the Trust Director web portal: The KMS Settings page allows the Trust Director to KMS connection details to be updated, for example if the KMS is re-installed or changed. The Trust Director requires a KMS user with full The Attestation Service page allows the Trust Director to Attestation Service connection details to be updated, for example if the Attestation Service is re-installed or changed. The Trust Director requires an Attestation User with some permissions. In addition, the Trust Director configuration is set in the /opt/director/configuration/director.properties file. Note: The director.properties file is a master configuration file. When director service components start up, properties configured in this file take precedence. Table 27. director.properties Configuration Key Default Value or Example Notes bm.whitelist.hash.type SHA1 Hash algorithm for generating Trust Policy measurements. Only SHA-1 is currently supported. Docker.whitelist.hash.type SHA256 (OPTIONAL) Hash algorithm for generating Trust Policy measurements. Only SHA-256 is currently supported. director.db.driver org.postgresql.Driver JDBC driver used to access the Postgres database director.db.hostname localhost Hostname or IP Address of the Trust Director database. director.db.name director_data_pu Database schema name ( i director_data_pu /i by default). director.db.password password Password for database user with access to the Trust Director database. director.db.portnum 5432 Database server port. director.db.schema director.db.url jdbc:postgresql://localhost:5432/ director_data_pu JDBC URL for the Trust Director database. director.db.username password Password corresponding to i mtwilson.api.username. /i director.envelope.alias director-envelope director.envelope.cert.dn director.641107e8382d4bcea89cb2acc3a 9dd64 b Do not change this setting. /b director.id Unique identifier for Trust Director. Specified during installation. director.keystore /opt/director/configuration/envelope- keystore.jks endpoint.url= http\\://TD-hostname Endpoint URL for the Trust Director web services. glance.image.store.password password Password for user with access to OpenStack Glance. glance.image.store.username admin OpenStack Glance username to access the glance APIs. glance.ip 10.1.71.71 OpenStack Glance IP Address or hostname. glance.port 9292 Port number for OpenStack Glance. glance.tenant.name admin OpenStack Glance tenant name. javax.net.ssl.keyStore /opt/director/configuration/keystore.jks Full path to the SSL keystore jetty.port 80 jetty.secure.port 443 SSL port used for web services. jetty.tls.cert.dn CN=kms Common Name used in the Trust Director TLS Certificate jetty.tls.cert.dns localhost,localhost .Comma-separated list of Distinguished Names added to the TLS certificate. jetty.tls.cert.ip 192.168.122.1,fe80\\:0\\:0\\:0\\:5054\\:ff\\:f e51\\:a436%2,10.35.35.117,0\\:0\\:0\\:0\\: 0\\:0\\:0\\:1%1,127.0.0.1 Comma-separated list of IP Addresses added,to the TLS certificate. mtwilson.extensions.fileIncludeFilter. contains ${MTWILSON_EXTENSIONS_FILEINCLUD EFILTER_CONTAINS:-mtwilson,director} b Do not change this setting. /b mtwilson.extensions.packageIncludeFilter,.startsWith ${MTWILSON_EXTENSIONS_PACKAGEIN CLUDEFILTER_STARTSWITH:-com.intel,,org.glassfish.jersey.media.multipart} b Do not change this setting. /b mtwilson.navbar.buttons director-html5,mtwilson-core-html5 b Do not change this setting. /b mtwilson.navbar.hometab director-trust-policy Part of setup.sh that identifies the landing page after successful login mtwilson.password password Password for Attestation Service user. mtwilson.server 10.1.71.88 IP Address or hostname of Attestation Service. mtwilson.server.port 8443 Port number of the Attestation Service. mtwilson.username Example: admin Obtain this from the Intel password.vault.file /opt/director/configuration/password- vault.jck password.vault.type JCEKS b Do not change this setting. /b tenant.name admin OpenStack Glance tenant name. vm.whitelist.hash.type SHA-1 Hash algorithm for generating Trust Policy measurements. Only SHA-1 is currently supported. 10.2.6 OpenStack Controller 10.2.6.1 Setup Table 28 lists installation options configured in the mtwilson-openstack-controller.env answer file. Table 28. mtwilson-openstack-controller.env Environment Variable Default Value Notes DISTRIBUTION_LOCATION Default: /usr/lib/python2.7/dist-packages (Optional. Required only if Python is installed to a directory different from the default example.) Python distribution location. MTWILSON_ASSET_TAG_API_PASSWORD password Password of user on Attestation Server needed for asset tag management and trust attestation This user needs the Attestation and AssetTagManagement roles. MTWILSON_ASSET_TAG_API_USERNAME username User on Attestation Server needed for asset tag management and trust attestation. This user needs the Attestation and AssetTagManagement roles. MTWILSON_SERVER IP Address or Hostname Attestation Server IP Address or hostname. MTWILSON_SERVER_PORT Default: 8443 Attestation Server communicates on port 8443. NOVA_CONFIG_DIR_LOCATION_PATH Default: /etc/nova/ (Optional. Required only if Nova configuration is installed to a non-default path.) Location path of Nova configuration files. OPENSTACK_DASHBOARD_LOCATION Default: /usr/share/openstack-dashboard (Optional. Required only if OpenStack Dashboard is installed in a non-default location.) Location path for OpenStack Dashboard. 10.2.6.2 Configuration The OpenStack Controller configuration is contained in the /etc/nova/nova.conf file, in a block at the bottom for Intel # Intel(R) Cloud Integrity Technology \n[trusted_computing]\nattestation_server= IP or hostname of Attestation Service attestation_port= Port number for Attestation Service; 8443 by default attestation_auth_blob= username:password for an account with Attestation and Asset Tag roles attestation_api_url=/mtwilson/v2/host-attestations\nattestation_host_url=/mtwilson/v2/hosts\nattestation_server_ca_file=/etc/nova/ssl.crt This is the path to the Attestation Service TLS\n\t\t\t\t\t\t\tcertificate; do not change 10.2.7 Attestation Reporting Hub Configuration Key Default Value or Example Notes jetty.tls.cert.dns Hostname,localhost Do not change this setting attestation-hub.db.schema attestation_hub_pu Database scehma name attestation-hub.poll.interval 2 Time interval, in minutes. Defines how frequently the Hub will query the Attestation Service for new attestation data and push attestation data to tenant endpoints. mtwilson.api.password [username] Attestation Service password. Used by the Hub to access the Attestation Service when querying for attestation information. mtwilson.api.url https://:8443/mtwilson/v2 API URL for the Attestation Service javax.net.ssl.keyStore /opt/attestation-hub/configuration/keystore.jks Location of Java keystore jetty.tls.cert.ip [list of IP addresses] Do not change this setting attestation-hub.db.password [password] Database password.,Randomly generated by default. attestation-hub.db.driver org.postgresql.Driver Do not change this setting mtwilson.extensions.fileIncludeFilter.contains mtwilson,attestation-hub Do not change this setting mtwilson.api.tls.policy.certificate.sha256 [sha256] Sha256 of the TLS certificate jetty.port 19082 HTTP port number jetty.secure.port 19445 HTTPS port number attestation-hub.db.name attestation_hub_pu Database name password.vault.file /opt/attestation-hub/configuration/password-vault.jck Do not change this setting attestation-hub.db.username Ahadmin Database username mtwilson.extensions.packageIncludeFilter.startsWith com.intel,org.glassfish.jersey.media.multipart Do not change this setting tenant.configuration.path /opt/tenantconfig Defines the path used for storing tenant configurations. attestation-hub.db.portnum 5432 Database port number mtwilson.api.username [username] Attestation Service username. Used by the Hub to access the Attestation Service when querying for attestation information. jetty.tls.cert.dn CN\\=Attestation,Hub TLC certificate DN attestation-hub.db.hostname localhost Database,server hostname (localhost by default) password.vault.type JCEKS Do not change this setting attestation-hub.db.url jdbc:postgresql://localhost:5432/attestation_hub_pu Database connection URL 10.3 High Availability Guidelines 10.3.1 Attestation Service To maximize service availability in an environment where hypervisor-level high availability or fault tolerance solutions are impractical, unavailable, or insufficient, Intel recommends using a redundancy model featuring two (or more) Intel Note: The shared database server should be configured for redundancy as well. However, database server configuration is beyond the scope of this document. In this configuration, if one of the Attestation Servers becomes unavailable for any reason, the reverse- proxy automatically fails over to another remaining Attestation Server. Since both instances are accessing a shared database, there is no loss of data in the case of a failover, and there is no manual intervention required after the failed server is brought back on-line. The instructions below define a sample configuration using the NginX reverse proxy and two Attestation Server instances. These instructions can be adapted to similar alternative solutions. For example, shared storage or block-level file replication could be used to keep Attestation Server components and configurations synchronized across multiple servers. The key requirements for redundant Attestation Servers are: A shared database (whether this is external, or a replicated database across the Attestation Service servers). Some form of reverse proxy or other method of sharing a single IP Address or hostname across all Attestation Server instances. If the portal will be used, sessions must be Identical keys, certificates, and other secrets on all Attestation Server instances so that they can all use the same credentials to access the database, and so that the TLS certificate used by the web services remains identical. These include passwords and secrets defined in the various .properties files in the Attestation Service configuration directory, all of the certificates and keys in that directory, the TLS certificate for the web server, and the configuration files for the web server. 10.3.1.1 Prerequisites Following are the prerequisites: Separate database server (MySQL or PostgreSQL are supported). An additional server running Ubuntu Linux to run the NginX reverse-proxy service (other solutions are also possible). 10.3.1.2 Deployment Instructions Following are the deployment instructions: Deploy two (or more) separate Attestation Server instances on separate host servers. Use a shared IP Address or hostname for the Attestation Server IP when setting up all Attestation Servers. The first installation performed configures the secrets, certificates, keys, and users that are later copied to all of the other instances. Subsequent installations throws errors during user creation, as they attempt to create users that already exist; this is normal and expected. In the mtwilson.env installation answer file, configure the IP Address, port, and logon credentials for the external database server as well as the port and logon credentials and the database name. Remember, the database schema and a valid user with rights over this database must be created on the database server prior to running the Attestation Server installation, and must be configured to enable connections from all redundant Attestation Servers. Refer to Section 8.6 for remote database configuration instructions. The Attestation Server installer automatically creates the required database tables on the remote server. Copy the SSL certificate from the first Attestation Server to the other(s). /opt/mtwilson/share/apache-tomcat-7.0.34/ssl/.keystore Copy the full contents of the /etc/intel/cloudsecurity/ folder from the first Attestation Server to the other(s). After deploying each of the Attestation Server instances, verify that the portals for each are functioning. On the reverse-proxy server, run the following command: # apt-get install nginx Create or modify the default.conf configuration file: # nano /etc/nginx/conf.d/default.conf Edit the file as follows: upstream mtwilson {\n\tserver Mt Wilson Server 1 IP : port max_fails=1 fail_timeout=30s; \n\tserver Mt Wilson Server 2 IP : port backup;\n}\n\nserver {\n\tlisten IP Address of NginX Server : port ; \n\tserver_name DNS Name of NginX Server ;\n\n\taccess_log\t/var/log/nginx/mtwilsonHA.log; \n\terror_log\t/var/log/nginx/mtwilsonHA.error.log;\n\n\t## send request back to mtwilson ##\n\tlocation / {\n\t\tproxy_pass http://mtwilson/;\n\t\tproxy_next_upstream error timeout invalid_header http_500 http_502 \n\t\thttp_503 http_504;\n\t\t}\n\t} Consider the following: The upstream section allows for the declaration of the Attestation Servers to be used with the reverse proxy, as well as configuration of when each of the servers is used. In this configuration, one server is set to be the primary, and a second server is set to be the backup. Note that all traffic goes to the primary server, and the server labeled backup is only used if the other server has been flagged as failed. This is done to preserve session information when using the Attestation Service portal. A failure is triggered when an HTTP request times out. In this case, the max_fails=1 variable sets a single timeout to trigger a failure. This can be set higher, but doing so increases the amount of time before a failure is detected and remediated. The fail_timeout=30s variable tells NginX to leave a server flagged as failed for 30 seconds before trying again. Increasing this value can improve performance slightly when a failover has occurred (as every new request more than 30 seconds since the last failed flag re-attempts the primary server and thus has to wait for a timeout), but also delay the automatic fail-back to the primary server once it is recovered. As an alternative to the active/passive configuration, the ip_hash line can be added to the beginning of the upstream section. Note that if ip_hash is used, remove the max_fails, fail_timeout, and backup arguments. This causes NginX to direct incoming traffic to an Intel The listen and server_name variables tell NginX which specific IP and port to listen on and forward. Requests sent to other ports are not forwarded and receives a default NginX page. This can be configured to be a different page if desired. For more information, refer to the documentation for NginX at http://nginx.org/en/docs/ . The proxy_pass setting tells NginX to forward all requests matching the syntax http:// listening IP/ name and port /* to the Attestation Server setting declared in the upstream section. Restart the NginX service. # service nginx restart At this point, it should be possible to point a browser to the Attestation Server portal URLs, but substituting the Attestation Server IP/DNS name with the NginX server's IP/DNS name. NginX automatically forwards the URLs to the appropriate Attestation Server, and the services can be used normally. 10.3.1.3 Failover If a failover to the backup server should occur, there is a brief waiting period (approximately 5-10 seconds) as NginX waits for the timeout and flags the primary as failed. If a user is in the middle of accessing the web portals during this time, they are redirected to the login screen and receive an error that says their session has timed out. Once they log in again, Attestation Server begins functioning normally. 10.3.2 Key Management Service The Intel To configure the KMS for redundancy and high availability, the key requirements are: A single URL must be shared across all KMS instances. This is the URL that is used by remote hosts to request keys for a given image, and so this URL must always be reachable. This can be accomplished via a reverse proxy or shared IP/hostname with a cluster manager application. The /opt/kms/repository folder contents must be replicated across all instances of the KMS. This folder contains user information and, if the KMS is using a local key vault instead of integrating with an external vault service, this folder stores the actual keys as well. Each instance of the KMS must maintain its own ability to read/write to this directory in the case of a failover. This can be accomplished by using block-level replication. 10.3.3 Key Management Proxy Multiple instances of the KMS Proxy can be used behind a reverse-proxy or other load balancer. No special steps are required for installation of the KMS Proxy itself. However, only the Trust Agent nodes should be pointing at the load balancer. Each instance of the KMS Proxy should have a static connection to both the Attestation Service, and each instance of the KMS Proxy generates a unique user that needs to be approved on the Attestation Service. 10.4\tNova Changes 10.4.1 Filter Code File Changes and Other Notes distribution-location/python2.7/dist-packages/nova/ scheduler/filters/asset_tag_filter.py Filter class written from scratch. Filter, based on the image policies, checks with the CIT Attestation Server to verify the trust and asset-tag status of the compute nodes before launching the instances. This filter uses the configurations in nova.conf to read the Attestation Service's IP, port and other credentials.  Example nova.conf changes:     *[trusted_computing]        attestation_server = xxx.xxx.xxx.xxx        attestation_port = 8443        attestation_auth_blob = username:password         attestation_api_url=/mtwilson/v2/host-attestations         attestation_host_url=/mtwilson/v2/hosts         attestation_server_ca_file=/etc/nova/ssl.crt * 10.5\tOpenStack Compute Node Changes File Changes and Other Notes distribution-location/nova/virt/libvirt/driver.py Modification of the libvirt driver to examine image metadata and look for the Trust Policy. distribution-location/nova/exception.py Add exception definition for VM Measured Launch failure. distribution-location/nova/compute/manager.py Logging and exception definition for instance measurement. distribution-location/nova/compute/ resource_tracker.py Modifications to call the policyagent script and perform instance attestation by calling the Attestation Service. 11.0 Configuration 11.1 Directory Layout 11.1.1 Key Broker Service 11.1.1.1 Linux Directory Layout This is the default layout and can be chosen explicitly with the value KMS_LAYOUT variable before installation. The directories are placed in standard Linux locations. Using this layout, the uninstall command only deletes the application software in /opt/kms . The configuration, data, and logs remain intact. Application:   /opt/kms \nConfiguration: /etc/kms \nData:\t   /var/opt/kms\nLogs:\t   /var/log/kms 11.1.1.2 Home Directory Layout This layout can be chosen with the value KMS_LAYOUT variable before installation. The directories are placed under a single home directory. Using this layout, the uninstall command completely removes the application software, configuration, data, and logs. Application:   /opt/kms \nConfiguration: /opt/kms/configuration \nData:\t   /opt/kms/repository\nLogs:\t   /opt/kms/logs 11.1.1.3 Custom Directory Layout A custom directory layout can be chosen by setting the following environment variables before installation. A custom directory layout is recommended for KMS High Availability configurations, as the KMS data directory needs to be shared between all instances of the KMS: Applicationn:  KMS_HOME \nConfiguration: KMS_CONFIGURATION \nData:\t   KMS_REPOSITORY\nLogs:\t   KMS_LOGS 11.1.2 KMS Proxy 11.1.2.1 Linux Directory Layout This is the default layout and can be chosen explicitly with the value KMSPROXY_LAYOUT variable before installation. The directories are placed in standard Linux locations. Using this layout, the uninstall command only deletes the application software in /opt/kmsproxy . The configuration, data, and logs remain intact. Application:   /opt/kmsproxy \nConfiguration: /etc/kmsproxy \nData:\t   /var/opt/kmsproxy\nLogs:\t   /var/log/kmsproxy 11.1.2.2 Home Directory Layout This layout can be chosen with the value KMSPROXY_LAYOUT variable before installation. The directories are placed under a single home directory. Using this layout, the uninstall command completely removes the application software, configuration, data, and logs. Application:   /opt/kmsproxy \nConfiguration: /opt/kmsproxy/configuration \nData:\t   /opt/kmsproxy/repository\nLogs:\t   /opt/kmsproxy/logs 11.1.2.3 Custom Directory Layout A custom directory layout can be chosen by setting the following environment variables before installation: Application:   KMSPROXY_HOME \nConfiguration: KMSPROXY_CONFIGURATION \nData:\t   KMSPROXY_REPOSITORY\nLogs:\t   KMSPROXY_LOGS 12.0 Uninstallation 12.1 Attestation Service To remove all data from the database, execute the following command: # mtwilson erase-data To delete all users from the database, execute the following command: # mtwilson erase-users --all Note: Removing the database contents and user information from the Attestation Service is irreversible. To uninstall Attestation Service executables and configuration, execute the following command: # mtwilson uninstall 12.2 Trust Agent For Ubuntu and RHEL To fully uninstall the Trust Agent and all subcomponents, execute the following command: # tagent uninstall If the Trust Agent is re-installed after uninstallation, be sure to delete and re-register the host in the Attestation Service to ensure that all keys and signatures are updated. Warning: Re-installing the Trust Agent generates a new binding key, if the VM Privacy use case is enabled. Be sure to re-register the Trust Agent host in the Attestation Service after re-installation to ensure the binding key is also updated. For Microsoft Windows The CIT components can be uninstalled from the Control Panel Uninstall by selecting the CIT-Compute-Node application and then clicking Uninstall/Change . Another way to do it is by executing the uninst.exe file under the home directory where the components were installed. A CIT-Compute-Node Uninstall window will be displayed. Click Yes. Press any key Press any key Click Close. Click Next.","filename":"Open-CIT-3.2-Product-Guide.md","format":"markdown","hl_body":" to the appropriate \u003cem\u003eCSS\u003c/em\u003e files relevant to the distribution\u0026#x2F;version of \u003cem\u003eOpenStack\u003c/em\u003e being used. 10.1.2 Instance View Changes File Changes and Other Notes distribution-location\u0026#x2F;python2.7\u0026#x2F;dist-packages\u0026#x2F;\u003cem\u003enova\u003c/em\u003e","hl_title":"Open CIT 3.2 Product Guide","id":"504c5cb71847600dc4df42f7df1ea801f7a1521a","path":"Open-CIT-3.2-Product-Guide.md","public":true,"repo":{"repository":{"id":56611216,"name":"opencit","owner_id":18556847,"owner_login":"opencit","updated_at":"2021-03-22T23:48:17.486Z","has_issues":true}},"repo_id":56611216,"title":"Open CIT 3.2 Product Guide","updated_at":"2017-09-07T11:42:28.000-05:00"},{"body":"Contents 1.0 Introduction 1.1 Overview 1.2 The Chain of Trust 2.0 Intel ® Cloud Integrity Technology Architecture 3.0 Intel ® Cloud Integrity Technology Components 3.1 Attestation Server 3.2 Key Broker Service 3.3 Key Broker Proxy 3.4 Trust Director 3.5 Trust Agent 3.6 OpenStack Plugins 3.7 Attestation Reporting Hub 4.0 Intel ® Cloud Integrity Technology Setup 4.1 Installing the Attestation Server 4.1.1 Installation Prerequisites 4.1.2 Package Dependencies 4.1.3 Installation 4.2 Installing the OpenStack Controller Extensions 4.2.1 Prerequisites 4.2.2 Minimum Requirements 4.2.3 Extension Dependencies 4.2.4 Installation 4.3 Installing the Key Broker Service 4.3.1 Prerequisites 4.3.2 Minimum Requirements 4.3.3 Package Dependencies 4.3.4 Installation 4.4 Installing the Key Broker Proxy (KMS Proxy) 4.4.1 Prerequisites 4.4.2 Minimum Requirements 4.4.3 Package Dependencies 4.4.4 Installation 4.5 Installing the Trust Director 4.5.1 Prerequisites 4.5.2 Minimum Requirements 4.5.3 Recommended Hardware 4.5.4 Package Dependencies 4.5.5 Installation 4.6 Installing the Trust Agent - Linux 4.6.1 Package Dependencies 4.6.2 Supported Operating Systems 4.6.3 Prerequisites 4.6.4 Installation 4.7\tInstalling the Trust Agent - Windows 4.7.1 Package Dependencies 4.7.2 Supported Operating Systems 4.7.3 Prerequisites 4.7.4 Installation 5.0 Host Attestation 5.1 Overview 5.2 Extending Host Attestation 5.3 Required Components 5.4 Importing Whitelist Values 5.5 Host Registration 5.5.1 Registering Multiple Hosts Using a Flat File 5.5.2 Registering a Host Individually 5.6 Host Attestation 5.6.1 Remediation of Untrusted Attestations 6.0 Image Integrity (VM and Docker) 6.1 Required Components 6.2 Creating the Image Trust Policy (VM and Docker container) 6.3 Hash Only 6.4 Hash and Enforce 6.5 VM Migrations 6.6 VM Snapshots 6.7 Shared Storage 6.8 VM and Docker Attestation 6.9 Workflow Example #1 – VM images 6.10\tWorkflow Example #2 – Docker container images (Uploaded Images to Trust Director or Downloaded from Docker hub) 7.0 Image Privacy 7.1 Required Components 7.2 VM Migrations 7.3 VM Snapshots 7.4 Shared Storage 7.5 Encrypting an Image 7.6 Launching an Instance of an Encrypted Image 7.6.1 VM Encryption for Microsoft Windows Compute Nodes 7.7 Workflow Example for a Virtual Machine 8.0 PCR Definitions 8.1 TPM 1.2 8.2 TPM 2.0 8.3 MLE Administration 8.4 TLS Policy Overview 8.4.1 TLS Policy Types 8.4.2 Policy Scope 8.4.3 Default Policy Selection 8.4.4 Legacy Behavior 8.5 Asset Tags 8.5.1 Prerequisites 8.5.2 Asset Tag Provisioning Workflow 8.5.3 Asset Tag Provisioning Modes 8.5.4 Tags and Selections 8.5.5 Asset Tag Provisioning 8.5.5.1 Push Provisioning 8.5.5.2 Pull Provisioning 8.5.5.3 Creating an XML file for Asset Tag Provisioning 8.5.5.4 Encrypting the Asset Tag XML 8.5.5.5 Decrypting and Verifying the Selection XML File 8.5.5.6 Provisioning Usage 8.6 Database Configuration for Remote Database Servers 8.7 Password Guidelines 8.7.1 Changing the Database Password 8.8 Trust Policies 8.8.1 Choosing Files for Measurement 8.8.2 Creating a Trust Policy 8.8.2.1 Creating a Trust Policy for a Virtual Machine Image 8.8.2.2 Creating a Trust Policy for a Docker container Images 8.8.3 Downloading a Docker image from Docker Hub using Trust Director 8.8.4 Uploading a Docker image to Trust Director – Manual Upload 8.8.5 Uploading Image to Trust Director – Remote File Upload 8.8.6 Creating a Trust Policy for a Non-Virtualized Server 9.0 Whitelisting Guidelines 9.1 For BIOS MLEs: 9.2 For VMM/OS MLEs: 9.3 Encrypted Images 10.0 OpenStack Controller Changes 10.1 Horizon Changes 10.1.1 Library and Configuration Changes 10.1.2 Instance View Changes 10.1.3 Images Dashboard Changes 10.1.4 Attestation Service 10.1.5 Trust Agent 10.1.6 Trust Director 10.1.7 Attestation Reporting Hub 10.1.8 Key Management Service 10.1.8.1 Check Server Version 10.1.8.2 Check Server Status 10.1.8.3 Start and Stop the Server 10.1.8.4 Add, edit, or Remove User Permissions 10.1.8.5 List Users 10.1.8.6 Execute All Setup Tasks 10.1.8.7 Execute Specific Setup Tasks 10.1.8.8 Validate a Setup Task Without Executing It 10.1.8.9 Force Execution of a Setup Task Even if It is Already Validated 10.1.8.10 Continue Executing Subsequent Setup Tasks Even if One Fails 10.1.8.11 Setup Task Reference 10.1.8.12 Uninstall 10.1.8.13 Help 10.1.9 KMS Proxy 10.1.9.1 Check Server Version 10.1.9.2 Check Server Status 10.1.9.3 Start and Stop the Server 10.1.9.4 Execute All Setup Tasks 10.1.9.5 Execute Specific Setup Tasks 10.1.9.6 Validate a Setup Task Without Executing It 10.1.9.7 Force Execution of a Setup Task Even if It is Already Validated 10.1.9.8 Continue Executing Subsequent Setup Tasks Even if One Fails 10.1.9.9 Setup Task Reference 10.1.9.10 Uninstall 10.1.9.11 Help 10.1.10 Attestation Service 10.1.10.1 Check Server Version 10.1.10.2 Check Server Status 10.1.10.3 Start and Stop the Server 10.1.10.4 Change the Database Password and Update Configuration Files 10.1.10.5 Output Attestation Service SSH Key and SAML Certificate Fingerprints 10.1.10.6 Detect and Output Currently-Installed Version of and Installation Location Java 10.1.10.7 Detect and Output Currently-Installed Version and Installation Location of MySQL 10.1.10.8 Create a New MySQL SSL Certificate Authority 10.1.10.9 Detect and Output Currently Installed Version and installation location of Tomcat 10.1.10.10 Generate a New Tomcat SSL Certificate 10.1.10.11 Check the Status of the Tomcat Web Server 10.1.10.12 Backup and Restore All Keys, Certificates, and Secrets Used by the Attestation Service 10.1.10.13 Execute All Setup Tasks 10.1.10.14 Execute Specific Setup Tasks 10.1.10.15 Validate a Setup Task Without Executing It 10.1.10.16 Force Execution of a Setup Task Even if It is Already Validated 10.1.10.17 Continue Executing Subsequent Setup Tasks Even if One Fails 10.1.10.18 Uninstall 10.1.10.19 Help 10.1.11 Trust Agent 10.1.11.1 Start 10.1.11.2 Stop 10.1.11.3 Restart 10.1.11.4 Status 10.1.11.5 Version 10.1.11.6 Authorize 10.1.11.7 Setup 10.1.11.8 Uninstall 10.1.11.9 Help 10.1.12 Trust Director 10.1.12.1 Start 10.1.12.2 Stop 10.1.12.3 Restart 10.1.12.4 password-vault 10.1.12.5 director-envelope-key 10.1.12.6 director-envelope-key-registrationStart 10.1.12.7 Uninstall 10.1.12.8 Help 10.1.13 Attestation Reporting Hub 10.1.13.1 Start 10.1.13.2 Stop 10.1.13.3 Restart 10.1.13.4 password-vault 10.1.13.5 Uninstall 10.2 Installation and Configuration Options 10.2.1 Attestation Service 10.2.1.1 Installation Options 10.2.1.2 Configuration Options 10.2.1.3 Security Configuration 10.2.1.4 Encrypting Configuration Files 10.2.1.5 Changing the Database Password 10.2.2 Trust Agent 10.2.2.1 Trust Agent without OpenStack 10.2.2.2 Trust Agent for OpenStack Compute Node 10.2.2.3 OpenStack Compute Changes 10.2.2.4 Command-Line Options 10.2.3 Key Management Service 10.2.3.1 Installation Options 10.2.3.2 Configuration 10.2.3.3 Configuring the KMS to use an External Barbican or KMIP-Compliant Key Vault 10.2.3.4 Command-Line Options 10.2.4 KMS Proxy 10.2.4.1 Configuration 10.2.4.2 Command-Line Options 10.2.5 Trust Director 10.2.5.1 Setup 10.2.5.2 Configuration 10.2.6 OpenStack Controller 10.2.6.1 Setup 10.2.6.2 Configuration 10.2.7 Attestation Reporting Hub 10.3 High Availability Guidelines 10.3.1 Attestation Service 10.3.1.1 Prerequisites 10.3.1.2 Deployment Instructions 10.3.1.3 Failover 10.3.2 Key Management Service 10.3.3 Key Management Proxy 10.4 Nova Changes 10.4.1 Filter Code 10.5 OpenStack Compute Node Changes 11.0 Configuration 11.1 Directory Layout 11.1.1 Key Broker Service 11.1.1.1 Linux Directory Layout 11.1.1.2 Home Directory Layout 11.1.1.3 Custom Directory Layout 11.1.2 KMS Proxy 11.1.2.1 Linux Directory Layout 11.1.2.2 Home Directory Layout 11.1.2.3 Custom Directory Layout 12.0 Uninstallation 12.1 Attestation Service 12.2 Trust Agent 12.3 Trust Director 12.4 Key Broker Service 12.5 KMS Proxy 12.6 OpenStack Patches 12.7 Attestation Reporting Hub 13.0 Troubleshooting 13.1 Attestation Service 13.2 Key Management Service 13.3 KMS Proxy 13.4 Trust Agent 13.5 OpenStack Controller Extensions 13.6 Attestation Reporting Hub 14.0 Building OpenCIT from Source 14.1\tPreparing the Build Environment 14.1.1 Minimum Requirements 14.1.2 Installing the Required Packages 14.1.3 Installing the Java Development Kit (JDK) 14.1.4 Installing Apache Maven 14.1.5 Editing setting.xml 14.1.6 Modifying Environment Files 14.2 Intel ® CIT Source Code 14.2.1 Downloading the Source Code 14.2.2 Building the Source Code 14.3 Binary Locations 15.0 TXT/TPM Prerequisites and Activation 15.1 Trusted Boot Provisioning 16.0 Frequently Asked Questions 17.0 Sample Use Cases 17.1 Attesting Open vSwitch (OVS) 17.1.2 Configuration Steps 18.0 Known Issues and Errata 1.0 Introduction Intel ® Cloud Integrity Technology (Intel® CIT) extends a hardware-based Root of Trust up through the Cloud solution stack to ensure the privacy and integrity of Cloud platforms and workloads. 1.1 Overview Intel ® CIT secures Cloud-based workloads through workload placement, encryption, and launch control bound to the hardware-rooted Chain of Trust. By using Intel® Trusted Execution Technology (Intel® TXT) to measure server firmware and software components during system launch, serverconfigurations can b e verified against tampering. Extending this Chain of Trust, additional software components, hypervisors, virtual machines and now Docker containers can be similarly attested and verified. By encrypting workload images and tying the decryption key to server hardware using a Trusted Platform module, final control over where a virtual machine may or may not launch is given to the customer, preventing unauthorized access and enabling data sovereignty. 1.2 The Chain of Trust The Chain of Trust begins with Intel ® TXT, which acts as an unchanging hardware measurement agent, referred to as a hardware Root of Trust. By using Intel® TXT to measure software that in turn measures other software, a chain of trust can be established, where each step of the boot process measures the next step. Intel® CIT extends the concept of the “chain of trust” using a remote Attestation Service to verify the measured server components against previously-stored known-good measurements. While previous incarnations were only capable of measuring the BIOS, OS kernel, and hypervisor components, Intel® Cloud Integrity T echnology now adds to this capability, using administrator- customizable Trust Policies to define specific files and folders to be measured, both for bare-metal servers and for virtual machines, bringing the chain of trust beyond platform attestation and enabling application-level integrity verifica tion. Since each measurement is performed by a component that was itself measured by another component further down the chain, all the way to the hardware root of trust and remotely verified through the trust attestation process, Cloud adopters can be assured their workloads are run only on hardware and software that meets their criteria for security. 2.0 Intel ® Cloud Integrity Technology Architecture Figure 1 shows a component overview of Intel ® CIT architecture. Figure 1. Component Overview Figure 2 shows a more detailed overview of the architecture. Figure 2. Detailed Architecture Overview 3.0 Intel This section describes the various Intel 3.1 Attestation Server The Attestation Server component of Intel known-good values. The attested trust status of each server is used to make policy decisions for workload placement. As a server boots, Intel Trusted Platform Module (TPM). Each chain of trust component is measured, and these measurements are remotely verified using the Attestation Server. Known-good measurements for each of these components can be directly imported from a sample server, and additional software components can be measured using an administrator-defined Trust Policy (created using the Trust Director application). Each server to be attested is registered with the Attestation Server. This process includes setting the expected values for future attestations, and the generation of the Attestation Identity Key (AIK). The AIK is an asymmetric keypair generated by the host's Trusted Platform Module for the purpose of cryptographically securing attestation quotes for transmission to the Attestation Server. 3.2 Key Broker Service The key broker enables key distribution using platform trust to authorize key transfers. By retaining image decryption keys, unauthorized access can be prevented, even from within the Cloud Service Provider. The Key Broker Service (KMS) provides and retains encryption/decryption keys for virtual machine images. When a compute node requests the decryption key to launch an instance of an encrypted image, the KMS verifies the host's attestation from the Attestation Server, verifies all digital signatures, and retains final control over whether the decryption key is issued. If the server's attestation meets the policy requirements, the KMS issues a decryption key itself, wrapped using the AIK from the host that was attested, cryptographically ensuring that only the attested host can decrypt the requested image. The KMS is primarily a policy broker that analyzes key requests, decides how to respond, and wraps keys using the AIK-derived binding key. The Key Broker Service connects to a back-end 3rd Party KMIP-compliant key management service, like OpenStack Barbican, for key creation and vaulting services. 3.3 Key Broker Proxy The Key Broker Proxy (KMS Proxy) is a lightweight performance-enhancement service that limits the necessary communication between the Key Broker Server and the Cloud Service Provider components. The KMS Proxy receives the instance launch request for an encrypted image from the Trust Agent and requests an attestation for that host from the Attestation Service. The KMS Proxy then sends the request along with the signed SAML attestation to the appropriate Key Broker Service. 3.4 Trust Director The Trust Director application is used for the generation of VM image, Docker image, and non-virtualized server Trust Policies, and for the encryption of VM images using keys generated by the Key Management Service. The Trust Director requires access to mount the file system of a server or virtual machine image, allowing the user to select those files and folders to be included in the Trust Policy. Once the user defines the Policy, it is digitally signed by both the Trust Director and the Attestation Service. In the case of a virtual machine image, the Trust Policy is included in a tgz archive, and follows the image and all resulting instances as it is uploaded to OpenStack Glance. In the case of a physical server, the Trust Policy is copied to the server file system, where it acts as an extension of the files measured by the chain of trust, secured via remote attestation by the Attestation Service. 3.5 Trust Agent The Trust Agent resides on physical servers and enables both remote attestation and the extended chain of trust capabilities. The Agent maintains ownership of the server's Trusted Platform Module, allowing secure attestation quotes to be sent to the Attestation Service. The Trust Agent is also responsible for intercepting launch requests for encrypted images and Docker container images so that they can be decrypted before being sent to the hypervisor, as well as actual measurement of the virtual machine images themselves as they are launched. The Trust Agent is supported for Microsoft Windows Server 2012, Microsoft Hyper-V, Ubuntu and Red Hat Enterprise Linux (RHEL). Refer to Section 4.6.2 for specific versions supported. 3.6 OpenStack Plugins Several modifications are made to both the OpenStack controller and compute node components. These changes update the controller UI to display Cloud Integrity-related information and functions, and add a OpenStack plugins are supported for unmodified OpenStack deployments only. 3.7 Attestation Reporting Hub The Attestation Hub acts as a middle-man between the Attestation Service and one or more scheduler services (such as OpenStack), and \"pushes\" attestation information retrieved from the Attestation Service to one or more scheduler services according to an assignment of hosts to specific tenants.  In this way, Tenant A can receive attestation information for hosts that belong to Tenant A, but receive no information about hosts belonging to Tenant B.\nThe Attestation Hub serves to disassociate the process of retrieving attestations from actual scheduler queries, so that scheduler services can adhere to best practices and retain better performance.  The Attestation Hub will regularly query the CIT Attestation Service for SAML attestations for each host.  The Attestation Hub maintains only the most recent currently valid attestation for each host, and will refresh attestations when they would expire.  The Attestation Hub will verify the signature of the SAML attestation for each host assigned to a tenant, then parse the attestation status and asset tag information, and then will push the parsed key/value pairs to the plugin endpoints enabled. 4.0 Intel This section describes the installation and configuration steps for each component of the Intel 4.1 Installing the Attestation Server 4.1.1 Installation Prerequisites The Intel Supported Operating Systems: Ubuntu 14.04 Recommended Hardware: 2 vCPUs RAM: 4 GB Recommended; 2 GB Minimum 2 GB free space to install the Attestation Server services. Additional free space may be needed if the Attestation Server database will be located on the same disk (database space requirement is dependent on the number of managed servers and the frequency with which they will be attested). One network interface with network access to all managed servers. (Optional) One network interface for Asset Tag provisioning (only required for 4.1.2 Package Dependencies The Intel Monit (optional) Logback (optional) Apache Tomcat Java 8 JDK OpenSSL Postgres client and server 9.3 Unzip If they are not already installed, the Attestation Service installer attempts to install these packages automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update your repository package lists before installation. 4.1.3 Installation Figure 3 shows deployment scenarios for environments consisting of VMWare ESXi, Citrix XenServer, and Trust Agent servers. Depending on the individual deployment strategy, different deployment scenarios can also be considered. Figure 3. Deployment Scenarios Figure 4 shows the high-level procedure required to configure host attestation using Intel Figure 4. High-Level Procedure to Configure Host Attestation To install the Attestation Service, follow these steps: Copy the Attestation Service installation binary to the /root/ directory. Create the mtwilson.env installation answer file for an unattended installation. A sample minimal mtwilson.env file is provided next. For all configuration options and their descriptions, refer to Section 10.2.1 export INSTALL_PKGS=\"java logrotate tomcat postgres privacyca monit SERVICES PORTALS\" \nexport MTWILSON_SERVER= IP address or hostname for the Attestation Server export MTWILSON_API_BASEURL=\"https://${MTWILSON_SERVER}:8443/mtwilson/v1\" \nexport WEBSERVER_VENDOR=tomcat\nexport DATABASE_VENDOR=postgres \nexport DATABASE_PORTNUM=5432\nexport MC_FIRST_USERNAME=administrator \nexport MC_FIRST_PASSWORD=password \nexport TOMCAT_ADMIN_USERNAME=tomcatadmin\nexport TOMCAT_ADMIN_PASSWORD=setininstall \nexport PRIVACYCA_DOWNLOAD_USERNAME=pcaadmin \nexport PRIVACYCA_DOWNLOAD_PASSWORD=password\n#####################################################################################################\nexport MTWILSON_TLS_POLICY_ALLOW=certificate,certificate-digest,public-key,public-key-digest,TRUST_FIRST_CERTIFICATE\nexport MTWILSON_DEFAULT_TLS_POLICY_ID=TRUST_FIRST_CERTIFICATE\n#####################################################################################################\nexport LOG_ROTATION_PERIOD=daily export LOG_COMPRESS=compress\nexport LOG_DELAYCOMPRESS=delaycompress export LOG_COPYTRUNCATE=copytruncate \nexport LOG_SIZE=100M\nexport LOG_OLD=7\n##################################################################################################### \nexport JAVA_REQUIRED_VERSION=1.7.0_51\nexport MTWILSON_API_SSL_VERIFY_HOSTNAME=false \nexport DATABASE_HOSTNAME=127.0.0.1\nexport DATABASE_SCHEMA=mw_as \nexport DATABASE_USERNAME=root \nexport DATABASE_PASSWORD=password\n##################################################################################################### \nexport POSTGRES_REQUIRED_VERSION=9.3\nexport POSTGRES_HOSTNAME=${DATABASE_HOSTNAME} \nexport POSTGRES_PORTNUM=${DATABASE_PORTNUM} \nexport POSTGRES_DATABASE=${DATABASE_SCHEMA} \nexport POSTGRES_USERNAME=${DATABASE_USERNAME} \nexport POSTGRES_PASSWORD=${DATABASE_PASSWORD}\nexport ADD_POSTGRESQL_REPO=yes \nexport POSTGRESQL_KEEP_PGPASS=true\n##################################################################################################### \nexport TOMCAT_REQUIRED_VERSION=7.0\nexport TOMCAT_CREATE_SSL_CERT=yes\nexport TOMCAT_SSL_CERT_CN=${MTWILSON_SERVER},127.0.0.1 \nexport PRIVACYCA_SERVER=${MTWILSON_SERVER}\nexport INSTALLED_MARKER_FILE=/var/opt/intel/.mtwilsonInstalled \nexport INSTALL_LOG_FILE=/tmp/mtwilson-install.log\n#####################################################################################################\n# ASSET TAG Configuration\nexport MTWILSON_TAG_SERVER_PRIVATE=${MTWILSON_SERVER}\nexport TAG_PROVISION_EXTERNAL=false \nexport TAG_PROVISION_NOCACHE=true\nexport TAG_PROVISION_XML_ENCRYPTION_REQUIRED=false \nexport TAG_PROVISION_XML_PASSWORD=password\nexport MTWILSON_TAG_KEYSTORE=\"/opt/mtwilson/configuration/serverAtag.jks\" \nexport MTWILSON_TAG_KEYSTORE_PASSWORD=password\nexport MTWILSON_TAG_KEY_PASSWORD=password \nexport MTWILSON_TAG_CERT_IMPORT_AUTO=true \nexport TAG_PROVISION_XML_REQUIRED=false \nexport TAG_VALIDITY_SECONDS=31536000\nexport TAG_ISSUER_DN=\"CN=mtwilson-tag-ca\"\nexport MTWILSON_TAG_HTML5_DIR=\"/opt/mtwilson/share/apache-tomcat-7.0.34/webapps/mtwilson-portal/tag\" \nexport MTWILSON_TAG_ADMIN_USERNAME=tagadmin\nexport MTWILSON_TAG_ADMIN_PASSWORD=password Execute the installer binary. When the installation completes, the Attestation Service is available. If the web portal component was installed (recommended), the portal UI is now accessible at the following URL: https://[Attestation Server IP address]:8443/mtwilson-portal/index.html The services can also be verified by running mtwilson status from the Attestation Service command line. 4.2 Installing the OpenStack Controller Extensions 4.2.1 Prerequisites The following must be completed before installing the OpenStack Controller Extensions: OpenStack Mitaka release is supported. OpenStack Controller must be installed and running. The OpenStack Horizon and Nova services must be running on the same controller. The Attestation Service must be installed and running. The OpenStack controller must have a credentials file named /root/adminrc witht eh following contents: 4.2.2 Minimum Requirements Intel Mitaka\nRefer to the OpenStack documentation for OpenStack minimum requirements for specific releases. Note: Intel Open Cloud Integrity Technology currently supports only the base OpenStack community distribution versions. 4.2.3 Extension Dependencies The Intel OpenStack Horizon OpenStack Nova Note: If services are configured to run separately, the installation script requires modification. 4.2.4 Installation To install the Intel Create the mtwilson-openstack-controller.env installation answer file. A sample mtwilson-openstack-controller.env file is provided below. For all configuration options and their descriptions, refer to Section 10.2.6 . MTWILSON_SERVER= IP address or hostname for Attestation Service MTWILSON_SERVER_PORT=8443\nMTWILSON_ASSET_TAG_API_USERNAME= Attestation Service MTWILSON_TAG_ADMIN user MTWILSON_ASSET_TAG_API_PASSWORD= password Note: The username and password required by the OpenStack Controller Extensions can be satisfied by the MTWILSON_TAG_ADMIN user created during the installation of the Attestation Service. Copy the OpenStack Controller Extensions installation binary to the /root/ directory. Execute the OpenStack Controller Extensions installer. When the installation completes, the Horizon Dashboard should reflect the new Intel 4.3 Installing the Key Broker Service 4.3.1 Prerequisites The following must be completed before installing the Key Broker Service: Attestation Service server must be installed and active. (Choose Barbican or KMIP) Barbican service must be configured and available. (Choose Barbican or KMIP) KMIP service must be configured and available. 4.3.2 Minimum Requirements Following are the minimum requirements: Ubuntu 14.04 Minimum 512 MB RAM (1 GB recommended) Minimum 1 vCPU (virtual machines only) 1 GB free disk space 1 Network Interface with network access to the Trust Director 1 Network Interface with network access to the KMS Proxy 4.3.3 Package Dependencies The Intel Unzip Authbind If they are not already installed, the Key Broker installer attempts to install these automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update the repository package lists before installation. 4.3.4 Installation To install the Intel Copy the KMS installer binary to the /root/ directory Execute the KMS installer binary. From the KMS command line, run the following command to create the administrator account (replace admin and password with any username and password): kms password admin password --permissions *:* Run the following commands to configure the KMS endpoint URL: ifconfig\n    kms config endpoint.url http:// KMS IP kms restart (Optional, not required for KMIP key management) To use Barbican for key creation and vaulting services: kms config key.manager.provider com.intel.kms.barbican.client.BarbicanKeyManager kms config barbican.project.id Barbican Project ID kms config barbican.endpoint.url http://barbican.example.com:9311 kms config barbican.keystone.public.endpoint http://keystone.example.com:5000\nkms config barbican.tenant.name Tenant name kms config barbican.password Barbican password kms config barbican.username Barbican username kms restart (Optional, not required for Barbican key management) To use another KMIP-compliant application for key creation and vaulting services: kms config key.manager.provider com.intel.kms.kmip.client.KMIPKeyManager\nkms config kmip.targetHostname http://kmip.example.com: KMIP Port /KMIPWebAppServer/KMIPServlet kms restart Browse to the Attestation Service URL and log on. https://AttestationServiceIpAddress:8443/mtwilson-portal From the Attestation Service portal, browse to Administration View Certificates and click the Download Configuration Data Bundle link. This downloads an archive named databundle , containing Attestation Service certificates needed by the Key Broker (KMS). Log in to the Key Broker web UI (the URL is https://MyKmsIpAddress ) using the username and password configured in Step 4 . From KMS UI, select Settings More Settings Upload Settings . Click the Choose File button and select the databundle file downloaded from the Attestation Service in Step 8 . Click the Upload button to upload the configuration data bundle. 4.4 Installing the Key Broker Proxy (KMS Proxy) 4.4.1 Prerequisites The following must be completed before installing the Key Broker Proxy: Attestation Service server must be installed and active. Key Broker Service must be installed and active. 4.4.2 Minimum Requirements Ubuntu 14.04 Minimum 512 MB RAM (1 GB recommended) Minimum 1 vCPU (virtual machines only) 1 GB free disk space 1 Network Interface with network access to all Trust Agent servers and the Attestation Service 1 Network Interface with network access to the Key Broker Service (typically Internet/VPN) 4.4.3 Package Dependencies The Intel Unzip Authbind If they are not already installed, the KMS Proxy installer attempts to install these packages automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update the repository package lists before installation. 4.4.4 Installation To install the Key Broker Proxy, follow these steps: Create the kmsproxy.env installation answer file.\nA sample kmsproxy.env file is provided next. For full installation options and their descriptions, refer to Section 10.2.4 . MTWILSON_TLS_CERT_SHA256=\nMTWILSON_API_URL=https://:8443/mtwilson\nJETTY_PORT=8080\nJETTY_SECURE_PORT=8443 Note: The Attestation Service TLS certificate SHA256 can be found by running the following command on the Attestation Service server: mtwilson export-config --stdout |grep sha256 Copy the KMS Proxy installation binary to the /root/ directory. Run the KMS Proxy installation binary. After installation is complete, configure the KMS Proxy endpoint URL: kmsproxy config endpoint.url http:// KMSProxy IP Update the KMS Proxy Shiro configuration: kmsproxy setup shiro-ssl-port Restart the KMS Proxy services: kmsproxy restart Browse to the Attestation Service URL and log on using an administrative account. Browse to the Administration tab, then select Pending Requests . Select the kmsproxy user, then click Details . Select the Attestation and Challenger roles, then click Approve . 4.5 Installing the Trust Director 4.5.1 Prerequisites The following must be completed before installing the Trust Director: Attestation Service server must be installed and active. (Optional. Required only for VM Privacy use case) Key Management Service must be installed and active. (Optional. Required only for VM Privacy use case) KMS Proxy Service must be installed and active. 4.5.2 Minimum Requirements Ubuntu 14.04 Server (physical server or VM) Minimum 2 GB RAM Approximately 1 GB free disk space for the Trust Director application. Additional storage requirements depending on the number and size of images uploaded to the Trust Director. 4.5.3 Recommended Hardware 4 vCPUs RAM: 4GB Recommended 4.5.4 Package Dependencies The Intel 4.5.5\tInstallation To install the Trust Director Application, follow these steps: Create the director.env installation answer file. This file contains additional properties depending on the use cases. A sample director.env file is provided next (required for all use cases). For configuration options, refer to Section 10.2.5 . MTWILSON_USERNAME=\" Attestation Service user with Administrative rights \" \nMTWILSON_PASSWORD=\" Password for Attestation Service user with administrative rights \" \nMTWILSON_SERVER=\" Attestation Service Ip or Hostname \"\nMTWILSON_SERVER_PORT=\"8443\"\nDIRECTOR_ID=\" User-defined string used as an identifier; should be unique for each instance of Trust Director \"\n\nJAVA_KEYSTORE_PASSWORD=\" user-defined Java keystore password - default is changeit \"\nMTWILSON_API_URL=\"https:// Attestation Service IP or Hostname :8443/mtwilson/v2\" \nMTWILSON_TLS=\" SHA256 of Attestation Service TLS Certificate \"\n\n\nDIRECTOR_DB_NAME=\"director_data_pu\" \nDIRECTOR_DB_HOSTNAME=\"localhost\" \nDIRECTOR_DB_PORTNUM=\"5432\"\nDIRECTOR_DB_DRIVER=\"org.postgresql.Driver\" \nDIRECTOR_DB_USERNAME=\" Database username \" \nDIRECTOR_DB_PASSWORD=\" Database password \"\n\nDIRECTOR_VM_WHITELIST_HASH_TYPE=\"SHA256\"\nDIRECTOR_BAREMETAL_WHITELIST_HASH_TYPE=\"SHA1\" (Optional. Required only for Docker container use cases): DIRECTOR_DOCKER_WHITELIST_HASH_TYPE=\"SHA256\" (Optional. Required only for VM Integrity and VM Privacy use cases): TENANT_NAME=\" Tenant in OpenStack Glance \" \nGLANCE_API_ENDPOINT=\"https://glance.example.com:9292\"\nGLANCE_KEYSTONE_PUBLIC_ENDPOINT= Glance Username \" \nGLANCE_IMAGE_STORE_PASSWORD=\" Glance Password \" (Optional. Required only for VM Privacy use case): KMS_ENDPOINT_URL=\"https:// KMS IP or Hostname \" \nKMS_LOGIN_BASIC_USERNAME=\" KMS username \" \nKMS_LOGIN_BASIC_PASSWORD=\" KMS password \" \nKMS_TLS_POLICY_CERTIFICATE_SHA256=\" SHA256 of KMS TLS Certificate \" Note: The KMS_LOGIN_BASIC_USERNAME and password required by the Trust Director is the user created after installation of the KMS with the following command: kms password username password --permissions *:* The KMS TLS certificate SHA1 can be found in /opt/kms/configuration/https.properties . The KMS username and password are the username and password created by the kms password command after installing the KMS (see Section 4.3 ) Note: The Attestation Service TLS certificate SHA256 can be found by running the following command on the Attestation Service server: mtwilson export-config --stdout |grep sha256 Note: If SSL will be used for communication with Glance, the Glance SSL certificate must be first imported into the Java keystore on the Trust Director server.  Download the Glance SSL certificate to a file, and then use the following command to import the certificate into the keystore: keytool -import -trustcacerts -alias imagestore -file ssl.crt -keystore $JAVA_HOME/jre/lib/security/cacerts Copy the Trust Director installation binary to the /root/ directory. Execute the Trust Director installer. When prompted to create the supermin appliance by the installer, select yes . Create an administrative user for the Trust Director: director password username password --permissions *:* For example: director password admin password --permissions *:* Log on to the Trust Director* ( https://TrustDirectorIpOrHostname )* using the username and password configured in Step 4 . Integrating OpenStack Glance as External image store The External storage settings determine where the Trust Director will upload images, and must be configured before Docker and VM image Trust Policies can be uploaded. Navigate to the Settings menu and click on Configure External Storage Click on the Add External Storage button. Provide the External storage name and the connector. Names can only contain Select Glance as the connector. Check the boxes Image , Docker , Tarball then hit Next The next screen configures the URI and credential settings for OpenStack Horizon/Glance and Keystone. If your glance repository is set to private, set it to Private , otherwise set it to Public . Form name Possible values API Endpoint http://nova.server:9292 Authorization Endpoint http://keystone.server:5000 Tenant Name Tenant-a UserName TenantA-username Password Changeit Visibility Public OR Private After supplying the values, the settings can be tested by pressing the Test Connection button. Validation may take several seconds. Click Save to save the configuration settings. Proceed to the Section 8.8.2.1 or 8.8.2.2 4.6 Installing the Trust Agent - Linux 4.6.1 Package Dependencies The Intel trousers tboot tpm-quote-tools openssl make gcc If they are not already installed, the Trust Agent installer attempts to install these automatically using the package manager. Automatic installation requires access to package repositories, which may require an Internet connection. If the packages are to be installed from the package repository, be sure to update the repository package lists before installation. 4.6.2 Supported Operating Systems The Intel 4.6.3 Prerequisites The following must be completed before installing the Trust Agent: (Optional, OpenStack deployments only) OpenStack Cloud Controller deployed and active. (Optional, OpenStack deployments only) OpenStack Compute Node resources installed and running. Supported server hardware including an Intel Trusted Platform Module installed and activated in the system BIOS, with cleared ownership status. System must be booted to a tboot boot option Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel Intel (Optional, required for Docker container use cases only) Docker-engine must be installed (supported versions: 1.10, 1.11, 1.12, 1.13) (Optional, required for Docker container use cases only) nova-Docker driver (Mitaka) 4.6.4 Installation To install the Intel (Required for non-OpenStack deployments only) Create the trustagent.env answer file in the /root/ directory (for configuration options, see Section 10.2.2 ) MTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \nMTWILSON_API_USERNAME= Attestation Service PrivacyCA username MTWILSON_API_PASSWORD= Attestation Service PrivacyCA password MTWILSON_TLS_CERT_SHA256= SHA1 of Attestation Service TLS Certificate REGISTER_TPM_PASSWORD=y\nMANIFEST_PATH=\"/boot/trust/manifest.xml\"\nGRUB_FILE=\" full path to the grub boot loader, grub.cfg \"  \nTRUSTAGENT_LOGIN_REGISTER=true Note: The MTWILSON_API_USERNAME and password required by the Trust Agent can be satisfied by the PRIVACYCA_DOWNLOAD_USERNAME user created during the installation of the Attestation Service. (Required for OpenStack deployments only) Create the mtwilson-openstack.env answer file in the /root/ directory (sample env file provided below; for full configuration options and their descriptions, refer to Section 10.2.2.2 ). MTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \nMTWILSON_API_USERNAME= Attestation Service administrative username MTWILSON_API_PASSWORD= Attestation Service administrative password MTWILSON_TLS_CERT_SHA256= SHA1 of Attestation Service TLS Certificate REGISTER_TPM_PASSWORD=y\nMANIFEST_PATH=\"/boot/trust/manifest.xml\"  \nGRUB_FILE=\" full path to the grub boot loader, rub.cfg \" \nKMSPROXY_SERVER=\" IP or hostname of KMS Proxy \" \nKMSPROXY_SERVER_PORT=\"8080\" \nTRUSTAGENT_LOGIN_REGISTER=true Note: The MTWILSON_API_USERNAME and password required by the Trust Agent can be satisfied by the PRIVACYCA_DOWNLOAD_USERNAME user created during the installation of the Attestation Service. (Required for Openstack Docker containers only) Create the mtwilson-openstack.env answer file in the /root/ directory (sample env file provided below; MTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \nMTWILSON_API_USERNAME= Attestation Service administrative username MTWILSON_API_PASSWORD= Attestation Service administrative password MTWILSON_TLS_CERT_SHA256= SHA1 of Attestation Service TLS Certificate REGISTER_TPM_PASSWORD=y\nMANIFEST_PATH=\"/boot/trust/manifest.xml\" \nGRUB_FILE=\" full path to the grub boot loader, grub.cfg \" \nTRUSTAGENT_LOGIN_REGISTER=true\nDEPLOYMENT_TYPE=\"docker\" Copy the Trust Agent installer binary to the /root/ directory. Note: There are separate Trust Agent installers for Ubuntu or Red Hat. Select the installer appropriate for your OS. Execute the Trust Agent installer, and wait for the installation to complete. Browse to the Trust Director ( https://TrustDirectorIpOrHostname ) to create the non-virtualized server Trust Policy. Select Trust Policy , then select Non-Virtualized Server and click Add New Policy . Provide a name for the new Trust Policy, as well as SSH details for the host that will be used to generate the Policy (root permissions are needed to browse the full file structure of the remote host). Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Files related to the Trust Agent are automatically selected for measurement on non-virtualized hosts; this is mandatory to preserve the Chain of Trust. For Docker containers, if you want to check the integrity of the Docker engine after every reboot, select the file /usr/bin/Docker as part of the manifest as shown below: Folders can be Once all required files and folders have been defined for the Trust Policy, click Next. The Trust Policy ( trustpolicy.xml and manifest.xml ) are created and placed in the /boot/trust directory on the host. To deploy the same Trust Policy to other hosts, click the provided Download link. The trustpolixy.xml and manifest.xml files are downloaded in a tgz archive, and can be provisioned to all hosts that will have identical measured files to the source host. A new GRUB boot option is created by the Trust Agent installer whose label begins with /etc/default/grub ) to use the TCB Protection option, and run update-grub (Ubuntu) or grub2-mkconfig /boot/grub/grub.cfg (RHEL) so the change takes effect. Reboot the server so that the Trust Policy is included in the server attestation measurements. This causes the new Trust Policy measurements to be calculated and extended to PCR 19 in the TPM. 4.7\tInstalling the Trust Agent - Windows 4.7.1\tPackage Dependencies The Intel cygwin64 must be installed. Microsoft Visual C++ 2010 Redistributable Microsoft Visual C++ 2013 Redistributable Java JDK 8 For the last three dependencies, If these are not already installed, the Trust Agent installer attempts to install them, which may require an Internet connection. 4.7.2 Supported Operating Systems The Intel Microsoft Windows Server 2012 Microsoft HyperV 2012 4.7.3 Prerequisites The following must be completed before installing the Trust Agent: Supported server hardware including an Intel Trusted Platform Module installed and activated in the system BIOS, with cleared ownership status. Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel (Optional, required for the Image Integrity and Image Privacy use cases) Intel Intel BitLocker must be activated. 4.7.4 Installation For Baremetal deployment This procedure describes the steps to install the CIT component on a Baremetal Windows. Before executing the installer, create the system.ini configuration file in the same folder than the mtwilson-openstack-trusted-node-windows-3.2.1-SNAPSHOT.exe file (sample system.ini file provided below). [COMMON]\n\n; if left blank then the default installation directory would be \"C:\\Program Files (x86)\\Intel\"\n\nINSTALLATIONTYPE=BM\n\nINSTALLATIONDIR=\n\n[TRUST_AGENT]\n\n; CIT server settings \n\nMTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \n\nMTWILSON_API_USERNAME= Attestation Service PrivacyCA username MTWILSON_API_PASSWORD= Attestation Service PrivacyCA password MTWILSON_TLS_CERT_SHA256= SHA256 of Attestation Service TLS Certificate Note: The MTWILSON_API_USERNAME and password required by the Trust Agent can be satisfied by the \tPRIVACYCA_DOWNLOAD_USERNAME user created during the installation of the Attestation Service. Execute the mtwilson-openstack-trusted-node-windows-3.2.1-SNAPSHOT.exe file. The CIT-Compute-Node Setup orchestrator installer will be displayed. This orchestrator will conduct the installation of all the CIT components required for the Windows host depending on the option set in the system.ini file. Click Next. The install location screen. Click Install. The Tbootxm Setup window will be displayed. Click Next and then in the next window Install.  A Microsoft Window will be displayed asking to restart the computer. NOTE: Do NOT click Restart Now. Click Restart Later. The installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Tbootxm Setup window will be displayed. Click Finish. The Intel CIT Trust Agent Setup window will be displayed saying the Microsoft Visual C++ package is not installed. Click OK. The required package will be installed then the Welcome to Intel CIT Trust Agent Setup window will be displayed. Click Next. The Checking Environment for Installation window will be displayed. Click Next. The Install Location window will be displayed. Click Next. The Setting up configuration window will be displayed. Click Install. After some minutes the installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing CIT Trust Agent Setup window will be displayed. Click Finish. Once this window disappears the Openstack-Extensions Setup installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Openstack-Extensions Setup window will be displayed. Click Finish. The CIT-Compute-Node Setup window will show the installation log and the Completed line. Make sure no errors are displayed in the log lines then click Next. The Completing CIT-Compute-Node Setup window will be displayed. Select the desired option, Reboot Now or I want to manually reboot later, and then click  Finish. Note: A reboot is required before start using the CIT components already installed. For VM Attestation deployment This procedure describes the steps to install the CIT component on a Windows compute node already attached to an Openstack controller. Before executing the installer, create the system.ini configuration file in the same folder than the mtwilson-openstack-trusted-node-windows-3.2.1-SNAPSHOT.exe file (sample system.ini file provided below). [COMMON]\n\n; if left blank then the default installation directory would be \"C:\\Program Files (x86)\\Intel\"\n\nINSTALLATIONTYPE=VM\n\nINSTALLATIONDIR=\n\n[TRUST_AGENT]\n\n; CIT server settings \n\nMTWILSON_API_URL=https:// Attestation Service IP or Hostname :8443/mtwilson/v2 \n\nMTWILSON_API_USERNAME= Attestation Service PrivacyCA username MTWILSON_API_PASSWORD= Attestation Service PrivacyCA password MTWILSON_TLS_CERT_SHA256= SHA256 of Attestation Service TLS Certificate [POLICY_AGENT]\n; Needed in case of creating new drive for encryption\n; if left blank the drive provided in DriveUsedForEncryption below will be used for encryption\nDriveUsedForPartition=\n\n; Size to be given to new partition if created (in MB)\nSizeOfNewPartition=20480            \n\n; Drive letter of an existing drive which will be used for encryption if DriveUsedForPartition above is blank\n; else Unique Drive letter to be assigned to new partition\nDriveUsedForEncryption=D\n\n; KMS configurations\n; if left blank, will need to be populated manually for encryption flow\nKMSPROXY_SERVER= KMS Service IP or Hostname KMSPROXY_SERVER_PORT= KMS Port [TBOOTXM]\n\n[VRTM]\n\n[MTWILSON_OPENSTACK_NODE] Execute the mtwilson-openstack-trusted-node-windows-3.2.1-SNAPSHOT.exe file. The CIT-Compute-Node Setup orchestrator installer will be displayed. This orchestrator will conduct the installation of all the CIT components required for the Windows host depending on the option set in the system.ini file. Click Next. The install location screen. Click Install. The Tbootxm Setup window will be displayed. Click Next and then in the next window Install.  A Microsoft Window will be displayed asking to restart the computer. NOTE: Do NOT click Restart Now. Click Restart Later. The installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Tbootxm Setup window will be displayed. Click Finish. The Intel CIT Trust Agent Setup window will be displayed saying the Microsoft Visual C++ package is not installed. Click OK. The required package will be installed then the Welcome to Intel CIT Trust Agent Setup window will be displayed. Click Next. The Checking Environment for Installation window will be displayed. Click Next. The Install Location window will be displayed. Click Next. The Setting up configuration window will be displayed. Click Install. After some minutes the installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing CIT Trust Agent Setup window will be displayed. Click Finish. The Vrtm Setup window will be displayed. Click Next and then Install in the next window.  The Vrtm Setup window will be displayed saying the Microsoft Visual C++ 2010 Redistributable package is not installed. Click Ok. The required package will be installed then a new Vrtm Setup window will be displayed saying the Ext2Fsd driver is not installed. Click OK. The required package will be installed then the Vrtm Setup Installation Complete window will be displayed and the installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Vrtm Setup window will be displayed. Click Finish. The Welcome to Policyagent Setup window will be displayed. Click Next and then Next in the Install Location window. Windows describing information about the drive that is going to be use for encryption will be displayed.  NOTE: Since the drive/partition that is going to be use for encryption will be created/prepared and then encrypted by Bitlocker the Policyagent Setup windows could also show a Not Responding message. Once Bitlocker is done a Policyagent Setup window will be displayed saying the Bitlocker drive setup is completed. Click OK. The Policyagent Setup installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Policyagent Setup window will be displayed. Click Finish. The Welcome to Openstack-Extensions Setup window will be displayed. Click Finish. The Welcome to Openstack-Extensions Setup window will be displayed. Hit the Enter key. A second Windows command prompt window will be displayed asking for a confirmation to apply patches to some other files already installed. Hit the Enter key. A third Windows command prompt window will be displayed for few second saying the nova-compute services are being restarted.  Once this window disappears the Openstack-Extensions Setup installation log will show the line Completed. Make sure no errors are displayed in the log lines then click Next. The Completing Openstack-Extensions Setup window will be displayed. Click Finish. The CIT-Compute-Node Setup window will show the installation log and the Completed line. Make sure no errors are displayed in the log lines then click Next. The Completing CIT-Compute-Node Setup window will be displayed. Select the desired option, Reboot Now or I want to manually reboot later, and then click  Finish. NOTE. A reboot is required before start using the CIT components already installed. 5.0 Host Attestation 5.1 Overview Host Trust Attestation is the process of comparing known-good measurements against boot-time measurements to detect deviations in protected components. This always includes at a minimum attestation of the BIOS, SINIT ACM, and the OS kernel. Intel Figure 5. Attestation Server Setup, Configuration, and Usage Steps 5.2 Extending Host Attestation Customized non-virtualized server Trust Policies are represented by an XML file, located on the host itself (by default in /boot/trust/ ). The Trust Policy includes a list of files and directories; when the host boots, a Trust Agent component measures each of these files and directories and extends the measurement into PCR 19. Important: Extended attestation using Trust Policies is currently supported only on Linux systems using the Intel Trust Policies are generated using the Trust Director. Once created, the Trust Policy can be copied to one or more physical servers where identical files are attested. Once the server has been booted using the Trust Policy, the PCR 19 measurement can be compared against a known-good measurement by the Attestation Service. Host Trust Policies can be created on an individual per-server basis (which good-known measurements imported to the Attestation Service for each), or one Host Trust Policy can be copied to many servers and attested by the Attestation Service using only one set of good-known values. Important: Once the Host Trust Policy is configured and imported for attestation, any change to a measured file or folder is detected on the next attestation after a server reboot. Do not select files for attestation that will change between reboots.\nFor physical servers running the Trust Agent and using a non-virtualized server Trust Policy, a hypervisor is no longer required for trust attestation. For example, a physical database server can be attested using a Trust Policy to measure the static database libraries, executables, and configuration files at system launch, even though the server does not have a hypervisor installed and can run no virtual machines. Extending host attestation through non-virtualized Trust Policies is currently supported only for non-virtualized servers running the Trust Agent on Ubuntu 16.04 or Red Hat Enterprise Linux 7. See Section 4.6, . For instruction on creating Trust Policies, refer to Section 8.8, . For VMware ESXi or Citrix Xen servers, 5.3 Required Components Following are the required components: Attestation Service must be installed and active. Trust Agent must be installed on at least one non-virtualized server. (Optional, required for custom Trust Policies only) Trust Director must be installed and active. 5.4 Importing Whitelist Values To provide trust attestations, a set of good-known measurements must be established as the basis for comparison. The Attestation Server allows measurements to be imported from an existing server (manual definition of good-known values is also possible, but not recommended). Whitelist values consist of two logical groups of measurements, called Measured Launch Environments (MLEs). One MLE contains the platform-specific measurements and is referred to as the Whitelist values are specific to the precise version and configuration of the files on the server from which they are imported. This means the BIOS version 1.1 (for example) has a different measurement from BIOS version 1.2, and OS kernel 3.13.0-24-generic has a different measurement from OS kernel 3.13.0-30-generic. If a measured file is updated from one version to another, the measurement changes, and this results in an untrusted attestation after the server is rebooted. Each type of MLE can be applied to one or many servers. For example, if a sample data center uses only one type of server using identical BIOS, OS, hypervisor, and other measured components, only one BIOS and one VMM MLE is required to attest all servers in the data center. Alternatively, a new BIOS and VMM MLE can be created for each individual host. A new BIOS MLE is required whenever a new BIOS version is installed. Likewise, a new VMM MLE is required any time one of the components measured by the VMM MLE is updated (including at least the OS kernel, tboot, and the hypervisor, but also including any additional components measured by the Host Trust Policy). Important: Before importing MLE values, be sure that the Host Trust Policy has been created and the server rebooted afterward. If this step is completed out of order, the MLE values in the Attestation Server will mismatch the host on the host's next reboot, when the Host Trust Policy measurements are taken and extended to PCR 19. To import whitelist MLEs from an existing server: Browse to the Attestation Server URL, log on, and select to Whitelist Import from Trusted Host . The Import Whitelist from Trusted Host screen displays. Select the Host Type (Linux, Linux KVM, Citrix XenServer, VMware ESXi, Windows or Xen). For Docker containers, use the Linux KVM from the drop down list. Note: For Trust Agent hosts, an additional field is available to specify the Trust Agent authentication credentials. This field is only required if the Trust Agent credentials were NOT pre-registered with the Attestation Service during installation. By default, the credentials are pre-registered and so the Attestation Service already knows which credentials to use. Select the MLEs to import (BIOS, VMM, or both), and to what servers they will apply: Servers of any OEM (Global) Servers of a single OEM (OEM) Only one server (Host). Note: The Host Trust Policy (if used) measurements are always extended to PCR 19 in the VMM MLE (Optional) Select the TPM PCRs that will be used to define the good-known measurements (for details on different PCRs, refer to Section 8.0 ).  If no selections are made, default PCRs for the chosen host type will automatically be used (Recommended). Input the connectivity details for the server from which the measurements will be imported (for Trust Agent hosts, this includes the IP/Hostname and the port number for the Trust Agent (1443 by default); for VMware ESXi servers, this includes the host IP/hostname, vCenter Server IP/ hostname, and credentials for a vCenter Server user with the Select a TLS Policy to use (for more information on TLS Policies, refer to Section 8.4 ). Select whether to register the server after importing the measurements. Select whether to overwrite existing whitelist measurements, if measurements already exist for the same components/versions being imported. Click Import Whitelist . The current measurements for the specified server are imported and stored in the database for future attestations. 5.5\tHost Registration In order to perform a trust attestation for a given server, that server must be registered in the Attestation Server database. Registration includes defining the type of host, establishing connectivity details, and configuring which whitelist values (both a BIOS MLE and a VMM MLE) to be used for attestation. If whitelist values are being imported from a server, the same server can be registered at the same time (see Section 5.4, ). This is particularly useful if a separate BIOS and VMM MLE will be created for each server. Existing hosts can be deleted or modified (for example, different MLEs can be selected for attestation) under the Host Management tab on the Attestation Service web portal. 5.5.1 Registering Multiple Hosts Using a Flat File One or more servers can be registered with the Attestation Server in bulk using a text file, as long as there is an existing BIOS and VMM MLE appropriate for all necessary BIOS and OS versions already imported.\nTo register servers using a text file (flat file): Browse to the Attestation Server URL and select Host Management Import The Host Registration page displays: Create a plain-text file listing the servers to be registered using the following format for each host. Note: The Trust Agent connection string with username and password is only required if the Trust Agent password has not been pre-registered with the Attestation Service at the time of Trust Agent installation. For Linux Trust Agent servers: intel|host_name|host_port_no\ne.g. intel|myTrustAgent|https://MyTrustAgent:1443\nOR intel|myTrustAgent|https://MyTrustAgent:1443/;username;password\n\nFor Windows Trust Agent servers: microsoft|host_name|host_port_no\ne.g. microsoft |myTrustAgent|https://MyTrustAgent:1443\nOR microsoft |myTrustAgent|https://MyTrustAgent:1443/;username;password\n\nFor VMware ESXi hosts: vmware|Host_Name|Vmware_Connection_String*\ne.g.       vmware|myVmwareHost|https://myVcenterServer.mydomain.com:443/sdk;Administrator;Password\nFor Citrix XenServer Hosts citrix|Host_Name|Citrix_Connection_String*\ne.g.     citrix|myCitrixHost|https://192.168.1.1:443/;Administrator;Password Note: The connection string must be a valid URL. The Select the text file defining the host(s) to be registered using the Choose File button. Select a TLS Policy to use for all hosts in the text file Note: If multiple hosts will be registered, a shared TLS Policy applicable to all hosts must be used. For details on TLS Policies, refer to Section 8.4 . Click Retrieve Hosts to assemble the list of hosts to be registered from the provided flat file. For each host, select which applicability type of BIOS and VMM MLE (Global, OEM, Host) and whether to register the server. Click Register Host to register all selected servers. 5.5.2 Registering a Host Individually The Add Host tool allows hosts to be registered individually, and provides more detailed control over the MLEs used for attestation. While the Import tool automatically detects the BIOS and OS-VMM versions, the manual registration tool allows any BIOS and VMM MLE (within limits; attempting to register a vCenter host using a Trust Agent VMM MLE does not work simply because the vCenter connection details are missing) to be used to attest the host. Be aware that selecting a mismatched MLE results in the host appearing as untrusted when attested. Intel generally advises using the automated Import tool for host registration. On the Host Management tab, select Add Host . In the Host Name field, Enter the hostname or IP Address for the host to be registered. Select the OEM vendor from the OEM Vendor drop-down list. Select the appropriate BIOS version from the BIOS Info drop-down list. This is the BIOS MLE, and is populated according to the OEM Vendor selected. Select the OS-VMM combination from the OS-VMM Info list. This is the VMM MLE. Enter connection details. For vCenter, enter the hostname or IP Address of the vCenter server that manages the host, and credentials for a vCenter user with the For Citrix Xen enter the port number (Citrix Xen uses port 443 by default) and the administrative credentials for the host. For Trust Agent hosts (including Linus and Windows), simply enter the port number for the Trust Agent (the default is 1443). If the Trust Agent username and password were not pre-registered with the Attestation Service when the Trust Agent was installed, provide the Trust Agent credentials as well. The correct fields appear when the appropriate OS-VMM MLE is selected. Select a TLS Policy for use with this host (either a new host-specific policy, or an existing shared policy. For details on TLS policies, refer to Section 8.4.1 . Click Add Host to register the host. 5.6 Host Attestation The Attestation Server now features an automated background process that regularly checks for attestations that are nearing their expiration (by default attestations are considered valid for 90 minutes). When a given attestation is within five minutes of expiring, the Attestation Server initiates a new trust attestation for the attested server (retrieving a fresh quote from the server to be attested and attesting the values in the quote against the expected values in the whitelist). Attestations may be manually refreshed using the Refresh All button, or the refresh icon next to each host on the Trust Dashboard. The current (most recent) trust attestation for registered servers can be seen on the Attestation Service portal in the Trust Dashboard: Figure 6. Trust Dashboard On the OpenStack Controller, the current trust attestation for all hypervisors can also be seen on the Figure 7. Hypervisors Page An attestation of An 5.6.1 Remediation of Untrusted Attestations If a server attests as Trust Report button on the Trust Dashboard shows the detailed report.  A mismatched module or PCR measurement will be colored red.  However, extra or missing modules (modules present in the actual measurement but absent from the expected whitelist, or modules missing from the actual measurement and expected in the whitelist) will not be colored red, and will instead show a missing value in either the Figure 8. Trust Report This report shows all of the PCRs measured when the server last booted, along with the whitelist value expected. See the Appendix for details on PCR definitions. PCR 19 contains the tbootxm module shows all of the files measured for that host's Trust Policy. Any mismatches appear in red; these are the cause(s) of an For example, if an application configuration file is measured as part of the Host Trust Policy, and this file was changed between reboots, PCR19 (and therefore the entire host) become untrusted. Expanding the tbootxm module in PCR19 to view the measurements shows that the configuration file that changed is colored red and no longer matches its expected value, and is the cause of the untrusted status. If this is the result of a normal, authorized configuration change, the VMM MLE (which includes PCR19 and all modules) can be re-imported and overwritten with the new, current value. This causes the host to become If this is not the result of an authorized change, the incident can be flagged for a security response. 6.0 Image Integrity (VM and Docker) This section describes utilizing the Trust Director to establish a Trust Policy for a virtual machine or Docker container image, allowing that image to be attested to detect any changes in secured configurations. Image attestations can be set the following: Hash Only Hash and Enforce If the host of an instance becomes untrusted itself (typically this means the host was tampered with and then rebooted, and the instance is powered back on after the host boots), the instance appears untrusted as well, regardless of whether the instance files have changed. 6.1 Required Components The following prerequisites are required for the Image Integrity use case: OpenStack Controller with Intel Attestation Service must be installed and active. Attestation Reporting Hub must be installed and active Linux Trust Agent with Image Integrity must be installed on at least one OpenStack Compute Node. Linux Trust Agent Compute Nodes must be registered with the Attestation Service Compute nodes must be assigned to the appropriate tenant in the Attestation Reporting Hub to push attestation details for those hosts to the appropriate OpenStack controller To maintain the Chain of Trust, Trust Agent Compute Nodes must use a Host Trust Policy including the measurement components of the Trust Agent. These files are automatically selected by the Trust Director when creating Trust Policies for non-virtualized servers. Note: Only Linux KVM and Linux Docker hosts are currently supported for the Image Integrity use case. 6.2 Creating the Image Trust Policy (VM and Docker container) To create the Trust Policy, the virtual machine image is mounted using the Trust Director application. The file structure of the image is exposed in a UI menu, allowing folders and sub-folders to be selected. Each selected folder/file is measured, and the measurements stored as part of the Trust Policy. Once selection is complete, the Trust Policy is digitally signed by both the Trust Director and the Attestation Service to prevent tampering. The Trust Policy is uploaded to OpenStack Glance along with the image. It is extremely important that only static files/folders be selected as part of the Image Trust Policy. When attested during launch, instances of images protected with an Image Trust Policy attest as Section 8.8 . 6.3 Hash Only If the Hash Only option is selected during Trust Policy creation, all instances of the image are attested as they are booted. Attestation occurs only at the time the instance is powered on from a powered-off state, and the attestation results are stored for later queries from the Attestation Service (accessible via API). 6.4\tHash and Enforce If the Hash and Enforce option is selected during Trust Policy creation, instances of the protected image are attested during boot as with the Hash Only option, but if the instance attests as 6.5 VM Migrations Virtual Machine migrations (moving an instance from one compute node to another) are not currently supported for Image Integrity or Image Privacy. 6.6 VM Snapshots Virtual Machine snapshots are not currently supported for Image Integrity or Image Privacy. 6.7 Shared Storage Shared storage is not currently supported for Image Integrity or Image Privacy. 6.8 VM and Docker Attestation Each protected virtual machine image (an image with an associated Trust Policy) is attested each time it boots. The following table details when virtual machines are attested against the Image Trust Policy: Table 1. Virtual Machine Attestation Action New Instance Trust Attestation Launch from Image Yes Pause/Resume Instance No Suspend/Resume Instance Yes Soft Reboot Instance No Hard Reboot Instance Yes Shut Off/Start Instance Yes Table 2. Docker Attestation Action New Instance Trust Attestation Launch from Image Yes Pause/Resume Instance No Suspend/Resume Instance Yes Soft Reboot Instance No Hard Reboot Instance Yes Shut Off/Start Instance Yes To view the attestation result, an administrator can query the Attestation Service for the trust status of a given instance by its Instance ID in Glance and the host running the instance. This information can also be seen on the OpenStack dashboard in the Instances tab, which performs this query each time a new measurement is taken. Figure 9. OpenStack Dashboard Instances Tab The first icon refers to the hypervisor platform trust status, the second refers to the Asset Tag policy status, and the third refers to the VM attestation status. In each case: Red = Trust or Asset Tags are requires, but the hypervisor is not in compliance (wrong tags, untrusted, etc) Green = Trust or Asset Tags are required, and the hypervisor is in compliance Gray = No measurement available, or no policy applied When rebooting an instance or otherwise triggering a new measurement, the VM trust status icon switches to gray until the new attestation quote has been generated. Refreshing the page updates the icons. Note: If the compute node hosting an instance becomes untrusted (such as a reboot after an attacker compromises a measured file), the instance trust status shows a red untrusted icon as well. This is because the trust attestation of an instance cannot be trusted if the host performing the attestation is itself untrusted. 6.9 Workflow Example #1 To configure a new VM image for Image Integrity: Browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Select Images Add Images to Trust Director . Select the appropriate Image Type and Format for your image. Image Type should be Virtualized Server and click Next . Select the image to be uploaded, and click Upload . The image is uploaded to the Trust Director. Select Trust Policy from the top bar, then click the Virtualized Server tab to see a list of all images that have been uploaded to the Trust Director. To create a new Trust Policy for an image, click the (+) button in the Trust Policy field. Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or Hash and Enforce launch control policy, and whether the image is encrypted. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. If the encryption option was selected, the image is encrypted using a key from the KMS key broker. Set a name for the image (this is the name that appears in OpenStack), and select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. Open a browser window to the OpenStack Horizon dashboard. Select Admin , then Images . Click Edit next to the image uploaded by the Trust Director. The Update Image screen allows the image to be configured to use the Trust and Asset Tag scheduler filters. Note: The Asset Tag dropdowns will only contain the list of key/value options representing tags that have actually been pushed to hosts assigned to this OpenStack environment in the Attestation Reporting Hub. Select Trust only to require the OpenStack scheduler to only place instances of the image on hosts attested as Trust and Location to require a trusted attestation as well as specific Asset Tag key/value pairs. When Trust and Location is selected, the screen displays a drop-down of tag keys with a second drop-down for all possible values for that tag key. Use the drop-downs to select tags, and use the + button to add additional tag requirements. Instances of this image are only launched or migrated by the OpenStack scheduler to hosts matching the Trust Attestation and Asset Tag requirements. From the OpenStack Horizon Dashboard, browse to Project and select Images . Click Launch to launch an instance of the image. Provide an Instance Name and other details as normal. The OpenStack scheduler selects a host for the instance based on the filter requirement. After the instance files are copied but before the instance is powered on, the Trust Agent examines the files in the instance and compares them against the Trust Policy for the image. If the attestation for the instance is successful, the instance is powered on. If the attestation fails (some file in the Trust Policy is different on the instance when compared to the Trust Policy for the source image), images where Hash and Enforce was selected during Trust Policy creation are halted and unable to launch. If Hash Only was selected for the Trust Policy, the instance launches, but still shows its Instances page in OpenStack Horizon. After the image instance is launched, go to the Project tab and click Instances . All instances display the attestation status of the host they are running on, the attestation of the Asset Tags for the host they are running on, and the attestation for the instance itself. 6.10\tWorkflow Example #2 Before creating a Trust Policy for a Docker Container, a Docker image must be uploaded to the Trust Director or downloaded from the Docker Hub. Note: At least one External Storage endpoint must be configured before uploading the image and trust policy to OpenStack Glance. Refer to Section 4.5.6 to setup and configure an External Storage. To configure a new Docker image for Image Integrity: Browse to the Trust Director portal ( https:// TrustDirectorIp_Or_Hostname ) and log on.\nSelect Trust Policy Docker . The Docker Trust policy page lists the existing Docker container images in a table. To create a new Trust Policy for an image, click the (+) button in the Trust Policy field. The repo and tag name is retained for the Docker container image. Select whether this image uses the Hash Only or Hash and Enforce launch control policy. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. Select the type of Artifact you want to upload to OpenStack Glance. The Docker Image will only the image and excludes the Trust policy. This is similar to uploading a Docker container image directly to Glance. Choosing the Docker Image With Policy instructs the Trust director to upload the Docker container image with the Trust Policy as a tarball to OpenStack Glance. Select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. Select the appropriate external image storage service for the image (ex. OpenStack Glance). Once Trust Policy has been uploaded, the status of the upload can be displayed by clicking on the first icon in the Image store upload. See the sample screenshot below Queued In Progress Complete Open a browser window to the OpenStack Horizon dashboard. Select Admin , then Images . Click Edit next to the image uploaded by the Trust Director. The Update Image screen allows the image to be configured to use the Trust and Asset Tag scheduler filters. Select Trust only to require the OpenStack scheduler to only place instances of the image on hosts attested as Trust and Location to require a trusted attestation as well as specific Asset Tag key/value pairs. When Trust and Location is selected, the screen displays a drop-down of tag keys with a second drop-down for all possible values for that tag key. Use the drop-downs to select tags, and use the + button to add additional tag requirements. Instances of this image are only launched or migrated by the OpenStack scheduler to hosts matching the Trust Attestation and Asset Tag requirements. From the OpenStack Horizon Dashboard, browse to Project and select Images . Click Launch to launch an instance of the image. Provide an Instance Name and other details as normal. The OpenStack scheduler selects a host for the instance based on the filter requirement. After the instance files are copied but before the instance is powered on, the Trust Agent examines the files in the instance and compares them against the Trust Policy for the image. If the attestation for the instance is successful, the instance is powered on. If the attestation fails (some file in the Trust Policy is different on the instance when compared to the Trust Policy for the source image), images where Hash and Enforce was selected during Trust Policy creation are halted and unable to launch. If Hash Only was selected for the Trust Policy, the instance launches, but still shows its Instances page in OpenStack Horizon. After the image instance is launched, go to the Project tab and click Instances . All instances display the attestation status of the host they are running on, the attestation of the Asset Tags for the host they are running on, and the attestation for the instance itself. 7.0 Image Privacy This section describes utilizing the Trust Director and Key Management Service to encrypt virtual machine images before they are uploaded to the Cloud. By encrypting the entire VM, unauthorized access to sensitive workloads and data can be prevented. The decryption key is retained by the Key Management Service (KMS), meaning the owner of the KMS (and not the Cloud Service Provider) has ultimate control over whether an instance of the protected image will launch. Decryption permission is tied to the trust attestation of the host requesting the key, and cryptographically secured to the physical Trusted Platform Module of the server, meaning the image may only be decrypted and launched on a host meeting trust requirements with a valid attestation from the Attestation Service. 7.1 Required Components The following prerequisites are required for the Image Privacy use case: OpenStack Controller with Intel Attestation Service must be installed and active. Attestation Reporting Hub must be installed and active Key Management Service must be installed and active. KMS Proxy must be installed and active. Linux Trust Agent with Image Privacy and Image Integrity must be installed on at least one OpenStack Compute Node. Trust Agent Compute Nodes must be registered with the Attestation Service Compute nodes must be assigned to the appropriate tenant in the Attestation Reporting Hub to push attestation details for those hosts to the appropriate OpenStack controller To maintain the Chain of Trust, Trust Agent Compute Nodes must use a Host Trust Policy including the measurement components of the Trust Agent. These files are automatically added to\nnon-virtualized server Trust Policies by the Trust Director. Note: Only Linux KVM hosts are currently supported for the Image Privacy use case. 7.2 VM Migrations Virtual Machine migrations (moving an instance from one compute node to another) are not currently supported for Image Integrity or Image Privacy. 7.3 VM Snapshots Virtual Machine snapshots are not currently supported for Image Integrity or Image Privacy. 7.4 Shared Storage Shared storage is not currently supported for Image Integrity or Image Privacy. 7.5 Encrypting an Image Image encryption is handled by the Trust Director application. The Trust Director accepts an existing virtual machine image in one of several formats (qcow2, raw, vhd, ami). When an image is selected for encryption, the Trust Director requests a new key from the Key Management Service and uses it to encrypt the image. The resulting encrypted image includes metadata that points back to the Key Management Service that issued the key; at no point is the decryption key provided to or shared with the Cloud Service Provider. The Trust Director is capable of uploading the encrypted image directly into OpenStack Glance if access is available, or the image can be uploaded manually through the process supported by your Cloud Service Provider. 7.6 Launching an Instance of an Encrypted Image When an instance of an encrypted image is launched, the host detects that the image is encrypted. The host sends a request to the KMS Proxy, including the public Attestation Identity Key (AIK) bound to its TPM, as well as the URL for the KMS that manages the decryption key. The KMS Proxy retrieves an attestation for the host from the Attestation Service (using the AIK as the host identity) and forwards the request, along with the full SAML trust attestation, to the KMS. The KMS verifies the signatures and the trust attestation. If the verification passes, the KMS binds the image decryption key to the host AIK (which was included in the host attestation) and sends the wrapped key back to the KMS Proxy. The KMS Proxy returns the wrapped key to the host, which uses its TPM to unwrap the decryption key, allowing image to be decrypted. Because the image decryption key is cryptographically bound to the physical TPM of a host that passes an attestation check, the instance is only launched on a trusted host. Note: A key is requested by the host only the first time an instance of a given image is launched on that host, and then again when the host is rebooted.  The wrapped key is stored in memory to mount the encrypted image mount point, meaning the host must request the key again after a reboot to remount the encrypted file system.  If the host is untrusted after a reboot, the key will be denied and any encrypted instances will remain inaccessible.  If the host returns to a trusted state in a subsequent reboot, the key will be provided and instances will become available again. 7.6.1 VM Encryption for Microsoft Windows Compute Nodes VM encryption for Windows compute nodes works largely the same as for Linux compute nodes; however, there are a few key differences. Images in the Trust Director are still encrypted with individual encryption keys, and no workflow changes are needed on the Trust Director.\nAs with Linux nodes, a Windows host making a key request will still an attestation through the KMS Proxy, and the KMS will analyze the attestation report and only provide keys to a Trusted host.  The image key is wrapped using a TPM-specific Binding Key. However, while on Linux each base image will reside in its own dedicated encrypted virtual volume, Windows uses a single BitLocker volume to store all images.  This means that, for Windows hosts, VM images are encrypted using the same BitLocker key in a single volume.  When a Windows host is rebooted, it does not make a new key request to the KMS; instead, BitLocker unlocks the volume without contacting the KMS, regardless of the current trust status of the host.  BitLocker keeps the images encrypted on disk; the major differences between the Windows and Linux functionality are the use of a single key for all images in Windows as opposed to unique keys for individual images in Linux, and that BitLocker will unlock the volume on host reboot without a new trust attestation, while Linux hosts will request keys for each unique base image each time the Linux host reboots, with a new trust attestation required before keys are granted. 7.7 Workflow Example for a Virtual Machine To configure a new VM Image for Image Privacy: Browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Select Images Upload Images to Trust Director . Select the appropriate Image Format for the image, and click Next . Select the image to be uploaded, and click Upload . The image is uploaded to the Trust Director. Select Trust Policy from the top bar, then click the Virtualized Server tab to see a list of all images that have been uploaded to the Trust Director. To create a new Trust Policy for an image, click the ( + ) button in the Trust Policy field. Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or Hash and Enforce launch control policy Select Encrypt Image to encrypt the image. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations; be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. If the encryption option was selected, the image is encrypted using a key from the KMS key broker. Set a name for the image (this is the name that appears in OpenStack), and select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. Open a browser window to the OpenStack Horizon dashboard. Select Admin , then Images . Click Edit next to the image uploaded by the Trust Director. The Update Image screen allows the image to be configured to use the Trust and Asset Tag scheduler filters. Select Trust only to require the OpenStack scheduler to only place instances of the image on hosts attested as Trust and Location to require a trusted attestation as well as specific Asset Tag key/value pairs. When Trust and Location is selected, the screen displays a drop-down of tag keys with a second drop-down for all possible values for that tag key. Use the drop-downs to select tags, and use the + button to add additional tag requirements. Instances of this image are only launched or migrated by the OpenStack scheduler to hosts matching the Trust Attestation and Asset Tag requirements. From the OpenStack Horizon Dashboard, browse to Project and select Images . Click Launch to launch an instance of the image. Provide an Instance Name and other details as normal. The OpenStack scheduler selects a host for the instance based on the filter requirement. After the image has been downloaded to the host, the Trust Agent verifies the signature on the Trust Policy, and detect whether the image is encrypted. If the image is encrypted, the host sends a request for the decryption key to the KMS, which also triggers a trust attestation for the host. If the KMS determines that the attestation meets the image's policy requirements, it binds the key to the TPM of the host that was attested, and sends the wrapped key back to the host, where the image is decrypted. After decryption, but before the instance is powered on, the Trust Agent examines the files in the instance and compares them against the Trust Policy for the image. If the attestation for the instance is successful, the instance is powered on. If the attestation fails (some file in the Trust Policy is different on the instance when compared to the Trust Policy for the source image), images where Hash and Enforce was selected during Trust Policy creation are halted and unable to launch. If Hash Only was selected for the Trust Policy, the instance launches, but still shows its Instances page in OpenStack Horizon. After the image instance is launched, go to the Project tab and click Instances . All instances display the attestation status of the host they are running on, the attestation of the Asset Tags for the host they are running on, and the attestation for the instance itself. 8.0 PCR Definitions 8.1 TPM 1.2 PCR Measurement Parameters Description Operating System PCR 0 BIOS ROM and Flash Image This PCR is based solely on the BIOS version, and remains identical across all hosts using the same BIOS. This PCR is used as the BIOS MLE (PCRs 1-5 can also be used in a BIOS MLE, but this is not recommended). PCR 12 Data events and highly volatile events This PCR measures some of the modules which has boot counters in it. It changes on every boot and resume (Microsoft Windows ONLY; do not use for attestation as the values change on reboot) PCR 13 Boot Module Details This PCR remains static except major changes such as kernel module update, different device driver for different OEM servers, etc. (Microsoft Windows ONLY) PCR 14 Boot Authorities Used to record the Public keys of authorities that sign OS components. Expected not to change often. (Microsoft Windows ONLY) PCR 17 ACM This PCR measures the SINIT ACM, and is hardware platform-specific. This PCR is part of the BIOS MLE. PCR 18 MLE [Tboot +VMM] This PCR measures the tboot and hypervisor version. In ESXi hosts, only the tboot version is measured. PCR 19 OS Specific For ESXi and Trust Agent hosts, this PCR contains individual measurements of all of the non-Kernel modules. For Citrix Xen hosts, this PCR is a measurement of the OS, InitRD, and UUID. PCR 20 For ESXi only.,VM Kernel and VMK Boot This PCR is used only by ESXi hosts and is blank for all other host types. 8.2 TPM 2.0 PCR Measurement Parameters Description Operating System PCR 0 BIOS ROM and Flash Image This PCR is based solely on the BIOS version, and remains identical across all hosts using the same BIOS. This PCR is used as the BIOS MLE (PCRs 1-5 can also be used in a BIOS MLE, but this is not recommended). PCR 12 Data events and highly volatile events This PCR measures some of the modules which has boot counters in it. It changes on every boot and resume (Microsoft Windows ONLY) PCR 13 Boot Module Details This PCR remains static except major changes such as kernel module update, different device driver for different OEM servers, etc. (Microsoft Windows ONLY) PCR 14 Boot Authorities Used to record the Public keys of authorities that sign OS components. Expected not to change often. (Microsoft Windows ONLY) PCR 17 Details BIOS AC registration info Digest of Processor S-CRTM Digest of Policycontrol  Digest of all matching elements used by the policy Digest of STM Digest of Capability field of OsSinitData Digest of MLE PCR 18 Authorities Digest of public key modulus used to verify SINIT signature Digest of Processor S-CRTM Digest of Capability field of OSSinitData table Digest of PolicyControl field of used policy Digest of LCP PCR 19 OS Specific For TA hosts, this PCR is a measurement of the OS, InitRD, and UUID. This changes with every install due to InitRD and UUID change. For hosts with non-virtualized Trust Policies, the measurements defined in the Trust Policy will appear as sub-modules inside of the 8.3 MLE Administration Mt. Wilson automatically generates MLE names based on their classification as VMM or BIOLS MLEs, the specific type of MLE (Global, OEM, or Host), and details captured from the host during the import.\nThese values include the server platform (Romley, Thurley, etc), the name and version numbers of the OEM, OS, BIOS, and hypervisor as appropriate. For example, IBM_Thurley_VMware_ESXi_5.1.0-799733 is an OEM-level VMM MLE imported from an IBM Thurley server running ESXi version 5.1.0 build 799733. This VMM MLE can be used to attest the OS/hypervisor component of any IBM Thurley-based server running ESXi 5.1.0 build 799733, but cannot be used to attest an HP or Dell host, or any host running a different version of ESXi or a different hypervisor. Typically, only a single MLE is needed for a given platform and hypervisor or BIOS version. However, there are some use cases where different modules are present in a VMM MLE even though the version remains the same. For example, using the Cisco Nexus 1000 virtual switch adds several module entries for a VMware ESXi host, and yet the version and build number for ESXi does not change. If only some hosts in your data center are using the Cisco Nexus 1000, you would need two separate VMM MLEs to attest those hosts with and without the additional modules. Otherwise, one set of hosts attest as untrusted depending on whether the host used to import the MLE was configured to use the virtual switch. Hosts attest as untrusted if: They contain one or more modules that do not exist in the whitelist MLE. They do not contain one or more modules that do exist in the whitelist MLE. Any hash values for PCRs or modules for the host do not match those values in the MLE. Non-virtualized server Trust Policies effectively extend the VMM MLE by adding the Trust Policy measurements as modules extended to PCR 19. This means that hosts sharing a VMM MLE must also share the same Host Trust Policy, if any. If the Host Trust Policy measurements differ between two hosts, two VMM MLEs are required even if the hosts are using the same OS/hypervisor versions.\nSimilarly, the boot loader configuration file (typically in /boot/grub/grub.cfg ) is measured and extended to PCR18.  If there is a difference in the grub.cfg file between two hosts, they will have different resulting PCR 18 measurements. Note: This is particularly relevant when using LVM volumes; the grub typically contains a line defining the LVN name, and default OS installations typically incorporate the hostname into the LVM name (meaning every host would have a different entry, and thus a different grub.cfg and PCR18 measurement).  The same LVM configuration can be used across all similar hosts to prevent this difference.  Otherwise, host-specific VMM MLEs will be needed to ensure all hosts are Trusted. When importing a new MLE when an existing MLE of the same version info already exists in the database, the Attestation Service automatically checks to see whether any PCRs or modules have changed; if they have, the default behavior is to add a new MLE without overwriting the original, with a numerical tag at the end of the name (001, 002, etc). This can be overridden in the UI by selecting the Overwrite option on the Import Whitelist MLE page. This causes the Attestation Service to overwrite the existing MLE regardless of whether any PCRs or modules have changed. Only the MLE of the selected type (VMM or BIOS, and Global, OEM, or Host) and identical versions are overwritten. In the case of an environment upgrade (for example, upgrading from one ESXi version to another), it is important to import the new whitelist MLE value first, before upgrading the rest of the environment.\nAfter importing the new, updated MLEs, perform the production upgrade and then re-register the hosts. By re-registering the hosts, they are automatically assigned to the correct, updated MLEs. 8.4 TLS Policy Overview The Intel 8.4.1 TLS Policy Types The Intel Policy Type Behavior Shared Per-Host Certificate The certificate policy requires one or more trusted certificates or CA certificates and only connects to a peer whose certificate either is a trusted certificate or is signed by a CA that is trusted. This policy type also performs hostname verification. Note: The remote server's hostname must be resolvable from the Mt. Wilson server). Yes Yes Certificate Fingerprint This policy stores the SHA256 hash of the certificate for validation rather than the entire certificate itself. Yes Yes Public Key The public key policy requires one public key parameter and only connects to a peer using that key. This is similar to SSH public key authentication of clients and hosts. Hostname verification is NOT performed when using Public Key TLS policies. Yes Yes Public Key Fingerprint This policy stores the SHA256 hash of the public key for validation rather than the public key itself. Yes Yes TRUST_FIRST_CERTIFICATE This policy stores the first certificate encountered when connecting to a host, and uses that certificate for all future TLS validation with that host. This was the default TLS policy used in Mt. Wilson 1.x, and is disabled by default. Yes No INSECURE This policy disables all TLS validation. All connections are accepted regardless of TLS certificates. This is disabled by default. Yes No 8.4.2 Policy Scope TLS policies can be per-host or shared across multiple hosts. Per-Host Shared The Attestation Service requires a TLS policy to be defined for any remote host to which it connects. If no TLS policy is defined, or if the TLS information does not match the TLS policy, the connection fails. 8.4.3 Default Policy Selection Any shared-scope policy can be defined as the In the Attestation Service UI, this mostly means that the default policy is automatically selected from the drop-down when registering hosts. From an API perspective, it means that, when calling a registration API, if no TLS policy is specifically defined in the call, the default TLS policy is used. Using a shared default policy that is valid across all hosts in the attestation environment can greatly simplify TLS policy and host management. Note: During installation, the only two shared-scope policies that might be available are TRUST_FIRST_CERTIFICATE and INSECURE, and these only if they have actually been enabled. All other policies must be user-created after installation.\nTo define a default TLS policy, edit the mtwilson.properties file and set the value of mtwilson.default.tls.policy.id to either the UUID or the name of the shared-scope TLS policy to be set as the default. Restart Mt. Wilson to affect the change. 8.4.4 Legacy Behavior In the 1.x releases of the Attestation Service, only two policies were available to validate the TLS certificates of remote hosts: TRUST_FIRST_CERTIFICATE INSECURE To configure the Attestation Service to use the same TLS policy behavior as was used in the 1.x Attestation Service, configure the mtwilson.properties file with the following settings: mtwilson.tls.policy.allow=TRUST_FIRST_CERTIFICATE \nmtwilson.default.tls.policy.id=TRUST_FIRST_CERTIFICATE This can be done automatically during installation by setting the following variables in mtwilson.env : export MTW_TLS_POLICY_ALLOW= TRUST_FIRST_CERTIFICATE \nexport MTW_DEFAULT_TLS_POLICY_ID=TRUST_FIRST_CERTIFICATE 8.5 Asset Tags The Attestation Service securely writes Administrator-defined descriptors to TPM hardware. These values can be provisioned, validated, and made visible in the data center by using the Intel This section details the requirements, components, and procedures for deploying Asset Tags. It is targeted toward Systems Engineers who are proficient with Linux administration, PXE and related technologies, and the Citrix Xen and/or VMware ESXi hypervisors. 8.5.1 Prerequisites Following are the prerequisites: An instance of the Intel One or more hosts with Intel (Linux servers only) Intel (Optional; required for 8.5.2 Asset Tag Provisioning Workflow Figure 10. Asset Tag Provisioning Workflow 8.5.3 Asset Tag Provisioning Modes Asset Tags can be provisioned to assets either by 8.5.4 Tags and Selections Tags and Selections represent the core function of the Asset Tag service. A Tag is an arbitrary classification name with one or more potential values. For example, a Tag named State: California; Department: Accounting Creating a Tag involves creating a name for the Tag and its potential values. Open a browser window and point it to the Attestation Service URL. Click on the Asset Tag Management tab, and select Tag Creation . The Create New Tag page opens: Enter a name for the new tag in the Tag Name field. Enter a value for the tag in the Tag Value field and click Save . Repeat Step 3 to add any additional appropriate potential values for the new Tag. When all desired potential values for the Tag have been created, click the Save button to save the Tag. After Tags have been created, they can be searched using the Search Tags function. To list all Tags and their potential values, simply leave all of the fields blank and click the Search button. Creating a Tag Selection consists of naming the Selection, and adding a set of one or more Tags with appropriate values as name/value pairs. Open a browser window and point it to the Attestation Service URL. Click on the Asset Tag Management tab, and select Tag Creation . The Tag Selection page opens: Enter a name for your selection in the Name field. (Optional) Add a Description for your selection. To add Tags to the Selection, select a Tag from the drop-down on the left, select a value for the Tag from the drop-down on the right, and click the Add button. Repeat Step 4 until all desired tags have been added to the Selection. Click the Save button to save the Selection. After Selections have been created, they can be searched using the Search Selections function. To list all Selections, simply leave all of the fields blank and click the Search button. 8.5.5 Asset Tag Provisioning There are two methods supported for provisioning Asset Tags to assets. Push method Pull method Note: Currently, the push method is only supported for Citrix Xen Server with the Xen Server Measured Boot supplemental pack installed, and Trust Agent hosts. The pull method is supported for Citrix Xen, VMware ESXi, and KVM. 8.5.5.1 Push Provisioning The push method for Asset Tag provisioning is initiated by the Attestation Service; the administrator creates a new Asset Certificate and provisions the certificate to a provisioning agent running on the asset. Note: Because the asset must have a provisioning agent running to write the Asset Certificate to the TPM, only Citrix Xen hosts with the Xen Server Measured Boot supplemental pack installed, or open-source Xen or KVM hosts with the Intel Prerequisites: One or more Citrix Xen or Trust Agent hosts registered in the Attestation Service. Appropriate Asset Tags and Asset Selections to provision to the host(s) must have been created. Procedure: Open a browser window and point it to the Attestation Service URL. Click on the Asset Tag Management tab and select Provision Tags . The Asset Tag Provisioning page opens: Double-click on the servers to be provisioned. Click the existing Selection to provision to the chosen server(s). Click Provision . This creates a new Asset Certificate (one for each selected server), imports it into the Attestation Service database, and provisions the Asset Certificate to the TPM of the selected server(s). The certificate is matched to the appropriate host for attestation using the host's hardware UUID. Reboot the host to complete the provisioning process (the certificate info written to the TPM is not extended to PCR22 and thus is not available for attestation until the host's next boot cycle). 8.5.5.2 Pull Provisioning The pull method for Asset Tag provisioning is initiated from the host by an agent installed on the Intel The pull method requires that the Provisioning Agent take ownership of the server TPM; TPM ownership needs to be in a The Asset Tag Provisioning Agent must be run from an operating system with certain prerequisites installed, and therefore is provided on an ISO-format disk image ( assettag.iso ). This image can be used with iPXE on a provisioning network to remotely boot to the provisioning image. 8.5.5.3 Creating an XML file for Asset Tag Provisioning Asset Tags can be defined for future provisioning using an XML file provided to the Provisioning Agent script. The determination of which Tags are provisioned to which hosts can be configured in several ways: Provide the list of hosts to be provisioned with a set of Tags as a list of one or more hardware UUID values or the IP Address/hostname as it appears in Mt. Wilson (use subject uuid to list UUIDs or subject ip to list as the host(s) appear in Mt. Wilson) Provide a list of the Tags with no subject to apply the same set of Tags to all hosts. If a selection block with no subject list is provided along with one or more other selection blocks that do include one or more subject assignments, the selection block with no subject listed is used as a default set of Tags to provision to all hosts not explicitly listed. Tags are listed in the following format: attribute oid=\"2.5.4.789.1\" text Name=Value /text /attribute All Tags listed within a single selection /selection block are provisioned to the same host(s), according to any listed subject assignments. The oid \"2.5.4.789.1\" is required when using the text format Name=Value as shown here. Only one value is allowed in the name=value format, but multiple values for the same Tag can be listed in a single Selection (for example, Tenant=Tenant1 and Tenant=Tenant2 can both be applied to the same host by listing both name/value pairs in the same selection block). It is possible to create attributes other than name=value pairs by using the der tag instead of the text tag. However, der tags are incompatible with the Mt. Wilson UI. The entire Asset Tag certificate is provided in the SAML assertion, so any provisioned Tags are still obtainable regardless of which format is chosen. Following is a sample Asset Tag XML file: ?xml version=\"1.0\" encoding=\"UTF-8\"? selections xmlns=\"urn:mtwilson-tag-selection\" selection attribute oid=\"2.5.4.789.1\" text Country=US /text /attribute attribute oid=\"2.5.4.789.1\" text State=NY /text /attribute attribute oid=\"2.5.4.789.1\" text City=New York /text /attribute /selection selection subject ip 192.168.1.101 /ip /subject attribute oid=\"2.5.4.789.1\" text Country=US /text /attribute attribute oid=\"2.5.4.789.1\" text State=CA /text /attribute attribute oid=\"2.5.4.789.1\" text City=Folsom /text /attribute attribute oid=\"2.5.4.789.1\" text City=Santa Clara /text /attribute /selection selection subject uuid 21c26a6e-5401-41de-a168-d637e1e1b154 /uuid /subject subject uuid f98cabf1-6ab1-47c2-8b5c-e3be3d6865ad /uuid /subject attribute oid=\"2.5.4.789.1\" text Country=US /text /attribute attribute oid=\"2.5.4.789.1\" text State=TX /text /attribute attribute oid=\"2.5.4.789.1\" text City=El Paso /text /attribute /selection selection subject ip 192.168.1.103 /ip /subject subject ip 192.168.1.104 /ip /subject subject ip 192.168.1.105 /ip /subject attribute oid=\"2.5.4.789.1\" text Country=MX /text /attribute attribute oid=\"2.5.4.789.1\" text City=Mexico City /text /attribute attribute oid=\"2.5.4.789.1\" text Dept=Finance /text /attribute /selection /selections It is possible to have an existing valid certificate in the database containing Tags that do not correspond to those defined in the XML. The determination of whether the most recent valid certificate for a host or the Tags explicitly defined in the XML are provisioned in this case is handled by the value of the TAG_PROVISION_NOCACHE variable set during installation of the Attestation Service. If Tags and Selections are defined in the XML that do not exist in the Asset Tag database, the Asset Certificate is still created using the Tags specified in the XML, but the Asset Tag UI does not actually create new Tag or Selection entries. The correct Tags according to the XML are still shown in the SAML assertion (since the SAML displays the entire certificate). 8.5.5.4 Encrypting the Asset Tag XML When automating the provisioning of Asset Tags, there may be situations where the selection of attributes is determined in advance by one person and is provisioned by another person who has access to the hosts for provisioning, but is not authorized to change the attribute selections. This section describes how to create encrypted selection files that can be used in place of plain-text selection files to protect the integrity of the pre-determined selections. Pre-Provisioning Setup: The following are required to create an encrypted selection file: Encryption password from mtwilson.properties. Selection XML file. OpenSSL command-line tools, with optional openssl.org patch #3254. The encrypt.sh script provided with the Asset Tag service. The Asset Tag service automatically generates a file encryption password during installation and stores it in the Mt. Wilson configuration file mtwilson.properties . This password is used to encrypt and decrypt the selection XML file. The Asset Tag provisioning service allows exporting a selection file in XML format. Support for exporting the selection file already encrypted is planned for a later release. Alternatively, users may create selection XML files using another process. An XSD for the selection XML files is available. The OpenSSL command-line tools include the enc command (used to encrypt files) and the dgst command (used to provide an integrity digest for the selection). OpenSSL patch #3254 provides command-line support for PBKDF2 algorithm and setting the iteration count for both the older password algorithm and the new PBKDF2 algorithm. The patch was prepared against openssl-1.0.1f. Encrypting the Selection XML File: It is assumed that openssl and encrypt.sh are in the $PATH , and that the Asset Tag attribute selection file is in the current directory in a file named selection.xml . It is also assumed that the encryption password is known, and is represented as the word The following commands generate an encrypted file using the chosen password: export PASSWORD=password\nencrypt.sh -p PASSWORD selection.xml.enc selection.xml If you are using OpenSSL without patch #3254, add the --nopbkdf2 option: encrypt.sh --nopbkdf2 -p PASSWORD selection.xml.enc selection.xml The content of the output file selection.xml.enc looks like this: Content-Type: encrypted/openssl; alg=\"aes-256-ofb\"; digest-alg=\"sha256\"; enclosed=\"application/zip\" Date: Fri Feb 7 12:16:30 PST 2014\n\nU2FsdGVkX1+/wg16dCIvM5w7fyBcXvTmtIBsvB5NqsyHMqVR2lqCaNbQGaVW42WE yn46ncwOqccL1OlB5BtECB9I5WCl8Qb8OQzrMTZ+Wxwy4R28/1tzSMOEyOBbXMCY\n/ltf+qlVdNUqU/tSSZusSWCPnxclcF9v8O0vodmrcas+5d9QU2Z4yJH2ZuknP/Ji 8yYIRxge8UzsoG+AVwmoBk4ZWhzH6A5Lc/T1o0/uIw4M//2+cDCnGduuSLFrL1+q mO1xb/hP7Zgjk+9wRLPGYpjM2h58Vqf8WWD/DqMwGE07mlN8lS4gnkn6OmWj2dq5 nyHUrueiWaz81cbx4PTdcPCnzHryYBsW1YXDCru8JHba67owoYNx8CXalNkDfAu+ CnvitWqmSPJPvFHr6QbBzE/ziPRIzzYoRFksOmzkMjfsugdy8015PI9h36SUQc9Q y85ujORHb1yTt3hAYM0tpc3eYOF/rqEID4lwuzNvlbPyTV6tZO18/kxiejNMKqFd Nbx2Tn+fopG1tIujUPhneBqK7DHMDSGvgWcVl6CCgA0bPm6hcZ8MoDywHcJK86yg 55cJwRwMEHt/PtV94JU//c+Nckq3nltuQTe17+bUTHTgmY1rvone93HV7R1jV5c3 sVPXglBsFyhUax4l2YFXuXKSiiPXacUvWBg6oY7NCYhXcI4U+GSWJ65ADYSoxlcj EtdiG33kOS3L5vYUBJMHzmZVaqIR3iw2Za35cT5g+iagThudKcI= 8.5.5.5 Decrypting and Verifying the Selection XML File This step is performed by the Asset Tag Provisioning Service upon receiving an encrypted selection file. You can perform the same step to decrypt a previously-encrypted Selection XML file. In this section, it is assumed that openssl and decrypt.sh are in the $PATH , and that the encrypted Asset Tag attribute selection file is in the current directory in a file named selection.xml.enc . It is also assumed that the encryption password is known, and is represented as the word The following commands generate an encrypted file using the chosen password: export PASSWORD=password\ndecrypt.sh -p PASSWORD selection.xml.enc ls selection.xml.enc.d The decryption script does not need a --nopbkdf2 option because it automatically determines from the encrypted file whether PBKDF2 should be used. The decryption script creates a directory named selection.xml.enc.d into which it extracts the original selection file selection.xml. You may also see other files adjacent to selection.xml with .sig and .sig.doc extensions. These are used for the integrity check.\nIf the decrypted file fails the integrity check, the decryption script prints a message like the following: Message failed verification: selection.xml.enc.d/selection.xml 8.5.5.6 Provisioning Usage When deploying asset tags using the provisioning agent, select the encrypted selection file instead of a plain-text selection file. The provisioning service automatically recognizes that it is encrypted and attempts to decrypt it using the password in mtwilson.properties . 8.6 Database Configuration for Remote Database Servers While by default the Attestation Service deploys its own database on the local machine, it is also possible to use a remote database server. If using an external server is required, the remote database must be configured to accept remote connections. For Postgres, edit the /etc/postgresql/9.3/main/pg_hba.conf file and add the following line: host    all    all IP RANGE / SUBNET password Using a remote Postgres database also requires modifying the postgresql.conf file (in the same folder as pg_hba.conf ) to include the Attestation Service server in the listen_addresses setting, which is commented out by default. # - Connection Settings - \nlisten_addresses = '*' Setting this value to '*' enables connections from all addresses. This can be restricted to only the Attestation Service server(s), or to a specific IP range that includes the Attestation Service server(s). Prior to running the Attestation Service installation, the Attestation Service user (root by default) and the database schema (mw_as by default) must be created on the remote database server, and full rights over the database must be given to the user. These steps are not required if the database resides on the same machine as the Attestation Service services. 8.7 Password Guidelines 8.7.1 Changing the Database Password The Attestation Service includes a command-line utility to automatically change the Attestation Service database password and update all related Attestation Service properties files (no other Intel $ mtwilson change-db-pass This utility prompts for the new password, and automatically updates the database password in PostgreSQL as well as all of the Attestation Service .properties files. If the .properties files are encrypted, the command automatically handles decryption and re-encryption as long as the appropriate encryption password variable ( $MTWILSON_PASSWORD ) has been set (see Section 8.7 for details). The encryption password is only required if encryption is being used. 8.8 Trust Policies A Trust Policy is a list of files and directories to be measured with good-known measurements for comparison, digitally signed by the Attestation Service. Trust Policies are created for both bare-metal servers and for virtual machines, but function in the same way. Effectively, attestation for both bare-metal servers and virtual machines works by taking a hash measurement of a selected file or the cumulative hash of an entire folder, and comparing that hash against a known value. 8.8.1 Choosing Files for Measurement It is extremely important to select only files and folders that do not change between reboots of the measured device. The Trust Policy is the set of good-known values against which actual boot-time measurements are compared; any deviation from the expected measurements results in an untrusted state for the bare-metal server or virtual machine. Deviations can include adding, removing, renaming, or editing a file in a measured directory, or removing, renaming, or editing a specifically-measured file. Trust Policies are composed of a selection of one or more explicit files, and may also include one or more general rules applied to a folder through include/exclude regular expressions. Select explicit files and folders by putting a check in the check-box. If an individual file is selected, that specific file is added to the Trust Policy. If a directory is selected, that directory and all files and directories contained in the selected directory are added explicitly to the Trust Policy. Explicitly-added files are always included in the attestation of the machine governed by the Policy, but new files may be added without changing the resulting Trust Status. The lock icon next to each directory allows general rules to be applied to the folder using regular expressions. These rules control what files are measured n a directory, even if they are added later. For example, by locking a folder with the include expression , all files in the folder are measured, including files added later. Creating a new file in this folder results in the protected host becoming untrusted after its next reboot. Adding an exclude filter excludes any files matching the exclude expression. Exclude filters are applied after include filters, meaning a folder with an include filter of and an exclude filter of *.txt measures all files in the folder, with the exception of any files whose names contain the string . Folder lock rules can be applied to an individual folder, or can be applied recursively to all sub-folders as well. Any combination of explicitly selected files and directory lock filters can be used, including within the same folder.\nExplicitly-selected files are measured separately from lock filters. If a file is selected explicitly in a locked folder, and the lock filters would normally not include the explicitly selected file in the attestation measurement, the file is still measured and attested. Important: Ensure that files are measured only if they are not expected to change between reboots or, in the case of VM Trust Policies, that the files will not change between the source image and any instances. As an example, for a database workload, select the database executables, libraries, and configuration files, but do not select the actual database contents. 8.8.2 Creating a Trust Policy 8.8.2.1 Creating a Trust Policy for a Virtual Machine Image To create a Trust Policy, browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Select Images Upload Images to Trust Director . Select the appropriate Image Format for your image, and click Next . Select the image to be uploaded, and click Upload . The image is uploaded to the Trust Director. Select Trust Policy from the top bar, then click the Virtualized Server tab to see a list of all images that have been uploaded to the Trust Director. To create a new Trust Policy for an image, click the ( + ) button in the Trust Policy field. Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or **Hash and Enforce **launch control policy. Select Encrypt Image to encrypt the image. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations. Be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. If the encryption option was selected, the image is encrypted using a key from the KMS key broker. Set a name for the image (this is the name that appears in OpenStack), and select whether to upload now or at a later time. Clicking Upload Now uploads the image to the OpenStack Glance repository. 8.8.2.2 Creating a Trust Policy for a Docker container Images To create a Trust Policy, browse to the Trust Director portal ( https://TrustDirectorIpOrHostname ) and log on. Before creating a Trust Policy for Docker, Make sure you have an image uploaded to the Trust Director or have downloaded a Docker image from Docker Hub (registry). Refer to the Section 8.9.3 or Section 8.9.4 for instructions on how to download or upload a Docker container. Come back to this section if you have completed downloading or uploading a Docker image to Trust director. Once you have completed the uploading or downloading of Docker image, Navigate to the Trust Policy and Proceed to the Docker page Choose the Docker image that you want to create a trust Policy from the table  by clicking on the Provide a name for the new Trust Policy. Select whether this image uses the Hash Only or Hash and Enforce launch control policy. Click Next . Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations. Be sure to select only files that will not change between reboots. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy is generated. The name for the docker image will be composed by the repository name of the image and the tag name using a \":\" as delimiter, the image name will be displayed on the Policy Name field, for Upload Artifact field you must select Docker Image with Policy otherwise you will only upload the image without a policy atached. Clicking Upload Now uploads the image to the OpenStack Glance repository. 8.8.3 Downloading a Docker image from Docker Hub using Trust Director To download a Docker image from Docker hub, browse to the Trust Director portal and logon. Select Images then Add Images to the Trust Director . Select the appropriate image type: Docker then click Add . Select Pull from Hub , then supply the repository name and tag name of the Docker image you wish to download. Make sure the repo and tags are correct and has not been previously downloaded. Then press the Download button as show in the example below. Once the container is downloaded Trust Policy Page will be displayed and enabled. Click on the button and you will be redirected to the Trust Policy Page . The Trust Policy Page contains all the Docker Images that you have downloaded from Docker Hub or uploaded to the trust Director. From this page, you can delete the Docker image with the Trust Policy by clicking on the ( x ) button on the Delete column. You can also download the Docker image as a tarball. This is also the place where you can start creating the trust Policy of a Docker image. See screenshot below. Once you see a Docker image in the Trust policy page, you can now start creating the trust policy for Docker images. Proceed to Section 8.8.2.2 to create a Trust Policy for Docker images. 8.8.4 Uploading a Docker image to Trust Director To  upload a Docker image to Docker hub, browse to the Trust Director portal and logon. Select Images then Add Images to the Trust Director . Select the appropriate image type: Docker then click Add . Select Manual Upload. Browse through your disk or network shared folder to find the Docker image that you have downloaded and saved previously using A progress bar and porcentage will be displayed at the bottom of the page showing the progress of the upload process once completed a message will appear at the bottom of the page indicating the image was succesfully uploaded. Once the uploading process was completed you can close the pop window and then proceed to the Trust policy page by clicking on the Trust Policy page button. You will be taken to the Trust policy page which contains all the Docker Images that you have downloaded from Docker Hub or uploaded to the trust Director. From this page, you can delete the Docker image with the Trust Policy by clicking on the ( x ) button on the Delete column. You can also download the Docker image as a tarball. This is also the place where you can start creating the trust Policy of a Docker image. Once you confirm the Docker images in the Trust policy page, you can now start creating the trust policy for Docker images by clicking on the ( + ) icon. See screenshot below. Proceed to the Section 8.8.2.2 Creating Trust Policy for Docker Images to create the trust policy for Docker images. 8.8.5 Uploading Image to Trust Director To upload an image directly from the host were TD is installed you need to use the option \"Remote File Upload\". Select Images then Add Images to the Trust Director . Select the appropriate image type: Docker then click Add . Select Remote File Upload and enter the information required as the Absolute Image Location, Repository Name of the image and Tag Name for the docker image. Optionally you can set another name for the image. Once the uploading process was completed you can close the pop window and then proceed to the Trust policy page by clicking on the Trust Policy page button. You will be taken to the Trust policy page which contains all the Docker Images that you have downloaded from Docker Hub or uploaded to the trust Director. From this page, you can delete the Docker image with the Trust Policy by clicking on the ( x ) button on the Delete column. You can also download the Docker image as a tarball. This is also the place where you can start creating the trust Policy of a Docker image. Once you confirm the Docker images in the Trust policy page, you can now start creating the trust policy for Docker images by clicking on the ( + ) icon. See screenshot below. Proceed to the Section 8.8.2.2 Creating Trust Policy for Docker Images to create the trust policy for Docker images. 8.8.6 Creating a Trust Policy for a Non-Virtualized Server Browse to the Trust Director ( https://TrustDirectorIpOrHostname ) to create the non-virtualized server Trust Policy Select Trust Policy , then select Non-Virtualized Server and click Add New Policy . Provide a name for the new Trust Policy, as well as SSH details for the host that is used to generate the Policy (root permissions are needed to browse the full file structure of the remote host). Browse through the directory tree of the host to select files and folders to be included in the Trust Policy. Any files selected for the Trust Policy are included in later attestations. Be sure to select only files that will not change between reboots. Files related to the Trust Agent are automatically selected for measurement on non-virtualized hosts; this is mandatory to preserve the Chain of Trust. Folders can be Once all required files and folders have been defined for the Trust Policy, click Next . The Trust Policy ( trustpolicy.xml and manifest.xml ) are created and placed in the /boot/trust directory on the host. To deploy the same Trust Policy to other hosts, click the provided Download link. The trustpolicy.xml and manifest.xml files are downloaded in a tgz archive, and can be provisioned to all hosts that will have identical measured files to the source host. Note: When using the same Trust Policy on multiple servers, remember that Trust Policy measurements are not performed until rebooting the host after the Trust Policy has been deployed. It is suggested to either copy the Trust Policy immediately before installing the Trust Agent (and rebooting afterward), or (if the Trust Agent has already been installed) reboot the host after copying the Trust Policy. Any time the Trust Policy is modified, be sure to repeat the whitelisting and registration steps to update all hosts to use the new whitelisted measurements. A new GRUB boot option is created by the Trust Agent installer whose label begins with /etc/default/grub ) to use the TCB Protection option, and run update-grub so the change takes effect. Reboot the server so that the Trust Policy is included in the server attestation measurements. This causes the new Trust Policy measurements to be calculated and extended to PCR 19 in the TPM. 9.0 Whitelisting Guidelines White-listing consists of extracting known-good MLE values to use for later attestation. While a known-good host is used to provide these values, the MLEs are stored in the Attestation Service database and are only changed when deleted or overwritten by user action. If the known-good host\nchanges for any reason, the MLEs already captured are not updated unless a user with the appropriate roles repeats the white-listing procedure and overwrites the MLEs with new, updated values.\nRegistration of the known-good host for attestation is optional. MLEs are divided into two types: BIOS and VMM. To register a given host, MLEs appropriate for that host's BIOS and OS/hypervisor configuration must already exist in the Mt Wilson database. Note: Beginning in Intel 9.1 For BIOS MLEs: Select the OEM option to provide whitelist for each OEM type and BIOS version. All the hosts of a given OEM type BIOS version are verified with this whitelist. Select the HOST option to provide whitelist by specific host and BIOS version (for example, for HP Servers, by design PCR0 changes for every host). 9.2\tFor VMM/OS MLEs: Select the OEM option to provide whitelist for each OEM type and VMM/OS version. All the hosts of a given OEM type platform, VMM/OS version are verified with this whitelist. Select the HOST option to provide whitelist by host and VMM/OS version. This whitelist is used to verify ONLY the specified host. Select the GLOBAL option to provide the whitelist for each VMM/OS version and number. All the servers/hosts across all OEM types using the same platform run this specified VMM/OS version and build are verified with this whitelist. Note: OEM and Global VMM MLEs are specific to server platform (for example, Thurley vs Romley).\nIf your data center consists of a single OS/hypervisor version but has both Romley- and Thurley-platform-based servers for example, a separate VMM MLE is required for each of the two platforms even though the OS/hypervisor configuration is otherwise uniform. 9.3\tEncrypted Images Image encryption allows an enterprise to control whether or not instances of a given image may be launched on a given platform, by providing access to keys only to a successfully attested host, and by cryptographically binding the image decryption key to the hardware Trusted Platform Module of the attested host. When the first instance of an encrypted image is landed on a compute node by the OpenStack Nova scheduler, the Trust Agent intercepts the VM launch command and analyzes the Trust Policy for the VM. If the Trust Policy shows that the VM is an instance of an encrypted image, the Agent uses the key transfer URL found in the Policy to request the decryption key. This request is routed through the KMS Proxy (the URL for the KMS Proxy is defined for the Trust Agent installation), which requests a new trust attestation from the Attestation Service for the compute node (this attestation is performed using the Attestation Identity Key of the host to ensure that the resulting attestation is securely tied to the returned binding key). The KMS Proxy forwards the attestation to the key transfer URL for the image decryption key on the KMS. The KMS then analyzes the host attestation, ensuring the attestation is properly signed by an Attestation Service whose SAML and PrivacyCA keys are known (configured during KMS setup), and verifying that the attestation result was The host's binding key is the public half of an asymmetric key pair generated by the host's TPM at the time of Trust Agent installation. By sealing the decryption key using the public binding key, successful decryption of the image can only happen on a host with access to the TPM containing the private half of the binding key. The public binding key is included as part of the host trust attestation from the Attestation Service. Upon receipt, the Trust Agent then asks the host TPM to unwrap the decryption key; the decryption key is never stored on disk.  If the host is rebooted, the key must be requested (with the associated new attestation) again.  This happens automatically. The decryption key is then used to fully decrypt the image on the host, and also to mount an encrypted virtual disk on the host file system, where the decrypted image is placed. Effectively, so long as the host can access the decryption key, it is able to mount the encrypted virtual disk at boot and access instances of the image. In the event of a host reboot, the host automatically issues any needed key requests.  If the host is still trusted after the reboot, the key will be provided, and again unwrapped into memory using the host TPM.  The cryptfs mount is remounted, restoring access to the encrypted instances.  If the host is untrusted after the reboot, the key will be denied, and any encrypted instances will remain inaccessible. A CLI command can also be used to issue all needed key requests to remount the encrypted disks for all images running on a host: policyagent remount Scenarios where the wrapped key would be inaccessible include re-installing the Trust Agent (this replaces the Binding Key, and so keys wrapped using an old Binding Key can no longer be unwrapped and are therefore inaccessible), or temporary network unavailability. Rebuilding the instance from the Horizon dashboard re-downloads the decryption key and restores functionality, but all data separate from the base image is lost (rebuilding the instance essentially re-instantiates the instance from the base image, discarding any virtual disk change file, but preserving the instance ID, name, IP, and so on). 10 OpenStack Controller Changes The following modifications to the OpenStack controller are made by the Intel 10.1 Horizon Changes 10.1.1 Library and Configuration Changes File Changes and Other Notes distribution-location/python2.7/ cit_horizon_plugin.py Custom module written for enabling Trust and Geo-tag columns in Instances/Images/Hypervisors view of the Horizon dashboard. This module extends the views in images, instances and hypervisors view to add a column with Geo-tag and Trust icons. For the instances view, along with Trust and Geo-tag, the column also contains the VM attestation policy and status. distribution-location/python2.7/horizon_utils.py Utility class which is consumed by the above module. This utility class contains helper methods to call into CIT to retrieve the available asset tags, Hypervisor and VM attestation reports. distribution-location/openstack-dashboard/ openstack_dashboard/settings.py Need to add the CIT Attestation Service access details and credentials in the setttings.py configuration file. This is used by the helper methods in horizon_utils.py for calling into CIT. All the required configuration changes should be under the ASSET_TAG_SERVICE section. Example:      ASSET_TAG_SERVICE = {                'IP': 'xxx.xxx.xxx.xxx',                 'port': '8443',                'certificate_url': '/certificate-requests',                   'auth_blob': 'username:password',                'api_url': '/mtwilson/v2/host-attestations',                 'host_url': '/mtwilson/v2/hosts',                'tags_url': '/mtwilson/v2/tag-kv-attributes.json?filter=false'     } distribution-location/openstack-dashboard/ openstack_dashboard/local/local_settings.py This settings file has to be modified to enable the horizon_geo_tag override module to let Horizon pick the custom modules to render the Images/Instances/Hypervisor views. The following line has to be added in the HORIZON_CONFIG section.                              'customization_module': 'horizon_geo_tag.overrides' distribution-location/python2.7/dist-packages/horizon/static/ horizon/js/horizon.geotag.js The required javascript changes for the UI changes made on horizon. This has to be added to the list of js files to be loaded. File to be modified:                           /usr/lib/python2.7/distpackages/horizon/templates/horizon/_scripts.html horizon_geotag.less Required CSS changes to show the appropriate icons for Trust/Geo-tag column in the views on the dashboard. This CSS has to be appended to the appropriate CSS files relevant to the distribution/version of OpenStack being used. 10.1.2 Instance View Changes File Changes and Other Notes distribution-location/python2.7/dist-packages/nova/api/ openstack/compute/views/server Changes made to pass the Trust and Asset Tag values to the view override method distribution-location/openstack-dashboard/ openstack_dashboard/api/nova.py Changes made to add the Asset Tag properties to the instance details response. 10.1.3 Images Dashboard Changes File Changes and Other Notes distribution-location/openstack-dashboard/ openstack_dashboard/dashboards/project/ images/images/forms.py Modified the Create Image and Edit Image forms to support add/edit/get the distribution-location/openstack-dashboard/ openstack_dashboard/dashboards/project/ images_and_snapshots/images/views.py Modified to update the above created column of the table with the appropriate Policy value of the image. 10.1.4 Attestation Service Application Configuration Files Overall Intel mtwilson.properties Attestation Service attestation-service.properties SAML.jks (signing key) Whitelist Manager Service wlm-service.properties Management Service management-service.properties SAML.crt (certificate) Privacy CA privacyca.properties Management Console management-console.properties Whitelist Portal whitelist-portal.properties Trust Dashboard trust-dashboard.properties Security Framework shiro.ini Application:   /opt/mtwilson\nConfiguration: /etc/intel/cloudsecurity/\n               /opt/mtwilson/configuration\nData:\t   PostgreSQL database\nLogs:\t   /opt/mtwilson/share/apache-tomcat-7.0.34/logs/catalina.out 10.1.5 Trust Agent Item Default Value Notes Application home directory /opt/trustagent Policy Agent home directory (Image Privacy and Integrity Trust Agent ONLY) /opt/policyagent The Policy Agent is used only with OpenStack deployments, and analyzes VM Trust Policies. Tbootxm home directory /opt/tbootxm Tbootxm is an extension of tboot that measures files and directories specified in a non-virtualized server Trust Policy during system launch for extension to PCR 19. Vrtm home directory  (Image Privacy and Integrity Trust Agent ONLY) opt/vrtm VRTM is a component of the Trust Agent used only with OpenStack deployments. This is the agent that directs the VM measurement and attestation functions. Configuration directories /opt/trustagent/configuration /opt/policyagent/configuration /opt/tbootxm/configuration /opt/vrtm/configuration Command-line tools /opt/trustagent/bin /opt/policyagent/bin /opt/tbootxm/bin /opt/vrtm/bin Java components /opt/trustagent/java Item Default Value Notes Trust Agent logs /var/log/trustagent/trustagent.log Tentative: /opt/trustagent/log (may be linked to /var/ log/trustagent ) /var/log/policyagent/policyagent.log  /var/log/vrtm/vrtm.log Policy Agent logs (Image Privacy and Integrity Trust Agent ONLY) /opt/policyagent/logs Tbootxm logs /opt/tbootxm/logs Vrtm logs (Image Privacy and Integrity Trust Agent ONLY) /opt/vrtm/logs Temporary files /opt/trustagent/var (may be linked to /var/ trustagent ) 10.1.6 Trust Director Application:   /opt/director\nConfiguration: /opt/director/configuration, /opt/director/env\nData:\t   /opt/director/repository\nLogs:      \t   /opt/director/logs\nJava:\t   /opt/director/java 10.1.7 Attestation Reporting Hub Application:   /opt/attestation-hub\nConfiguration: /opt/attestation-hub/configuration, /opt/attestation-hub/env\nData:\t   /opt/attestation-hub/repository\nLogs:\t   /opt/attestation-hub/logs\nJava:\t   /opt/attestation-hub/java 10.1.8 Key Management Service 10.1.8.1 Check Server Version The following command displays the server version: # kms version \nVersion: 1.0 \nBranch: release-1.0\nTimestamp: 2014-12-16T15:37:28.702-0700 10.1.8.2 Check Server Status To check the server status: # kms status Output indicates if KMS is running or not running. For example: KMS is running Or, if the service is not running, this displays instead: KMS is not running 10.1.8.3 Start and Stop the Server To start the key server: # kms start\nStarted KMS To stop the key server: # kms stop\nStopped KMS To restart the key server: # kms restart \nStopped KMS Started KMS 10.1.8.4 Add, edit, or Remove User Permissions The administrator can use the password command to add, edit, or remove user permissions for password-based login to the key server. Note that password-based access is only available with Transport Layer Security. New users should be provided their passwords along with the key server's TLS certificate; they must install the server TLS certificate (add it to their trusted server certificate list) to secure their login to the key server. To add a new user: kms password username password --permissions permission1,permission2,... The permissions are comma-separated list of permissions. Each permission has the format domain:action , and a single wildcard character is allowed on each side to indicate *:* means superuser permission. To change a user's password, repeat the command to add the user and supply the new password. You can omit the permissions if they do not need to change: kms password username new-password To edit user permissions, repeat the command to add the user and supply the current password (or a new password) and new permissions. The new permissions overwrite the existing permissions. To list the current permissions for a user, use the following command: kms password username --list 10.1.8.5 List Users The administrator can use the password command to list existing users. kms password --list Output is one username per line. 10.1.8.6 Execute All Setup Tasks The setup tasks are documented in Section 10.1.8.6 . The following command executes all setup tasks, in order: kms setup Any environment variables needed by the setup tasks should be set before running the command. When all the setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. More detailed information is written to the KMS log. 10.1.8.7 Execute Specific Setup Tasks If you need to execute a specific setup task, you can name one or more tasks to execute in order on the command line. The following example executes two tasks: kms setup task1 task2 10.1.8.8 Validate a Setup Task Without Executing It If you need to check that a setup task has completed successfully but do not want to execute it (validation or dry run), you can use the --noexec option. The following example validates that an endorsement certificate has been requested, but does not actually request it: kms setup tasks... --no-exec 10.1.8.9 Force Execution of a Setup Task Even if It is Already Validated Normally, if a setup task has already been successfully completed, its execution is skipped. If you want to force that task to run again, you can use the --force option. The following example requests a new endorsement certificate even if a one has already been requested: kms setup tasks... --force 10.1.8.10 Continue Executing Subsequent Setup Tasks Even if One Fails Normally, if a setup task fails to complete, subsequent tasks are skipped. If you want to try running subsequent tasks anyway, you can use the --continue option. The following example attempts to take ownership and then requests a new AIK even if taking ownership fails: kms setup tasks... --continue 10.1.8.11 Setup Task Reference filesystem Ensures that configuration, features, and repository directories are created. update-extensions-cache-file Scans the installed application for available extensions and automatically register them in the extensions.cache file in the configuration folder. Should be executed after any update to the application software. password-vault Creates a file to store all other passwords needed by the server. The file is password-protected using the master password in KMS_PASSWORD . jetty-ports Configures default values for HTTP and HTTPS ports in kms.conf . jetty-tls-keystore Randomly-generates Jetty keystore password. Creates password-protected keystore file. Generates TLS keypair. notary-key Creates a key used to generate integrity signatures on key metadata. envelope-key Creates a key used by clients to wrap keys that should be registered with the key server. storage-key Creates a key used to encrypt user keys before storing them, for example before sending them to any back-end KMIP or Barbican server. saml-certificates Ensures there is a SAML certificates file present with trusted SAML certificates. tpm-identity-certificates Ensures there is a file present with trusted Privacy CA certificates. 10.1.8.12 Uninstall The uninstall command removes the KMS files but keeps the configuration, keys, and any credentials for remote services. To completely remove the KMS and its data, use the --purge argument. # kms uninstall --purge\n    Stopped KMS 10.1.8.13 Help The help command shows all available commands. Note: The setup command takes additional options and arguments, so it is described separately from the other commands. # kms help\nUsage: /usr/local/bin/kms start|stop|restart|status|version|zeroize|uninstall|help Usage: /usr/local/bin/kms setup [--force|--noexec] [task1 task2 ...]\nAvailable setup tasks: password-vault\njetty\njetty-tls-keystore notary-key envelope-key storage-key\nsaml-certificates\ntpm-identity-certificates 10.1.9 KMS Proxy 10.1.9.1 Check Server Version The following command displays the server version: # kmsproxy version \n  Version: 1.0 Branch: release-1.0\n  Timestamp: 2014-12-16T15:37:28.702-0700 10.1.9.2 Check Server Status To check the server status: # kmsproxy status Output indicates if the service is running or not running. For example: KMSPROXY is running Or, if the service is not running, This displays instead: KMSPROXY is not running 10.1.9.3 Start and Stop the Server To start the key server proxy: # kmsproxy start\n  Started KMSPROXY To stop the key server proxy: # kmsproxy stop\n  Stopped KMSPROXY To restart the key server proxy: # kmsproxy restart \n  Stopped KMSPROXY \n  Started KMSPROXY 10.1.9.4 Execute All Setup Tasks The setup tasks are documented in Section 10.1.8.6 . The following command executes all setup tasks, in order: kmsproxy setup Any environment variables needed by the setup tasks should be set before running the command. When all the setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. More detailed information is written to the KMSPROXY log. 10.1.9.5 Execute Specific Setup Tasks If you need to execute a specific setup task, you can name one or more tasks to execute in order on the command line. The following example executes two tasks: kmsproxy setup task1 task2 10.1.9.6 Validate a Setup Task Without Executing It If you need to check that a setup task has completed successfully, but do not want to execute it (validation or dry run), you can use the --noexec option. The following example validates that an endorsement certificate has been requested, but does not actually request it: kmsproxy setup tasks... --no-exec 10.1.9.7 Force Execution of a Setup Task Even if It is Already Validated Normally, if a setup task has already been successfully completed, its execution is skipped. If you want to force that task to run again, you can use the --force option. The following example requests a new endorsement certificate even if a one has already been requested: kmsproxy setup tasks... --force 10.1.9.8 Continue Executing Subsequent Setup Tasks Even if One Fails Normally, if a setup task fails to complete, subsequent tasks are skipped. If you want to try running subsequent tasks anyway, you can use the --continue option. The following example attempts to take ownership and then requests a new AIK even if taking ownership fails: kmsproxy setup tasks... --continue 10.1.9.9 Setup Task Reference filesystem Ensures that configuration, features, and repository directories are created. update-extensions-cache-file Scans the installed application for available extensions and automatically register them in the extensions.cache file in the configuration folder. Should be executed after any update to the application software. password-vault Creates a file to store all other passwords needed by the server. The file is password-protected using the master password in KMS_PASSWORD . jetty-ports Configures default values for HTTP and HTTPS ports in kms.conf . jetty-tls-keystore Randomly-generates Jetty keystore password. Creates password-protected keystore file. Generates TLS keypair and self-signed certificate, which can be customized by setting KMSPROXY_TLS_CERT_DN ( kmsproxy.tls.cert.dn ), KMSPROXY_TLS_CERT_IP ( kmsproxy.tls.cert.ip ), and KMSPROXY_TLS_CERT_DNS ( kmsproxy.tls.cert.dns ). mtwilson Registers a client with Mt. Wilson and requests the Attestation and Challenger roles. 10.1.9.10 Uninstall The uninstall command removes the KMS proxy files but keeps the configuration, keys, and any credentials for remote services. To completely remove the KMS proxy and its data, use the --purge argument. # kmsproxy uninstall --purge\n  Stopped KMSPROXY 10.1.9.11 Help The help command shows all available commands. Note: The setup command takes additional options and arguments, so it is described separately from the other commands. # kmsproxy help\n  Usage: /usr/local/bin/kms start|stop|restart|status|version|zeroize|uninstall|help Usage: /usr/local/bin/kms setup [--force|--noexec] [task1 task2 ...]\n  Available setup tasks: password-vault\n  jetty\n  jetty-tls-keystore mtwilson The help command can also show more detailed information about specific commands: kmsproxy help command 10.1.10 Attestation Service 10.1.10.1 Check Server Version The following command displays the server version: # mtwilson version \n  MtWilson Linux Utility \n  Version 3.0-SNAPSHOT\n  Build date ( source branch ) 10.1.10.2 Check Server Status To check the server status: # mtwilson status\n  Checking Tomcat process... Running (pid pid )\n  Checking if mtwilson is deployed on webserver...Deployed \n  Checking if mtwilson-portal is deployed on webserver... Deployed 10.1.10.3 Start and Stop the Server To start the Attestation Server: # mtwilson start To stop the Attestation Server: # mtwilson stop To restart the Attestation Server: # mtwilson restart 10.1.10.4 Change the Database Password and Update Configuration Files This change the current database password and updates the relevant Attestation Service configuration files with the new password. # mtwilson change-db-pass 10.1.10.5 Output Attestation Service SSH Key and SAML Certificate Fingerprints # mtwilson fingerprint\n\n== SSH HOST KEYS == 98:07:72:61:42:54:86:96:11:c0:07:9b:ac:8d:c8:67 (ECDSA-256)\n98:de:31:42:80:e0:61:ae:db:ab:9d:df:09:e3:45:f8 (DSA-1024)\n22:95:2a:72:e2:41:94:f2:08:20:0e:76:fd:39:00:da (RSA-2048)\n88:bf:60:02:05:d5:26:62:03:79:09:e7:96:26:b5:83 (ED25519-256)\n== MT WILSON SAML CERTIFICATE ==\nOwner: CN=mtwilson, OU=Mt Wilson, O=Intel, L=Folsom, ST=CA, C=US\nValid from: Fri Aug 21 13:01:28 PDT 2015 until: Mon Aug 18 13:01:28 PDT 2025 \n        MD5:  36:9D:B2:D2:12:6B:12:4C:9D:51:C5:00:38:0D:31:F4\n        SHA1: 07:88:E6:41:32:CE:D9:6E:A0:94:0E:17:D2:2F:4E:89:1C:32:51:98 10.1.10.6 Detect and Output Currently-Installed Version of and Installation Location Java This command is used for troubleshooting. If the Attestation Service cannot detect a valid version of Java, installation and functionality fail. The Java version must be equal or greater than the specified minimum Java version in the installation answer file. # mtwilson java-detect \n  JAVA_HOME=/usr/share/jdk1.7.0_51 \n  java_bindir= \n  java=/usr/share/jdk1.7.0_51/bin/java 10.1.10.7 Detect and Output Currently-Installed Version and Installation Location of MySQL # mtwilson mysql-detect\n  mysql= path 10.1.10.8 Create a New MySQL SSL Certificate Authority # mtwilson mysql-sslcert\n  Creating MySQL Certificate Authority... Generating RSA private key, 2048 bit long modulus\n  ....................................................+++\n  ....................................................................................\n  ................+++ \n  e is 65537 (0x10001)\n  Creating MySQL SSL Certificate... \n  Generating a 1024 bit RSA private key 10.1.10.9 Detect and Output Currently Installed Version and installation location of Tomcat # mtwilson tomcat-detect\n  TOMCAT_HOME=/usr/share/apache-tomcat-7.0.34 \n  tomcat_bin=/usr/share/apache-tomcat-7.0.34/bin/catalina.sh\n  tomcat=\"env PATH=/usr/share/jdk1.7.0_51/bin:/usr/local/sbin:/usr/local/bin:/usr sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games JAVA_HOME=/usr/share/jdk1.7.0_51 CATALINA_HOME=/usr/share/apache-tomcat-7.0.34 CATALINA_BASE=/usr/share/apache-tomcat\n  7.0.34 CATALINA_CONF=/usr/share/apache-tomcat-7.0.34/conf /usr/share/apache-tomcat 7.0.34/bin/catalina.sh\" 10.1.10.10 Generate a New Tomcat SSL Certificate # mtwilson tomcat-sslcert 10.1.10.11 Check the Status of the Tomcat Web Server This command also outputs the Tomcat TLS certificate fingerprint information. # mtwilson tomcat-status\n  Checking Tomcat process... Running (pid 31418)\n  Owner: CN=10.1.71.130, CN=127.0.0.1, OU=Mt Wilson, O=Trusted Data Center, C=US \n  Valid from: Fri Aug 21 13:01:18 PDT 2015 until: Mon Aug 18 13:01:18 PDT 2025\n  MD5:  DF:AE:44:60:12:10:5D:2B:04:CE:BE:0A:AE:D6:45:39\n  SHA1: C5:B8:5D:90:E1:3D:42:58:F0:13:02:38:54:C9:66:4C:0D:C3:27:AF 10.1.10.12 Backup and Restore All Keys, Certificates, and Secrets Used by the Attestation Service These commands backup and restore all Attestation Service keys, certificates, and secrets to/from an encrypted blob file. These can be used to back up and restore keys when performing Attestation Service re-installations, and to restore functionality and access to data in the event of an accidental deletion. An encryption password must be set before running these commands. This password is used to encrypt or decrypt the secrets to/from the encrypted blob file. To set the encryption password, export the MTWILSON_PASSWORD variable with a password value. # export MTWILSON_PASSWORD= password mtwilson key-backup\n\t  Keys backed up to: /var/mtwilson/key-backup/mtwilson-keys_2015-09-03.135329.enc\n  \n  mtwilson key-restore path_to_file mtwilson key-restore /var/mtwilson/key-backup/mtwilson-keys_2015-09-03.135329.enc \n  Keys restored from: /var/mtwilson/key-backup/mtwilson-keys_2015-09-03.135329.enc 10.1.10.13 Execute All Setup Tasks The setup tasks are documented in the next section. The following command executes all setup tasks, in order: # mtwilson setup Any environment variables needed by the setup tasks should be set before running the command. When all the setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. 10.1.10.14 Execute Specific Setup Tasks If you need to execute a specific setup task, you can name one or more tasks to execute in order on the command line. The following example executes two tasks: # mtwilson setup task1 task2 10.1.10.15 Validate a Setup Task Without Executing It If you need to check that a setup task has completed successfully, but do not want to execute it (validation or dry run), you can use the --noexec option. # mtwilson setup tasks... --no-exec 10.1.10.16 Force Execution of a Setup Task Even if It is Already Validated Normally, if a setup task has already been successfully completed, its execution is skipped. If you want to force that task to run again, you can use the --force option. # mtwilson setup tasks... --force 10.1.10.17 Continue Executing Subsequent Setup Tasks Even if One Fails Normally, if a setup task fails to complete, subsequent tasks are skipped. If you want to try running subsequent tasks anyway, you can use the --continue option. # mtwilson setup tasks... --continue 10.1.10.18 Uninstall The uninstall command removes the Attestation Server files but keeps the configuration, keys, and any credentials for remote services. To completely remove the Attestation Service and its data, use the zeroize , erase-data , and erase-users -all commands first, because as they are not available after uninstall. # mtwilson uninstall To erase all data (excluding user information) from the Attestation Service database: # mtwilson erase-data To erase user data from the Attestation Service database: # mtwilson erase-users --all By default, erase-users deletes all users except those with the word -all switch. Note that this terminates all access to the Attestation Service, but the data remains in the database. To immediately delete all certificates and cryptographic keys from the Attestation Service and the database: # mtwilson zeroize 10.1.10.19 Help Displays basic command options. # mtwilson help\n  Usage: mtwilson {change-db-pass|erase-data|erase-users|fingerprint|help| glassfish-detect|glassfish-enable-logging|glassfish-sslcert| glassfish-status|java-detect|mysql-detect|mysql-sslcert| tomcat-detect|tomcat-sslcert|tomcat-status|key-backup|\n  key-restore|restart|setup|start|status|stop|uninstall|version| zeroize} 10.1.11 Trust Agent 10.1.11.1 Start # tagent start\n  Started trust agent 10.1.11.2 Stop # tagent stop\n  Stopped trust agent 10.1.11.3 Restart # tagent restart \n  Stopped trust agent \n  Started trust agent 10.1.11.4 Status # tagent status\n  Trust agent is running Or, if the service is not running, this displays instead: Trust agent is not running 10.1.11.5 Version # tagent version trustagent\n  Version 2.0-SNAPSHOT\n  Build release-2.0 at 2014-07-16T15:37:28.702-0700 10.1.11.6 Authorize This command forces the Trust Agent to re-establish all certificates and authentication with the Attestation Server. This can be used if, for example, the Attestation Server has been re-installed and now uses new certificates. # tagent authorize \n  Stopped trust agent \n  Started trust agent 10.1.11.7 Setup This command is fully described in the Trust Agent subsection of the Installation and Configuration Options section of this guide. # tagent setup 10.1.11.8 Uninstall This command uninstalls the Trust Agent, but does not remove any other component (vrtm, tbootxm, policyagent). These components need to be uninstalled separately. If the Trust Agent is uninstalled and then re-installed, the host record in the Attestation Service is not automatically removed. After re-installing the Trust Agent, the host should be re-registered in the Attestation Server. # tagent uninstall --purge \n  Stopped trust agent \n  Stopping Monit service... 10.1.11.9 Help # tagent help\n  Usage: /usr/local/bin/tagent start|stop|authorize|start-http-server|version Usage: /usr/local/bin/tagent setup [--force|--noexec] [task1 task2 ...] \n  Available setup tasks:\n  configure-from-environment \n  create-keystore-password \n  create-tls-keypair\n  create-admin-user \n  create-tpm-owner-secret \n  create-tpm-srk-secret \n  create-aik-secret\n  take-ownership\n  download-mtwilson-tls-certificate \n  download-mtwilson-privacy-ca-certificate \n  request-endorsement-certificate\n  request-aik-certificate register-tpm-password 10.1.12 Trust Director 10.1.12.1 Start # director start 10.1.12.2 Stop # director stop 10.1.12.3 Restart # director restart 10.1.12.4 password-vault # director setup password-vault 10.1.12.5 director-envelope-key # director setup director-envelope-key 10.1.12.6 director-envelope-key-registrationStart # director setup director-envelope-key-registrationStart 10.1.12.7 Uninstall # director uninstall --purge 10.1.12.8 Help # director help\n  Usage: /usr/local/bin/director start|stop|uninstall|version\n  Usage: /usr/local/bin/director setup [--force|--noexec] [task1 task2 ...] \n  Available setup tasks:\n  password-vault \n  director-envelope-key\n  director-envelope-key-registrationStart 10.1.13 Attestation Reporting Hub 10.1.13.1 Start # attestation-hub start 10.1.13.2 Stop # attestation-hub stop 10.1.13.3 Restart # attestation-hub restart 10.1.13.4 password-vault # attestation-hub setup password-vault 10.1.13.5 Uninstall # attestation-hub uninstall --purge 10.2 Installation and Configuration Options 10.2.1 Attestation Service The Attestation Service can be configured during installation using an answer file. If an answer file is not provided or a required option is missing, the installer prompts the user for the required information. The answer file must be named mtwilson.env and should be placed in the same directory as the installer, or in the /root/ directory. After installation, configuration is managed by several .properties files located in the /etc/intel/cloudsecurity/ directory. These files are encrypted by default. Use caution when modifying these files, as incorrect configuration can cause the Attestation Service to stop functioning. 10.2.1.1 Installation Options Table 2. Installation Options (set in mtwilson.env ) Environment Variable Default Value or Example Notes ADD_POSTGRESQL_REPO yes Required to download and install PostgreSQL 9.3 if installing on Ubuntu,12.04. Unnecessary if PostgreSQL 9.3 has already been downloaded. DATABASE_HOSTNAME 127.0.0.1 The IP Address or hostname of the database server. This can be the local machine (default) if the database resides on the Attestation Service VM, or can be set to a remote server's IP Address or hostname if the database is set up elsewhere. See the configuration instructions for remote databases in Section 8.7. DATABASE_PASSWORD mypassword The password for the Attestation Service database. mtwilson.db.password DATABASE_PORTNUM 5432 The port number of the database server. By default, use 5432 for PostgreSQL. DATABASE_SCHEMA mw_as The schema name for the Attestation Service database. The default is If a schema name other than the default is desired, it must be manually created on the database server, along with a user with full privileges over the schema, before the Attestation Service installation is performed. The installer only creates a database schema named DATABASE_USERNAME root The user name for the Attestation Service database. mtwilson.db.user DATABASE_VENDOR postgres The database vendor. Currently the only accepted value is b postgres. b INSTALL_LOG_FILE /tmp/mtwilson-install.log Sets the path for the installation log. INSTALL_PKGS \"postgres java tomcat logrotate privacyca SERVICES PORTALS\" Tells the installer which packages to be installed as a space-separated list. It takes the following possible options: b logrotate /b (installs the logrotate log management service) INSTALLED_MARKER_FILE /var/opt/intel/.mtwilsonInstalled Creates an installation flag in the designated location that can be used by ISVs to confirm whether the Attestation Service installation has been completed. JAVA_REQUIRED_VERSION 1.7.0_51 The minimum required Java version. The value shown is the default. LOG_COMPRESS compress Compresses old rotated logs in .zip,format. This setting used is only if b Logrotate /b is installed. LOG_COPYTRUNCATE copytruncate Truncate the original log file in place after creating a copy, instead of moving the old log file and optionally creating a new one. This setting used is only if b Logrotate /b is installed. LOG_DELAYCOMPRESS delaycompress Postpones compression of older rotated log files until the next log rotation. This setting used is only if b Logrotate /b is installed. LOG_OLD 2 Sets the number of log rotations to retain. This setting used is only if b Logrotate /b is installed. LOG_ROTATION_PERIOD daily Sets the time period used for log rotation. Acceptable values can include daily, hourly, weekly, monthly, and yearly. This setting used is only if b Logrotate /b is installed. LOG_SIZE 100M Creates a new log file and rotates at this size threshold. This setting used is only if b Logrotate /b is installed. MC_FIRST_PASSWORD mypasword The password for the administrative user defined in i MC_FIRST_USERNAME /i . MC_FIRST_USERNAME admin The username that is used for the initial default administrative user. This user account is used to approve any additional users created through the b Registration /b link on the logon page of the portal. MTWILSON_API_BASEURL https://$[MTWILSON_SERVER]:8443/ mtwilson/v1 The Base URL for Mt. Wilson v1 APIs. This value should be set to: i \"https://$[MTWILSON_SERVER]:/mtwilson/v1\" /i Replace with the port for the web server that is used (8443 for Tomcat by default). MTWILSON_OWNER root Sets the user that owns the Mt. Wilson installation (root by default).This user is created if it does not already exist. MTWILSON_OWNER_PASSWORD mypasword Sets the password for the Mt. Wilson owner user specified above if it does not already exist. Not used if the user already exists (does not change existing passwords). MTWILSON_SERVER Myserver.mydomain.com The IP Address or hostname of the Attestation Service server. MTWILSON_TAG_ADMIN_PASSWORD mypassword Password for the account that is used for pull tag provisioning. MTWILSON_TAG_ADMIN_USERNAME tagadmin Username for the account that is used for pull tag provisioning. MTWILSON_TAG_CERT_IMPORT_AUTO TRUE If set to b TRUE /b (default), all asset tag certificates are automatically imported to be matched to an appropriate host for tag attestation. If set to b FALSE /b , the certificates are not imported automatically. Attestation of asset tag information depends on the certificate being imported, so it is recommended that this be set to b TRUE /b for most deployments. MTWILSON_TAG_HTML5_DIR /usr/share/apache-tomcat-7.0.34/ webapps/mtwilson-portal/tag The path to the asset tag HTML5 information. This path can change if the web service has been installed in a directory other than the path used by default. MTWILSON_TAG_KEY_PASS mypassword Mt. Wilson tag key password. MTWILSON_TAG_KEYSTORE /opt/mtwilson/configuration/ serverAtag.jks Mt. Wilson tag keystore path MTWILSON_TAG_KEYSTORE_PASS mypassword Mt. Wilson tag keystore password. MTWILSON_TAG_SERVER_PRIVATE 192.168.1.1 The IP Address for the adapter on the private PXE network used for pull provisioning. Not required if pull provisioning is not used. NO_POSTGRES_MONIT FALSE Do not install PostgreSQL configuration for b monit /b . NO_TOMCAT_MONIT FALSE Do not install Tomcat configuration for b monit /b . POSTGRES_DATABASE $[DATABASE_SCHEMA] The schema name for the Attestation Service database. This should not be changed, as it is set by the i DATABASE_SCHEMA /i variable POSTGRES_HOSTNAME $[DATABASE_HOSTNAME] The IP Address or hostname of the database server. This should not be changed, as it is set by the i DATABASE_HOSTNAME /i variable. POSTGRES_PASSWORD $[DATABASE_PASSWORD] The password for the Mt. Wilson database. This should not be changed, as it is set by the i DATABASE_PASSWORD /i variable. POSTGRES_PORTNUM $[DATABASE_PORTNUM] The port number for the Postgres server. POSTGRES_REQUIRED_VERSION 9.3 The minimum required Postgres version. The value shown is the default. POSTGRES_USERNAME $[DATABASE_USERNAME] The user name for the Attestation Service database. This should not be changed, as it is set by the i DATABASE_USERNAME /i variable. PRIVACYCA_DOWNLOAD_PASSWORD The password for the PrivacyCA user defined in i PRIVACYCA_DOWNLOAD_USERNAME /i . PRIVACYCA_DOWNLOAD_USERNAME The username used for authenticating Trust Agent hosts. This username and its associated password are entered when installing the Trust Agent on a host so that the Trust Agent can download required certificate information from the Attestation Service server. TAG_ISSUER_DN Tag issuer distinguished name. TAG_PROVISION_EXTERNAL FALSE If set to b FALSE /b (default), the built-in certificate authority is used to sign certificate requests. If set to b TRUE /b , certificate requests are not signed automatically, so that the external certificate authority can sign them instead. TAG_PROVISION_NOCACHE TRUE If this is set to b TRUE /b , tag provisioning request ignores any existing valid certificates for the specified host and creates a new certificate with the specified selection. If set to b FALSE /b , the most recent existing valid certificate is provisioned, and a new certificate is only created if there is no existing valid certificate for the specified host. TAG_PROVISION_XML_ENCRYPTION_REQUIRED FALSE Determines whether XML encryption is required. If this is set to b FALSE /b , asset tag provisioning requests using an XML of tag selections can be used without being encrypted. If this value is set to b TRUE /b , only encrypted XMLs are accepted. TAG_PROVISION_XML_PASSWORD mypassword XML encryption password. TAG_VALIDITY_SECONDS 31536000 Tag certificate validity duration in seconds. TOMCAT_CREATE_SSL_CERT yes A b yes /b value tells the installer to create a new SSL certificate. A b no /b skips the SSL certificate creation. An SSL certificate then needs to be provided. TOMCAT_REQUIRED_VERSION 7 The minimum required Tomcat version. TOMCAT_SSL_CERT_CN $[MTWILSON_SERVER] The Common Name (CN) of the SSL certificate MUST contain the IP Address or the hostname of the Mt. Wilson server. Use comma-separated values for multiple CN entries (hostname, IP, etc.). This needs to include the IP Addresses for ALL adapters that communicate with Mt. Wilson. Using the value of $[MTWILSON_SERVER], 127.0.0.1,,and the IP Address for the PXE network for Pull asset tag provisioning (if Pull provisioning is used) is recommended. WEBSERVER_VENDOR tomcat The application server to be used. Currently the only accepted value is b tomcat /b . Several users are created during the Attestation Service installation. Each of these users is created with different roles and permissions for different purposes: MC_FIRST_USERNAME This user is created with full Administrator rights. This user can be used to approve new users, as well as any other task with the Attestation Service. Use this user sparingly. PRIVACYCA_DOWNLOAD_USERNAME This user is created with permissions to create and retrieve TPM passwords, to download the PrivacyCA certificate from the Attestation Service, and to create VM attestations. This user is intended for use when installing the Trust Agent. MTWILSON_TAG_ADMIN_USERNAME This user is created with permissions to create host attestations, as well as all permissions for Asset Tagging. This user is recommended for use with the OpenStack Controller for OpenStack deployments, as it has all required permissions for the OpenStack scheduler plugins and other tasks required for integration. 10.2.1.2 Configuration Options These configuration settings are saved in .properties files in /etc/intel/cloudsecurity/ . These files are encrypted by default after installation. These properties can be viewed using the following command: # mtwilson export-config --in= path_to_properties_file --stdout If no specific .properties file is specified, mtwilson.properties is used. To change the value of any configuratiofn setting in mtwilson.properties, use the following command: # mtwilson config key value To change the value of any property not in mtwilson.properties, decrypt the needed properties file, change the property, and then re-encrypt the file: # mtwilson export-config --in= path_to_encrypted_file --out= temporary_filename Make changes in the temporary file: # mtwilson import-config --in= temporary_filename --out= path_to_encrypted_file Note: The mtwilson.properties file is a master configuration file. When Attestation Service components start up, properties configured in this file take precedence. Table 3. mtwilson.properties 10.3.3 Attestation Servic Configuration Key Default Value or Example Notes dbcp.validation.on.borrow= true dbcp.validation.on.return= false dbcp.validation.query= select 1 . mtwilson.api.tls.policy.certificate.sha1= sha1 of the Attestation Service TLS certificate sha1 of the Attestation ServiceTLS certificate. mtwilson.api.url= https\\://{AttestationService IP or Hostname}\\:8443/mtwilson/v1 Base URL for v1 APIs. mtwilson.as.autoUpdateHost= false This setting is for a futurefeature of the Attestation Service.This setting must be set to false mtwilson.as.dek= Randomly-generated password Decryption key used by the Attestation Service to encrypt sensitive connectivity details in the database, such as vCenter administrator passwords. mtwilson.privacyca.aik.p12.password= Randomly-generated password Password for the PrivacyCA Attestation Identity Key (AIK). mtwilson.privacyca.ek.p12.password= Randomly-generated password Password for the Privacy CA Endorsement Key (EK). mtwilson.tls.keystore.password= Randomly-generated password Password to the Attestation Service TLS keystore. Web Service Settings mtwilson.webserver.vendor= tomcat Defines the web service application being used. tomcat.admin.password= Randomly-generated password Randomly-generated password for the web service account. tomcat.admin.username= admin Defines the username for a web service account that is used to run Attestation Service components instead of root. Database Configuration mtwilson.db.driver= org.postgresql.Driver The database connection driver to be used. mtwilson.db.host= 127.0.0.1 IP Address or hostname of the database server. mtwilson.db.password= password Database password. mtwilson.db.port= 5432 Database server port. mtwilson.db.schema= mw_as Database schema name (mw_as by default). mtwilson.db.user= root Database username. Asset Tag Configuration mtwilson.atag.html5.dir= /usr/share/apache-tomcat-7.0.34/ webapps/mtwilson-portal/tag The path to the asset tag HTML5 information. By default this is: i /usr/share/apache-tomcat-7.0.34/ webapps/ mtwilson-portal/tag /i mtwilson.atag.mtwilson.baseurl= https\\://[AttestationService Ip or Hostname]\\:8443/mtwilson/v1/ AttestationService/resources/ assetTagCert he base URL for Asset Tag APIs. This appears in the following format: i https\\://[MtWilson IP or Hostname]\\:[MtWilson Port]/mtwilson/ v1/ AttestationService/resources/assetTagCert /i mtwilson.atag.url= https\\://[AttestationService IP or Hostname]\\:8443/mtwilson/v2 The base URL for Asset Tag API resources. The default value is: https\\://[AttestationService IP or Hostname]\\:8443/mtwilson/v2. mtwilson.locales= en-US Defines the locale for the Attestation Service language settings. Currently only en-US is supported. mtwilson.tag.api.password= Randomly-generated password Credentials for a background user used by the Asset Tag service. mtwilson.tag.api.username= tagservice Credentials for a background user used by the Asset Tag service. tag.issuer.dn= CN\\=mtwilson-tag-ca Distinguished Name to be used in Asset Tag certificates created by the Attestation Service. tag.provision.autoimport= true If set to true (default), all asset tag certificates are automatically imported to be matched to an appropriate host for tag attestation. If set to b false /b , the certificates are not imported automatically. Attestation of asset tag information depends on the certificate being imported, so Intel recommends that this be set to b true /b for must deployments. tag.provision.external= false Use external CA instead of the built-in CA. If set to b true /b , certificates are not automatically signed by the Attestation Service CA, and all certificates need to be signed by the external authority instead. Set to b false /b by default. tag.provision.xml.encryption.password= password Password to decrypt encrypted XML files. tag.provision.xml.encryption.required= false Determines whether the Attestation Service accepts Asset Tags selections unencrypted. Set to b false /b by default, which enables plain- text XML to be used when generating selections or certificates. If set to b true /b , only properly encrypted XML input is allowed. tag.validity.seconds= 31536000 This defines the validity duration for Asset Tag certificates in seconds. TLS Policy Configuration mtwilson.default.tls.policy.id= TRUST_FIRST_CERTIFICATE Sets the default TLS policy. Can be the name or Universally Unique Identifier (UUID) of a specific shared policy. This policy is used for all APIs that do not specify another TLS policy. mtwilson.tls.policy.allow= certificate,certificate-digest, public-key,public-key-digest, TRUST_FIRST_CERTIFICATE, INSECURE Comma-separated list of allowed TLS policy types. Possible values are: Table 4. audit-handler.properties Configuration Key Default Value or Example Notes mountwilson.audit.async true Defines whether to do the auditing in a synchronous manner, or not. mountwilson.audit.db.driver org.postgresql.Driver JDBC connection driver. mountwilson.audit.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.audit.db.password= password Database password. mountwilson.audit.db.port= 5432 Database port mountwilson.audit.db.schema= mw_as Database schema name. mountwilson.audit.db.user= root Database username. mountwilson.audit.enabled= true Enables or disables auditing. mountwilson.audit.logunchangedcolumns false Defines whether to log all the columns or just the changed columns for any updates. Table 5. attestation-service.properties Configuration Key Default Value or Example Notes Database Configuration mountwilson.as.db.driver= org.postgresql.Driver These settings are used by the attestation service to verify Attestation Identification Key (AIK) quotes. b Do not change these settings /b . untwilson.as.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.as.db.password= password The database connection driver to be used. mountwilson.as.db.port= 5432 Database schema name (mw_as by default). mountwilson.as.db.schema= mw_as Database username. mountwilson.as.db.user= root Database password Trust Agent Quote Verification com.intel.mountwilson.as.aikqverify.cmd= aikqverify com.intel.mountwilson.as.home= /var/opt/intel/aikverifyhome com.intel.mountwilson.as.openssl.cmd= openssl.sh SAML Configuration saml.key.alias= samlkey1 Alias of the SAML certificate in the SAML keystore. saml.key.password= Randomly-generated password Password for the SAML certificate in the SAML keystore. saml.keystore.file= /etc/intel/cloudsecurity/SAML.jks The path to the SAML keystore in .jks,format. saml.keystore.password= Randomly-generated password Password to the SAML keystore. saml.validity.seconds= 3600 The length of time, in seconds, that a SAML assertion is considered valid. Performance mtwilson.bulktrust.threads.max= 32 Bulk trust APIs can get attestation reports from multiple hosts simultaneously. This setting controls the maximum number of concurrent threads that the Attestation Service uses. This value is set at 32 threads by default. Miscellaneous com.intel.mountwilson.as.trustagent.timeout 600 Number of seconds that Attestation Service should wait for a response from a trust agent. mtwilson.api.url= https\\://[AttestationService IP or Hostname]\\:8443 /mtwilson/v1 The base URL for the v1 APIs. mtwilson.as.dek Randomly-generated password The base64 encoded form of the data encryption key. This key is used to encrypt credentials stored in the database that are used to access vCenter and Citrix Xen APIs. privacyca.server Hostname or IP Address Set the local host's external IP Address or hostname. Table 6. wlm-service.properties Configuration Key Default Value or Example Notes Database Connection mountwilson.as.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.as.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.as.db.password= password Database password. mountwilson.as.db.port= 5432 Database server port. mountwilson.as.db.schema= mw_as Database schema name (mw_as by default). mountwilson.as.db.user= root Database username. Table 7. management-service.properties Configuration Key Default Value or Example Notes mtwilson.api.baseurl https://attestation.servername:8443/ mtwilson/v1 Database mountwilson.ms.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.ms.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.ms.db.password= password Database password. mountwilson.ms.db.port= 5432 Database server port. mountwilson.ms.db.schema= mw_as Database schema name (mw_as by default). mountwilson.ms.db.user= root Database username. mtwilson.api.baseurl= https://10.1.71.130:8443/mtwilson/v1 Base URL for the v1 APIs. mtwilson.api.ssl.policy TRUST_FIRST_CERTIFICATE mtwilson.ms.biosPCRs= 0;17 Configures the default PCRs to be used for a future Attestation Service feature. b DO NOT CHANGE /b mtwilson.ms.bulkmgmt.threads.max 32 mtwilson.ms.registration.hostTimeout 600 Timeout value for bulk host registration in seconds. mtwilson.ms.vmmPCRs= 18;19;20 Configures the defaultPCRs to be used for a future Attestation Service feature. b DO NOT CHANGE /b . mtwilson.privacyca.certificate.file= PrivacyCA.p12.pem Filename of the Attestation Service Privacy CA certificate in i .pem /i format. mtwilson.rootca.certificate.file= MtWilsonRootCA.crt.pem Filename of the Attestation Service Root CA certificate in i .pem /i format. mtwilson.saml.certificate.file= saml.crt.pem Filename of the Attestation Service SAML certificate in i .pem /i format. mtwilson.ssl.required true mtwilson.tls.certificate.file= ssl.crt.pem Filename of the Attestation Service TLS certificate in i .pem /i format. Table 8. mtwilson-portal.properties Configuration Key Default Value or Example Notes mtwilson.api.baseurl= https://[AttestationService IP or Hostname]:8443/mtwilson/v1 The base URL for the v1 APIs. mtwilson.api.ssl.policy= TRUST_FIRST_CERTIFICATE Name or UUID of the default TLS Policy to be used when a TLS policy is not specified. Management Console properties mtwilson.mc.keystore.dir= /var/opt/intel/management-console/ users Path to users folder for management console user keystores. This property is no longer used as user keystores are now located in the database. Portal Icon Configuration imagesRootPath= images/ Root path for portal icons. kvm= images/kvm.png Path to the icon to display for KVM hosts suse= images/suse.png Path to the icon to display for SuSe hosts. trustFalse= images/Untrusted.png Path to the icon to display for untrusted attestations trustTrue= images/Trusted.png Path to the icon to display for trusted attestations. trustUnknown= images/Unknown.png Path to the icon to display for unknown attestations. ubuntu= images/ubuntu.png Path for the icon to display for Ubuntu hosts. vmware= images/vmware.png Path to the icon to display for VMware hosts. xen= images/xen.png Path to the icon to display for Xen hosts. Session Timeout Settings mtwilson.tdbp.sessionTimeOut= 1800 Duration in seconds for the portal login session to time out and require a new login. Page Formatting mtwilson.tdbp.paginationRowCount= 10 Number of results to display per page. Trust Dashboard Users Configuration mtwilson.tdbp.keystore.dir= /var/opt/intel/trust-dashboard/users Path to users folder for Trust Dashboard user keystores. This property is no longer used as user keystores are now located in the database. Whitelist Portal Properties mtwilson.wlmp.keyStoreFileName= /etc/intel/cloudsecurity/mw.jks Deprecated and no longer used. mtwilson.wlmp.moduleAttestation= VMWARE mtwilson.wlmp.moduleAttestationVersion= 5.1 mtwilson.wlmp.openSourceHypervisors= KVM:Xen mtwilson.wlmp.pagingSize= 8 Number of results to display per page. mtwilson.wlmp.sessionTimeOut= 1800 Duration in seconds for the portal login session to time out and require a new login. mtwilson.wlmp.vmwareHypersior= ESXi Database Configuration mountwilson.as.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.as.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.as.db.password= password Database password. mountwilson.as.db.port= 5432 Database server port. mountwilson.as.db.schema= mw_as Database schema name (mw_as by default). mountwilson.as.db.user= root Database username. mountwilson.mc.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.mc.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.mc.db.password= password Database password mountwilson.mc.db.port= 5432 Database server port. mountwilson.mc.db.schema= mw_as Database schema name (mw_as by default). mountwilson.mc.db.user= root Database username. mountwilson.mcp.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.mcp.db.port= 5432 Database server port. mountwilson.mcp.db.schema= mw_as Database schema name (mw_as by default). mountwilson.mcp.db.user= root Database username. mountwilson.ms.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.ms.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.ms.db.password= password Database password mountwilson.ms.db.port= 5432 Database server port. mountwilson.ms.db.schema= mw_as Database schema name (mw_as by default). mountwilson.ms.db.user= root Database username. mountwilson.tdbp.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.tdbp.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.tdbp.db.password= password Database password mountwilson.tdbp.db.port= 5432 Database server port. mountwilson.tdbp.db.schema= mw_as Database schema name (mw_as by default). mountwilson.tdbp.db.user= root Database username. mountwilson.wlmp.db.driver= org.postgresql.Driver The database connection driver to be used. mountwilson.wlmp.db.host= 127.0.0.1 IP Address or hostname of the database server. mountwilson.wlmp.db.password= password Database password mountwilson.wlmp.db.port= 5432 Database server port. mountwilson.wlmp.db.schema= mw_as Database schema name (mw_as by default). mountwilson.wlmp.db.user= root Database username. 10.2.1.3 Security Configuration The Attestation Service uses the Apache Shiro access control framework. Background information on Apache Shiro can be found on the project website ( https://shiro.apache.org/web.html ). This section describes how Apache Shiro is used in the Attestation Service and how to configure authentication and authorization. Authentication and authorization in the Attestation Service are configured in the shiro.ini file, located in /etc/intel/cloudsecurity . The default shiro.ini configuration, shown below, defines a series of realms and authentication filters, and then applies the filters to various URL patterns. A realm is the source of authentication information, for example the hashed password table. An authentication filter examines each incoming request and determines if it knows how to parse it to obtain the client's credentials and pass them on to the corresponding realm to obtain the authentication information corresponding to the client's credentials. The credentials (authorization token) are evaluated against the authentication information to determine if the password is correct, or if the request signature was can be verified with a known X059 certificate. Every authentication filter has a chance to look at the request. If no credentials are provided that the filter recognizes, the filter ignores that request and the next filter is checked. However, if credentials are provided that are recognized by the filter but the credentials cannot be validated, the filter rejects the request. This means that when configuring trusted IP Addresses for clients to connect without authentication, if the clients provide incorrect HTTP BASIC or HTTP X509 Authorization credentials, their request is rejected even though it is coming from a trusted IP Address. Note: All requests from a hostname or IP Address listed in iniHostRealm.allow are allowed without any authentication or user role application. This option is commented out by default. Use only with caution. Following is a sample of shiro.ini as configured in the Attestation Service: # shiro configuration\n# Reference: https://shiro.apache.org/authentication.html [main]\nssl.enabled = true ssl.port = 8443\n\njdbcDataSource=com.intel.mtwilson.shiro.jdbi.JdbcDataSource\n\njdbcPasswordRealm=com.intel.mtwilson.shiro.jdbi.JdbcPasswordRealm passwordMatcher=com.intel.mtwilson.shiro.authc.password.PasswordCredentialsMatcher jdbcPasswordRealm.credentialsMatcher=$passwordMatcher\n\njdbcCertificateRealm=com.intel.mtwilson.shiro.jdbi.JdbcCertificateRealm certificateMatcher=com.intel.mtwilson.shiro.authc.x509.X509CredentialsMatcher jdbcCertificateRealm.credentialsMatcher=$certificateMatcher\n\niniHostRealm=com.intel.mtwilson.shiro.authc.host.IniHostRealm\n#iniHostRealm.allow=127.0.0.1 hostMatcher=com.intel.mtwilson.shiro.authc.host.HostCredentialsMatcher iniHostRealm.credentialsMatcher=$hostMatcher\n\nauthcStrategy = com.intel.mtwilson.shiro.LoggingAtLeastOneSuccessfulStrategy\n\nsecurityManager.realms = $iniHostRealm, $jdbcCertificateRealm, $jdbcPasswordRealm securityManager.authenticator.authenticationStrategy = $authcStrategy\n\nauthcPassword=com.intel.mtwilson.shiro.authc.password.HttpBasicAuthenticationFilter authcPassword.applicationName=Mt Wilson\nauthcPassword.authcScheme=Basic authcPassword.authzScheme=Basic\n\nauthcX509=com.intel.mtwilson.shiro.authc.x509.X509AuthenticationFilter authcX509.applicationName=Mt Wilson\n\n# this host filter is an including filter - if any host matches this list it\n# will be granted access, but if it doesn't match this list it will be ignored\n# and have an opportunity to authenticate with x509 or password hostAllow=com.intel.mtwilson.shiro.authc.host.HostAuthenticationFilter\n\n[urls]\n# the first match wins so order is important\n# /path/* will match /path/a and /path/b but not /path/c/d\n# /path/** will match /path/a and /path/b and also /path/c/d\n# /v2/login is a real resource in mtwilson-shiro-ws-v2 but /v2/logout is a\n# virtual resource handled by shiro's logout filter\n/v2/login = anon\n/v2/logout = logout\n/v1/ManagementService/resources/ca/** = ssl\n/v1/ManagementService/resources/apiclient/register = ssl\n/v1/ManagementService/resources/i18n/locales = ssl\n/v2/version = ssl\n/v2/rpc/register-user-with-certificate = ssl\n/v2/ca-certificates/root = ssl\n/v2/ca-certificates/saml = ssl\n/v2/ca-certificates/privacy = ssl\n/v1/** = ssl, hostAllow, authcX509, authcPassword, perms\n/v2/** = ssl, hostAllow, authcX509, authcPassword, perms\n/static/** = anon 10.2.1.4 Encrypting Configuration Files The Attestation Service configuration files are encrypted by default. The following commands can be used to decrypt or re-encrypt the files. (Optional) Set the configuration file password (MTWILSON_PASSWORD). # export MTWILSON_PASSWORD=\"password\" This step is optional. By default, this password is randomly generated and configured during the Attestation Service installation. The password is automatically imported when executing Attestation Service commands using either the root or mtwilson OS user accounts. Ensure that all changes to be made to the .properties files in /etc/intel/cloudsecurity have already been made before proceeding. Encrypt the files (each .properties file must be encrypted and decrypted individually). # mtwilson import-config --in=/etc/intel/cloudsecurity/attestation- service.properties\t--out==/etc/intel/cloudsecurity/attestation- service.properties To edit the .properties files again later, decrypt them using the following command: # mtwilson export-config --in=/etc/intel/cloudsecurity/attestation- service.properties\t--out==/etc/intel/cloudsecurity/attestation- service.properties The files can now be edited normally, and Step 1 through Step 3 can be repeated to re-encrypt the files. The ImportConfig and ExportConfig commands have the following additional options: To see/export the contents of the encrypted configuration file without replacing it, use the --stdout option: # mtwilson export-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n    --stdout To export the contents of the encrypted configuration file to another file, use the --out option: # mtwilson export-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n   --out=outputfilename.properties. To import/encrypt a configuration file from another source like a pipe, use the --stdin option: # cat editable.properties | mtwilson export-config --out=/etc/intel/cloudsecurity/ mtwilson.properties --stdin. To import/encrypt a configuration file from another file, use the --in option: # mtwilson import-config --in=inputfilename.properties --out=/etc/intel/ cloudsecurity/mtwilson.properties --in=inputfilename.properties. (Optional) By default, the MTWILSON_PASSWORD variable is used, and this variable is stored in /opt/mtwilson/configuration/.mtwilson_password . The password is randomly generated during installation, and it is not recommended to change the password. However, if a variable other than MTWILSON_PASSWORD is used, users can specify the name of that variable with the --env-password option like this: --env-password=MY_OTHER_VARIABLE and this can be done for both import and export. Note that the value you supply here is the name of the variable, not the password itself. For example: export OTHER_PASSWORD=changeit\n\nmtwilson import-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n--out=/etc/intel/cloudsecurity/mtwilson.properties --env-password=OTHER_PASSWORD\n\nmtwilson export-config --in=/etc/intel/cloudsecurity/mtwilson.properties\n--out=/etc/intel/cloudsecurity/mtwilson.properties --env-password=OTHER_PASSWORD If users do not provide the --env-password parameter, the default environment variable MTWILSON_PASSWORD is used. If users specify a variable but it is empty, or if users do not specify -- env-password and MTWILSON_PASSWORD is not set, users are prompted for the password. mtwilson setup ImportConfig /etc/intel/cloudsecurity/mtwilson.properties Note: The Attestation Service Java process needs the encryption password variable resident in memory before the JVM loads. This is handled by default for the MTWILSON_PASSWORD variable stored in /opt/mtwilson/configuration/.mtwilson_password . Custom  configuration is needed to ensure any other variable is loaded before the JVM starts on system boot. Otherwise, the variable needs to be manually set before starting the Attestation Service services. Using an alternate variable is supported but strongly not recommended. Cannot get password from environment variable 'OTHER_PASSWORD' specified by option env- password You must protect the Mt Wilson Encrypted Configuration File with a password. \n  Password: Password (again): This means that the value of MTWILSON_PASSWORD or its substitute MUST be set before the JVM loads, including at system startup. If this environment variable is not set at system boot before the JVM is started, the Attestation Service services do not start unless manually restarted using the mtwilson restart command and the user on the Attestation Service console then is prompted for the password as follows: Cannot get password from environment variable 'OTHER_PASSWORD' specified by option 'env-password'\nA password is required to unlock the Mt Wilson Encrypted Configuration File. \nPassword 10.2.1.5 Changing the Database Password The Attestation Service includes a command-line utility to automatically change the database password and update all related Attestation Service properties files. The command is: mtwilson change-db-pass This utility prompts for the new password, and automatically updates the database password in PostgreSQL as well as all of the .properties files. If the .properties files have been encrypted, the command automatically handles decryption and re-encryption as long as the appropriate encryption password variable ( $MTWILSON_PASSWORD by default) has been set. The encryption password is only required if encryption is being used. 10.2.2 Trust Agent By default, the Trust Agent configuration .properties files are encrypted during installation. To view the contents of any Trust Agent .properties file, use the following commands: View only: tagent export-config --stdout Decrypt: tagent export-config --in= path_to_encrypted_file --out= path_to_temp_file Encrypt: tagent import-config --in= path_to_temp_file --out= path_to_encrypted_file 10.2.2.1 Trust Agent without OpenStack The settings listed in Table 9 can be declared in trustagent.env before setup, or edited in trustagent.properties (default location is /opt/trustagent/configuration/trustagent.properties ) after setup, with the exception of TRUSTAGENT_PASSWORD , which is only available as an environment variable. Table 9. trustagent.env Environment Variable Default Value or Example Notes AIK_INDEX Default value is 1. Example:1 AIK_SECRET Generated automatically.  Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. JAVA_REQUIRED_VERSION Default: 1.7,Possible values: Java version number in the format Trust Agent for Intel MTWILSON_API_PASSWORD Example: 94i3kPN7bObnJ5Qo Password corresponding to mtwilson.api.username. MTWILSON_API_URL Example: https://10.1.71.56:8443/mtwilson/v2 The URL is for v2 APIs directly, because the 2.0 trust agent does not use v1 APIs. MTWILSON_API_USERNAME Example: admin Obtain this from the Intel MTWILSON_TLS_CERT_SHA1 No default value. 20 hex-encoded bytes. Obtain this from the Intel sha1sum /etc/intel/cloudsecurity/ssl.crt TPM_OWNER_SECRET 20 hex-encoded bytes. This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re-installation. Note: If the OS is re-installed, the file /var/lib/tpm/system.data contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS. TPM_QUOTE_IPV4 Default: true When enabled (not set or set to true ) causes the challenger's nonce to be extended with the IP Address of the trusted host for quoting to prevent quote relay attacks. This is a new feature in Intel false ). TPM_SRK_SECRET Constant value. Example: 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. TRUSTAGENT_KEYSTORE_PASSWORD Generated automatically. Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. TRUSTAGENT_LOGIN_PASSWORD User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password TRUSTAGENT_LOGIN_REGISTER true The Trust Agent requires authentication for API access. Setting this option to true causes the Trust Agent, during installation, to pre-register its authentication credentials with the Attestation Service. By pre-registering the credentials, no credentials need to be provided by the user when whitelisting or registering the host. TRUSTAGENT_LOGIN_USERNAME User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password. TRUSTAGENT_PASSWORD No default value. Possible values: Any combination of printable characters. The password used to encrypt and decrypt the trustagent.properties file. This password must be exported in an environment variable for the Trust Agent to use it. TRUSTAGENT_TLS_CERT_DN Possible values: Valid X509 distinguished name with commas separating the parts. For example. CN=trustagent,OU=DCG,O=Intel, L=Folsom,C=US Default: CN=trustagent Determines the subject name of the trust agent's TLS certificate. TRUSTAGENT_TLS_CERT_DNS Generated automatically. Comma- separated list of all IP Addresses used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. TRUSTAGENT_TLS_CERT_IP Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. Table 10. /opt/trustagent/configuration/trustagent.properties Configuration Key Default Value or Example Notes aik.secret= Generated automatically. Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. binding.key.secret= dcb272b851a853a0f51d085fb0640a156 8af2fe7 hardware.uuid= 00886B98-994D-E411-906E-,0017A4403562 Host hardware UUID. Do not change this value . mtwilson.api.password= password Password corresponding to mtwilson.api.username . mtwilson.api.url= https://[Attestation Service IP or Hostname]:8443/mtwilson/v2 The URL is for v2 APIs directly because the 2.0 trust agent does not use v1 APIs. mtwilson.api.username= Example: admin Obtain this from the Intel mtwilson.tls.cert.sha1= c5b85d90e13d4258f013023854c9664c0,dc327af 20 hex-encoded bytes. Obtain this from the Attestation Service server: sha1sum /etc/intel/cloudsecurity/ssl.crt signing.key.secret= 68a426fd332058a21189944220da540b,1fbc5710 tpm.owner.secret= 424c6f724ac9d23f52cb97ef63ec12e62c 893c30 20 hex-encoded bytes. This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re- installation. **Note:**If the OS is re-installed, the file /var/lib/tpm/system.data contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS. tpm.srk.secret= 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. trustagent.keystore.password= Generated automatically. Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. trustagent.tls.cert.dn= CN=trustagent This setting determines the subject name of the Trust Agent's TLS certificate. trustagent.tls.cert.dns= Generated automatically Comma- separated list of all hostnames used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. trustagent.tls.cert.ip= Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. 10.2.2.2 Trust Agent for OpenStack Compute Node The settings listed in Table 11 can be declared in mtwilson-openstack.env before setup or edited in the following configuration files (default locations provided): Table 11.  mtwilson-openstack.env Environment Variable Deefault Value or Example Notes AIK_INDEX Default value is 1. Example: 1 AIK_SECRET Generated automatically.  Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. DISTRIBUTION_LOCATION Default:* /usr/lib/python2.7/dist- package* (Optional) Python distribution location. If python distribution location is at customized path (not at default path), only this value needs to be added. DEPLOYMENT_TYPE Docker (Optional) This variable is required when you install the trust agent on a Docker container host GRUB_FILE No default value. Example: /boot/grub/grub.cfg Tbootxm requires grub file to update it with TCB Protection menu entry. JAVA_REQUIRED_VERSION Default: 1.7 Possible values: Java version number in the format Trust Agent for Intel KMSPROXY_SERVER KmsProxyIpAddress KMSPROXY Server IP Address is used for communication with other Intel KMSPROXY_SERVER_PORT 8080 KMSPROXY Server communicates on port 8080. MANIFEST_PATH No default value. Example: /root/manifest.xml Tboot-xm requires manifest.xml file that contains list of files/directories for measurement of host. Path of manifest.xml is not fixed. Tboot-xm installer picks file from mentioned path from tbotxm.env and copies it to /boot/trust/manifest.xml . MTWILSON_API_PASSWORD Example: 94i3kPN7bObnJ5Qo Password corresponding to mtwilson.api.username . MTWILSON_API_URL Example: ttps://10.1.71.56:8443/mtwilson/v2/ The URL is for v2 APIs directly because the,2.0 trust agent does not use v1 APIs. MTWILSON_API_USERNAME Example: admin Obtain this from the Intel MTWILSON_TLS_CERT_SHA1 No default value 20 hex-encoded bytes. Obtain this from the Intel sha1sum /etc/intel/cloudsecurity/ssl.crt. NOVA_CONFIG_DIR_LOCATION_PATH Default: /etc/nova/ (Optional) Location path of nova configuration files. If nova configuration files are at different location (not at default path), only this value needs to be added. TPM_OWNER_SECRET 20 hex-encoded bytes. This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re-installation.  **Note:**If the OS is re-installed, the /var/lib/tpm/system.data file contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS. TPM_QUOTE_IPV4 Default: true When enabled (not set or set to true ) causes the challenger's nonce to be extended with the IP Address of the trusted host for quoting to prevent quote relay attacks. This is a new,feature in Intel false ). TPM_SRK_SECRET Constant value.,Example: 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. TRUSTAGENT_KEYSTORE_PASSWORD Generated automatically. Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. TRUSTAGENT_LOGIN_PASSWORD User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password. TRUSTAGENT_LOGIN_USERNAME User-specified By default, the Trust Agent credentials are randomly generated automatically during installation. This optional property allows the administrator to define their own username/ password. TRUSTAGENT_PASSWORD No default value. Possible values: Any combination of printable characters. The password used to encrypt and decrypt the trustagent.properties file. This password must be exported in an environment variable for the Trust Agent to use it. TRUSTAGENT_TLS_CERT_DN Possible values: Valid X509 distinguished name with commas separating the parts. For example. CN=trustagent,OU=DCG,O=Intel,L=F olsom,,C=US,Default: CN=trustagent Determines the subject name of the Trust Agent's TLS certificate. TRUSTAGENT_TLS_CERT_DNS Generated automatically. Comma- separated list of all IP Addresses used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. TRUSTAGENT_TLS_CERT_IP Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. Table 12. /opt/trustagent/configuration/trustagent.properties Configuration Key Default Value or Example Notes aik.secret= Generated automatically. Example: 024c03d1a2cb95b17a491caf480526f7 01fc61c7 20 hex-encoded bytes. binding.key.secret= dcb272b851a853a0f51d085fb0640a156 8af2fe7 Generated automatically. It is the authorization data (password) to retrieve the binding key. Binding key certificate is used to wrap the decryption key for the VM. hardware.uuid= Example: 00886B98-994D-E411-906E-,0017A4403562 Host hardware UUID. Do not change this value . mtwilson.api.password= password Password corresponding to mtwilson.api.username. mtwilson.api.url= https://[Attestation Service IP or Hostname]:8443/mtwilson/v2 The URL is for v2 APIs directly because the 2.0 trust agent does not use v1 APIs. mtwilson.api.username= Example: admin Obtain this from the Intel mtwilson.tls.cert.sha1= c5b85d90e13d4258f013023854c9664c0,dc327af 20 hex-encoded bytes. Obtain this from the Attestation Service server: sha1sum /etc/intel/cloudsecurity/ssl.crt signing.key.secret= 68a426fd332058a21189944220da540b,1fbc5710 Generated automatically. It is the authorization data (password) to retrieve the signing key. Signing key certificate is used to sign the VM attestation report. tpm.owner.secret= 424c6f724ac9d23f52cb97ef63ec12e62c 893c30 20 hex-encoded bytes.  This can be used to preserve the TPM Owner Secret between installations so that TPM ownership does not need to be reset for a re- installation Note: If the OS is re-installed, the file /var/lib/tpm/system.data contains sealed persistent TPM secrets unique to the TPM owner and needs to be preserved from just before the old OS is wiped and replaced immediately after trousers is re-installed in the new OS tpm.srk.secret= 00000000000000000000 Many tools assume this well-known SRK comprised of 20 zero bytes. trustagent.keystore.password= Generated automatically.  Example: 9JF7+HhpMUM_ The password used to access the trustagent.jks file with the keytool. trustagent.tls.cert.dn= CN=trustagent This setting determines the subject name of the Trust Agent's TLS certificate. trustagent.tls.cert.dns= Generated automatically. Comma- separated list of all hostnames used by the host. These names are added as subject alternative names on the Trust Agent's TLS certificate. By default, all names in /etc/hosts corresponding to local IP Addresses are used. If not specified, the installer performs a reverse DNS lookup for all IP Addresses found in the ifconfig output. In some environments this can cause a delay during installation. Manually specifying the subject names can eliminate this delay. trustagent.tls.cert.ip= Generated automatically. Possible values: Comma-separated list of IP Addresses. These addresses are added as subject alternative names on the Trust Agent's TLS certificate. By default, all IP Addresses shown in the ifconfig output are used. Table 13. /tbootxm.conf Configuration File Default Value or Example Notes MANIFEST_PATH Default: /boot/trust/manifest.xm Tboot-xm requires manifest.xml file that contains list of files/directories for measurement of host. This is the Host Trust Policy. PARTITION_INFO Example: {/dev/mapper/intelmh--vg-root:/,/dev/sda2:/boot} Tboot-xm requires list of partitions on host to mount before measuring the host. Table 14. /opt/policyagent/configuration/policyagent.properties Configuration Key Default Value or Example Notes kmsproxy.server 192.168.1.2 IP Address or hostname for KMS Proxy service kmsproxy.server.port 8080 Default HTTP port for KMS Proxy service endpoint. sparsefile.size Size in kilobytes for cryptfs sparse file. This setting should not be used, as the Agent determines the appropriate size automatically for a given image. Table 15. /opt/vrtm/configuration/vRTM.cfg Configuration File Default Value or Example Notes cancelled_vm_max_age Example: 120 Time (in seconds) after which vRTM's remove canceled (failed) VM entries from its internal data structure and trust reports related to those. entry_cleanup_interval Example: 30 Time interval (in seconds) after which vRTM's clean up thread finds and removes canceled VM entries in its table. max_thread_limit Default: 63 Maximum number of threads vRTM can start to process requests. rpcore_ip Default: 127.0.0.1 This value is fixed. No need to change this unless vRTM needs to be accessed remotely by some application. rpcore_port Default: 16005 The port on which vRTM service listens. trust_report_dir Default: /var/lib/nova/trustreports/ Location of the trust report directory where vRTM stores trust reports. vrtm_root=../ Default: ../ Root directory of vRTM installation. 10.2.2.3 OpenStack Compute Changes Table 16 , Table 17 , and Table 18 list the changes made to OpenStack and hypervisor components by the Trust Agent installer (OpenStack deployments only). Table 16.  Nova Configuration Changes File Changes /etc/nova/rootwrap.d/compute.filter Added a command filter to ensure that the call to policyagent script is done as root user. Table 17.  Libvirt Driver Changes File Changes /usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py Changes to call the policyagent script during launch and delete VM instance.  In VM launch flow, the download image from Glance and call to policyagent steps are combined in a synchronized block to avoid nova and policyagent trying to access the base image at the same time. Table 18.  Nova Compute Changes File Changes /usr/lib/python2.7/dist-packages/nova/compute/manager.py Changes to add two additional properties related to VM measurement in instance metadata on the life cycle events of the VM. /usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py Changes to call Attestation Service to retrieve the trust status of the VM while updating resources of the compute node in the database. /usr/lib/python2.7/distpackages/nova/exception.py Introduced a new custom exception for VM measurement. 10.2.2.4 Command-Line Options Encrypting the Trust Agent Configuration Files By\ndefault, the Trust Agent configuration .properties files are encrypted during installation. To view, decrypt, or encrypt the contents of any Trust Agent .properties file, use the following commands: View only: # tagent export-config --stdout Decrypt: # tagent export-config --in= path_to_encrypted_file --out= path_to_temp_file Encrypt: # tagent import-config --in= path_to_temp_file --out= path_to_encrypted_file Execute All Setup Tasks The setup tasks are documented below. The following command executes all setup tasks, in order: # tagent setup Any environment variables needed by setup tasks should be set before running the command. When all setup tasks complete successfully, there is no output on the screen. Errors and warnings are shown on the screen. More detailed information is written to the trust agent log. Setup The setup tasks complete the following steps: Copy environment variables defined in trustagent.env to trustagent.properties , automatically converting names. For example MTWILSON_TLS_CERT_SHA1 becomes mtwilson.tls.cert.sha1 . # tagent setup configure-from-environment Create a Trust Agent keystore password, randomly generated and stored in trustagent.properties. # tagent setup create-keystore-password Create a trust agent SSL key pair. # tagent setup create-tls-keypair Note: The default distinguished name CN=trustagent can be customized by setting TRUSTAGENT_TLS_CERT_DN (trustagent.tls.cert.dn), TRUSTAGENT_TLS_CERT_IP (trustagent.tls.cert.ip), and TRUSTAGENT_TLS_CERT_DNS (trustagent.tls.cert.dns). Create a Trust Agent administrator account. # tagent setup create-admin-user If the variables TRUSTAGENT_ADMIN_USERNAME and TRUSTAGENT_ADMIN_PASSWORD are set, those values are used. If in an interactive installation, the administrator is prompted for the information. Otherwise, the default username is admin and the password is stored in /opt/trustagent/configuration/private/admin.txt for the administrator to read and then delete. The administrator account can also be reset at any time via the command line: # tagent password admin [--permissions key:value] The trust agent stores its authorized users credentials in a salted and hashed password file /opt/trustagent/configuration/users.txt and permissions file /opt/trustagent/configuration/permissions.txt .\n5. Generate TPM ownership secret, Storage Root Key (SRK) secret, and Identity Key Certificate (AIK) secret if they have not yet been generated. # tagent setup create-tpm-owner-secret create-tpm-srk-secret create-aik-secret Take ownership of the TPM and generate a random owner secret. # tagent setup take-ownership Connect to the Intel MTWILSON_API_URL (copied to trustagent.properties as mtwilson.api.url). If the MTWILSON_TLS_CERT_SHA1 variable is set, its content (in hex) is used to validate the Intel MTWILSON_TLS_CERT_SHA1 is not set, the administrator is prompted to verify the SSL certificate fingerprint in an interactive install; otherwise, a non-interactive install fails. # tagent setup download-mtwilson-tls-certificate Connect to the Intel MTWILSON_API_URL , MTWILSON_API_USERNAME , and MTWILSON_API_PASSWORD . # tagent setup download-mtwilson-privacy-ca-certificate Request an Endorsement Certificate (EC) from the Intel MTWILSON_API_URL , MTWILSON_API_USERNAME , and MTWILSON_API_PASSWORD during installation (these are copied to trustagent.properties , mtwilson.api.username , and mtwilson.api.password , respectively). # tagent setup request-endorsement-certificate Request an attestation AIK certificate from the Intel # tagent setup request-aik-certificate Optional. Register the TPM owner secret with Intel # tagent setup register-tpm-password 10.2.3 Key Management Service 10.2.3.1 Installation Options Table 19. KMS Installation Options Environment Variable Default Value Notes JETTY_PORT 80 JETTY_SECURE_PORT 443 KMS_HOME /opt/kms Application home directory. KMS_LAYOUT linux Possible values are linux and home , and they affect the default installation directory layout. KMS_PASSWORD None The master password protects the configuration file and the password vault. It must be set before installing and before starting the KMS PROXY. KMS_USERNAME KMS Non-root user to run KMS. 10.2.5.2 Configuration Table 20 lists the settings that may be edited in kms.properties after setup. A restart is required for a new setting to take effect. Table 20.  KMS Configuration Configuration Key Default Value or Example Notes endpoint.key.transfer.url http://[KMS IP or hostname]/v1/keys/{keyID}/transfer URL template used to generate a key transfer link. endpoint.url http://[KMS IP or hostname] Base URL for Key Management Service resources. jetty.port 80 Port for HTTP connections. jetty.secure.port 443 Port for HTTPS connections. The files in Table 21 are located in the KMS configuration folder ( /opt/kms/configuration by default). Their names and locations are not configurable other than changing the location of the configuration folder itself. Table 21.  Additional KMS Files File Name Description logback.xml Configures the logging system used by KMS. For details, see: http://logback.qos.ch/manual/configuration.html,The log file location /var/log/kms/kms.log is configured in this file. shiro.ini The authentication and authorization settings for the key server. extensions.cache List of KMS extensions that should be loaded, one per line. Each extension is a fully qualified Java class name. Example line: com.intel.mtwilson.kms.cmd.Start The https.properties file is not configurable. It is automatically generated to facilitate integration with other software by providing the TLS certificate fingerprints. 10.2.3.3 Configuring the KMS to use an External Barbican or KMIP-Compliant Key Vault The KMS can use its own local key vault system (by default), but can also use an existing external Barbican or KMIP-compliant service for key creation and vaulting services. To configure these options, use the kms config key value commands on the command line, and restart the KMS services afterward. Table 22.  Settings for Barbican configuration in KMS Configuration Key Default Value or Example Notes barbican.endpoint.url http://[host_name]:9311/ The URL of the Barbican server. The default installation of Barbican starts a server at http://[host_name]:9311/.  Depending on the port and host, configure this URL. barbican.project.id 12345 The ID of the bucket where all the secrets are created. key.manager.provider com.intel.kms.barbican.client.BarbicanKeyManager Selects client for Barbican server Table 23.  Settings for Barbican configuration in KMS Configuration Key Default Value or Example Notes key.manager.provider com.intel.kms.kmip.client.KMIPKeyManager Selects client for KMIP Server. kmip.decoder ch.ntb.inf.kmip.process.decoder.KMIPDecoder kmip.encoder ch.ntb.inf.kmip.process.encoder.KMIPEncoder Depending on the underlying KLMS, an encoder that converts the user data to a TTLV Message. kmip.targetHostname http://[host_name]:8090/KMIPWebAppServer/KMIPServlet Link to KMIP Server. kmip.transportLayer ch.ntb.inf.kmip.stub.transport.KMIPStubTransportLayerHTTP The default implementation for HTTP is: 10.2.3.4 Command-Line Options Export Configuration The KMS configuration is encrypted. The KMS encryption password is by default generated randomly at installation time and stored in /opt/kms/configuration/.kms_password , and the user is not prompted for the password when executing any commands. If the password is instead manually specified by exporting the KMS_PASSWORD environment variable during installation, the password is required to execute these commands. To view the configuration in the console: # kms export-config --stdout [--env-password=KMS_PASSWORD] To export the configuration to a file: # kms export-config filename [--env-password=KMS_PASSWORD] If you do not export KMS_PASSWORD , and use the --env-password option, the command prompts for a password. Import Configuration The KMS configuration is encrypted. To import the configuration using a pipe from another program: # kms import-config --stdin [--env-password=KMS_PASSWORD] To export the configuration from a file: # kms import-config filename [--env-password=KMS_PASSWORD] If you do not export KMS_PASSWORD and use the --env-password option, the command prompts for a password. Edit Configuration Instead of exporting, editing, and re-importing the configuration, you can also edit the encrypted configuration directly from the command line. When using this command, the KMS_PASSWORD variable must be defined in the environment. To view a configuration setting: # kms config key To edit the configuration: # kms config key value Users and Permissions You can use the kms password command to set and reset user passwords and permissions. The following examples create five different users named user1 through user5 , each with a different password or permission set. If permissions are specified, they must be in one argument. The special permission *:* means all access. # kms password user1 password1\n# kms password user2 password2 *:*\n# kms password user3 password3 tpm:endorse,tpm:quote,host:info,aik:create kms password user4 --nopass\n# kms password user5 --nopass *:* You can provide the password in an environment variable: # export PASSWORD=password6\n# kms password user6 env:PASSWORD *:* If you do not specify a password in the command line or as an environment variable, you are prompted: # kms password user7\n Choose a password for user7 Password:\n Password (again): It is not possible to be prompted for a password and specify permissions at the same time. To add a user with permissions and be prompted for the password, perform two steps: # kms password user8 --nopass *:* kms password user8\n Choose a password for user8 Password:\n Password (again): To remove access for a user, use the --remove option: # kms password user9 --remove If you attempt to remove a user that does not exist, you will still see the success message, Restricting Access by IP Address or Hostname To restrict access to a set of addresses or hostnames, edit /opt/kms/configuration/shiro.ini and ensure that the following lines are present: [main] hostFilter=com.intel.mtwilson.shiro.authz.HostFilter\nhostFilter.allow=127.0.0.1,192.168.1.100,netops.datacenter.com \n[urls]\n/index.html = anon\n/** = hostFilter The hostFilter.allow line can have a comma-separated list of IP Addresses and hostnames. It does not support CIDR addressing or wild-cards in hostnames, but this may be added in a future release. The shiro-ip.ini file in the configuration folder is an example of how to enable shiro-ip.ini to shiro.ini , then restart the key server. 10.2.4 KMS Proxy 10.2.4.1 Configuration The following settings can be declared in kmsproxy.env before setup or changed using command-line commands after setup, with the exception of KMSPROXY_PASSWORD , which is only available as an environment variable. Table 24.  KMS Proxy Configuration Environment Variable Default Value Notes JETTY_PORT 80 JETTY_SECURE_PORT 443 KMSPROXY_HOME /opt/kmsproxy Application home directory. KMSPROXY_LAYOUT home Possible values are linux and home , and they affect the default installation directory layout. KMSPROXY_PASSWORD None The master password protects the configuration file and the password vault. It must be set before installing and before starting the KMS PROXY KMSPROXY_USERNAME kmsproxy Non-root user to run KMS Proxy. MTWILSON_API_URL None Without any /v1 or /v2 path. For example: https://mtwilson:8443/mtwilson MTWILSON_TLS_CERT_SHA1 None SHA-1 digest of the Mt Wilson TLS certificate. Table 25.  /opt/kmsproxy/kmsproxy.properties Configuration Key Default Value or Example Notes mtwilson.api.password No default value. Example: 94i3kPN7bObnJ5Qo Password corresponding to mtwilson.api.username. mtwilson.api.url No default value. Example: https://server.com:8443/mtwilson/v2 Base URL to reach the Attestation Service v2 API endpoints. mtwilson.api.username No default value.  Example: admin Obtain this from the Attestation Service server. This must be a valid Attestation Service username with the Attestation role. mtwilson.tls.cert.sha1 No default value. Example: eeb9d481bd779b9a6dfcf65a5ee9b2f8 89906e02 20 hex-encoded bytes. Obtain this from the Attestation Service server: sha1sum /etc/intel/cloudsecurity/ssl.crt 10.2.4.2 Command-Line Options Setup The setup tasks complete the following steps: Ensure that configuration, features, and repository directories are created. # kmsproxy setup filesystem Scan the installed application for available extensions and automatically register them in the extensions.cache file in the configuration folder. # kmsproxy setup update-extensions-cache-file Configure default values for HTTP and HTTPS ports in kms.conf . # kmsproxy setup jetty Randomly generate Jetty keystore password. Create password-protected keystore file. Generate TLS keypair and self-signed certificate which can be customized by setting KMSPROXY_TLS_CERT_DN ( kmsproxy.tls.cert.dn ), KMSPROXY_TLS_CERT_IP ( kmsproxy.tls.cert.ip ), and KMSPROXY_TLS_CERT_DNS ( kmsproxy.tls.cert.dns ). # kmsproxy setup jetty-tls-keystore Registers a client with Mt. Wilson and requests the # kmsproxy setup mtwilson-client Export Configuration The KMS Proxy configuration is encrypted. The KMS Proxy encryption password is by default generated randomly at installation time and stored in /opt/kmsproxy/configuration/.kmsproxy_password , and the user is not prompted for the password when executing any commands. If the password is instead manually specified by exporting the KMSPROXY_PASSWORD environment variable during installation, the password is required to execute these commands. To view the configuration in the console: # kmsproxy export-config --stdout [--env-password=KMSPROXY_PASSWORD] To export the configuration to a file: # kmsproxy export-config filename [--env-password=KMSPROXY_PASSWORD] When using this command, the KMSPROXY_PASSWORD variable must be defined in the environment. If you do not export KMSPROXY_PASSWORD and use the --env-password option, the command prompts for a password. Import Configuration The KMS proxy configuration is encrypted. To import the configuration using a pipe from another program: # kmsproxy import-config --stdin [--env-password=KMSPROXY_PASSWORD] To export the configuration from a file: # kmsproxy import-config filename [--env-password=KMSPROXY_PASSWORD] When using this command, the KMSPROXY_PASSWORD variable must be defined in the environment. If you do not export KMSPROXY_PASSWORD and use the --env-password option, the command prompts for a password. Edit Configuration Instead of exporting, editing, and re-importing the configuration, you can also edit the encrypted configuration directly from the command line. When using this command, the KMSPROXY_PASSWORD variable must be defined in the environment. If you do not export KMSPROXY_PASSWORD and use the --env-password option, the command prompts for a password. To view a configuration setting: # kmsproxy config key To edit the configuration: # kmsproxy config key value Trust Report Cache The proxy is able to cache trust reports. The cache duration is configurable in seconds and the default is not to cache the trust reports (0 seconds). To cache trust reports for 5 minutes (300 seconds), configure it like this: # kmsproxy config trust.report.cache.expires.after 300 10.2.5 Trust Director 10.2.5.1 Setup Table 26. director.env Environment Variable Default Value Notes DIRECTOR_DB_DRIVER org.postgresql.Driver JDBC driver for the Trust Director database connection. Currently only Postgres is supported. DIRECTOR_DB_HOSTNAME localhost Hostname for the Trust Director database (by default, the Trust Director installs a local Postgres database server instance for this purpose). DIRECTOR_DB_NAME director_data_pu Database schema name for the Trust Director database. DIRECTOR_DB_PASSWORD dirdbpass Password for user with full access to Trust Director database schema on the database server. By default this is created at the same time the database is installed. DIRECTOR_DB_PORTNUM 5432 Port for the Trust Director database DIRECTOR_DB_USERNAME dirdbadmin Username with full access to Trust Director database schema on the database server. By default this is created at the same time the database is installed. DIRECTOR_ID 8478484737 User-defined identifier string for this Trust Director installation. JAVA_KEYSTORE_PASSWORD changeit Password for the Java keystore. The default Java keystore password is b changeit /b . MTWILSON_API_URL https://10.1.71.130:8443/mtwilson/v2 Full base URL for the Attestation Service v2 API resources. MTWILSON_PASSWORD password Password for a user on the Attestation Service with the Administrator role. MTWILSON_SERVER 10.1.71.130 Attestation Service IP Address or hostname. MTWILSON_SERVER_PORT 8443 Attestation Service port. MTWILSON_TLS d7e8ce2013bd1eb222b81c86b9be045c 2e166284 SHA1 of the Attestation Service TLS certificate. MTWILSON_USERNAME admin Username for a user on the Attestation Service with the Administrator role. VM_WHITELIST_HASH_TYPE SHA-1 Hash algorithm used for measurement in creating Trust Policies. Currently only SHA-1 is supported. The following properties are required only for the VM Integrity and VM Privacy use cases, and can be excluded if those use cases are not enabled GLANCE_IMAGE_STORE_IP 10.2.71.137 OpenStack Glance service IP Address or hostname. GLANCE_IMAGE_STORE_PASSWORD password OpenStack Glance password. GLANCE_IMAGE_STORE_PORT 9292 OpenStack Glance service port number. GLANCE_IMAGE_STORE_USERNAME admin OpenStack Glance username. TENANT_NAME admin Tenant used with OpenStack Glance. The below properties are required only for the VM Privacy (encryption) use case, and can be excluded if that use case is not enabled KMS_ENDPOINT_URL https://10.1.71.132 Full URL for the Key Management Service. KMS_LOGIN_BASIC_PASSWORD password Password for the Key Management Service (created during KMS installation). KMS_LOGIN_BASIC_USERNAME admin Username for the Key Management Service (created during KMS installation). KMS_TLS_POLICY_CERTIFICATE_SHA1 eca611575757600042e6b90a224feb36,51d380fd SHA1 of the TLS certificate used by the KMS. 10.2.5.2 Configuration The Trust Director connection configuration for reaching the Attestation Service and the KMS can be changed on the Trust Director web portal: The KMS Settings page allows the Trust Director to KMS connection details to be updated, for example if the KMS is re-installed or changed. The Trust Director requires a KMS user with full The Attestation Service page allows the Trust Director to Attestation Service connection details to be updated, for example if the Attestation Service is re-installed or changed. The Trust Director requires an Attestation User with some permissions. In addition, the Trust Director configuration is set in the /opt/director/configuration/director.properties file. Note: The director.properties file is a master configuration file. When director service components start up, properties configured in this file take precedence. Table 27. director.properties Configuration Key Default Value or Example Notes bm.whitelist.hash.type SHA1 Hash algorithm for generating Trust Policy measurements. Only SHA-1 is currently supported. Docker.whitelist.hash.type SHA256 (OPTIONAL) Hash algorithm for generating Trust Policy measurements. Only SHA-256 is currently supported. director.db.driver org.postgresql.Driver JDBC driver used to access the Postgres database director.db.hostname localhost Hostname or IP Address of the Trust Director database. director.db.name director_data_pu Database schema name ( i director_data_pu /i by default). director.db.password password Password for database user with access to the Trust Director database. director.db.portnum 5432 Database server port. director.db.schema director.db.url jdbc:postgresql://localhost:5432/ director_data_pu JDBC URL for the Trust Director database. director.db.username password Password corresponding to i mtwilson.api.username. /i director.envelope.alias director-envelope director.envelope.cert.dn director.641107e8382d4bcea89cb2acc3a 9dd64 b Do not change this setting. /b director.id Unique identifier for Trust Director. Specified during installation. director.keystore /opt/director/configuration/envelope- keystore.jks endpoint.url= http\\://TD-hostname Endpoint URL for the Trust Director web services. glance.image.store.password password Password for user with access to OpenStack Glance. glance.image.store.username admin OpenStack Glance username to access the glance APIs. glance.ip 10.1.71.71 OpenStack Glance IP Address or hostname. glance.port 9292 Port number for OpenStack Glance. glance.tenant.name admin OpenStack Glance tenant name. javax.net.ssl.keyStore /opt/director/configuration/keystore.jks Full path to the SSL keystore jetty.port 80 jetty.secure.port 443 SSL port used for web services. jetty.tls.cert.dn CN=kms Common Name used in the Trust Director TLS Certificate jetty.tls.cert.dns localhost,localhost .Comma-separated list of Distinguished Names added to the TLS certificate. jetty.tls.cert.ip 192.168.122.1,fe80\\:0\\:0\\:0\\:5054\\:ff\\:f e51\\:a436%2,10.35.35.117,0\\:0\\:0\\:0\\: 0\\:0\\:0\\:1%1,127.0.0.1 Comma-separated list of IP Addresses added,to the TLS certificate. mtwilson.extensions.fileIncludeFilter. contains ${MTWILSON_EXTENSIONS_FILEINCLUD EFILTER_CONTAINS:-mtwilson,director} b Do not change this setting. /b mtwilson.extensions.packageIncludeFilter,.startsWith ${MTWILSON_EXTENSIONS_PACKAGEIN CLUDEFILTER_STARTSWITH:-com.intel,,org.glassfish.jersey.media.multipart} b Do not change this setting. /b mtwilson.navbar.buttons director-html5,mtwilson-core-html5 b Do not change this setting. /b mtwilson.navbar.hometab director-trust-policy Part of setup.sh that identifies the landing page after successful login mtwilson.password password Password for Attestation Service user. mtwilson.server 10.1.71.88 IP Address or hostname of Attestation Service. mtwilson.server.port 8443 Port number of the Attestation Service. mtwilson.username Example: admin Obtain this from the Intel password.vault.file /opt/director/configuration/password- vault.jck password.vault.type JCEKS b Do not change this setting. /b tenant.name admin OpenStack Glance tenant name. vm.whitelist.hash.type SHA-1 Hash algorithm for generating Trust Policy measurements. Only SHA-1 is currently supported. 10.2.6 OpenStack Controller 10.2.6.1 Setup Table 28 lists installation options configured in the mtwilson-openstack-controller.env answer file. Table 28. mtwilson-openstack-controller.env Environment Variable Default Value Notes DISTRIBUTION_LOCATION Default: /usr/lib/python2.7/dist-packages (Optional. Required only if Python is installed to a directory different from the default example.) Python distribution location. MTWILSON_ASSET_TAG_API_PASSWORD password Password of user on Attestation Server needed for asset tag management and trust attestation This user needs the Attestation and AssetTagManagement roles. MTWILSON_ASSET_TAG_API_USERNAME username User on Attestation Server needed for asset tag management and trust attestation. This user needs the Attestation and AssetTagManagement roles. MTWILSON_SERVER IP Address or Hostname Attestation Server IP Address or hostname. MTWILSON_SERVER_PORT Default: 8443 Attestation Server communicates on port 8443. NOVA_CONFIG_DIR_LOCATION_PATH Default: /etc/nova/ (Optional. Required only if Nova configuration is installed to a non-default path.) Location path of Nova configuration files. OPENSTACK_DASHBOARD_LOCATION Default: /usr/share/openstack-dashboard (Optional. Required only if OpenStack Dashboard is installed in a non-default location.) Location path for OpenStack Dashboard. 10.2.6.2 Configuration The OpenStack Controller configuration is contained in the /etc/nova/nova.conf file, in a block at the bottom for Intel # Intel(R) Cloud Integrity Technology \n[trusted_computing]\nattestation_server= IP or hostname of Attestation Service attestation_port= Port number for Attestation Service; 8443 by default attestation_auth_blob= username:password for an account with Attestation and Asset Tag roles attestation_api_url=/mtwilson/v2/host-attestations\nattestation_host_url=/mtwilson/v2/hosts\nattestation_server_ca_file=/etc/nova/ssl.crt This is the path to the Attestation Service TLS\n\t\t\t\t\t\t\tcertificate; do not change 10.2.7 Attestation Reporting Hub Configuration Key Default Value or Example Notes jetty.tls.cert.dns Hostname,localhost Do not change this setting attestation-hub.db.schema attestation_hub_pu Database scehma name attestation-hub.poll.interval 2 Time interval, in minutes. Defines how frequently the Hub will query the Attestation Service for new attestation data and push attestation data to tenant endpoints. mtwilson.api.password [username] Attestation Service password. Used by the Hub to access the Attestation Service when querying for attestation information. mtwilson.api.url https://:8443/mtwilson/v2 API URL for the Attestation Service javax.net.ssl.keyStore /opt/attestation-hub/configuration/keystore.jks Location of Java keystore jetty.tls.cert.ip [list of IP addresses] Do not change this setting attestation-hub.db.password [password] Database password.,Randomly generated by default. attestation-hub.db.driver org.postgresql.Driver Do not change this setting mtwilson.extensions.fileIncludeFilter.contains mtwilson,attestation-hub Do not change this setting mtwilson.api.tls.policy.certificate.sha256 [sha256] Sha256 of the TLS certificate jetty.port 19082 HTTP port number jetty.secure.port 19445 HTTPS port number attestation-hub.db.name attestation_hub_pu Database name password.vault.file /opt/attestation-hub/configuration/password-vault.jck Do not change this setting attestation-hub.db.username Ahadmin Database username mtwilson.extensions.packageIncludeFilter.startsWith com.intel,org.glassfish.jersey.media.multipart Do not change this setting tenant.configuration.path /opt/tenantconfig Defines the path used for storing tenant configurations. attestation-hub.db.portnum 5432 Database port number mtwilson.api.username [username] Attestation Service username. Used by the Hub to access the Attestation Service when querying for attestation information. jetty.tls.cert.dn CN\\=Attestation,Hub TLC certificate DN attestation-hub.db.hostname localhost Database,server hostname (localhost by default) password.vault.type JCEKS Do not change this setting attestation-hub.db.url jdbc:postgresql://localhost:5432/attestation_hub_pu Database connection URL 10.3 High Availability Guidelines 10.3.1 Attestation Service To maximize service availability in an environment where hypervisor-level high availability or fault tolerance solutions are impractical, unavailable, or insufficient, Intel recommends using a redundancy model featuring two (or more) Intel Note: The shared database server should be configured for redundancy as well. However, database server configuration is beyond the scope of this document. In this configuration, if one of the Attestation Servers becomes unavailable for any reason, the reverse- proxy automatically fails over to another remaining Attestation Server. Since both instances are accessing a shared database, there is no loss of data in the case of a failover, and there is no manual intervention required after the failed server is brought back on-line. The instructions below define a sample configuration using the NginX reverse proxy and two Attestation Server instances. These instructions can be adapted to similar alternative solutions. For example, shared storage or block-level file replication could be used to keep Attestation Server components and configurations synchronized across multiple servers. The key requirements for redundant Attestation Servers are: A shared database (whether this is external, or a replicated database across the Attestation Service servers). Some form of reverse proxy or other method of sharing a single IP Address or hostname across all Attestation Server instances. If the portal will be used, sessions must be Identical keys, certificates, and other secrets on all Attestation Server instances so that they can all use the same credentials to access the database, and so that the TLS certificate used by the web services remains identical. These include passwords and secrets defined in the various .properties files in the Attestation Service configuration directory, all of the certificates and keys in that directory, the TLS certificate for the web server, and the configuration files for the web server. 10.3.1.1 Prerequisites Following are the prerequisites: Separate database server (MySQL or PostgreSQL are supported). An additional server running Ubuntu Linux to run the NginX reverse-proxy service (other solutions are also possible). 10.3.1.2 Deployment Instructions Following are the deployment instructions: Deploy two (or more) separate Attestation Server instances on separate host servers. Use a shared IP Address or hostname for the Attestation Server IP when setting up all Attestation Servers. The first installation performed configures the secrets, certificates, keys, and users that are later copied to all of the other instances. Subsequent installations throws errors during user creation, as they attempt to create users that already exist; this is normal and expected. In the mtwilson.env installation answer file, configure the IP Address, port, and logon credentials for the external database server as well as the port and logon credentials and the database name. Remember, the database schema and a valid user with rights over this database must be created on the database server prior to running the Attestation Server installation, and must be configured to enable connections from all redundant Attestation Servers. Refer to Section 8.6 for remote database configuration instructions. The Attestation Server installer automatically creates the required database tables on the remote server. Copy the SSL certificate from the first Attestation Server to the other(s). /opt/mtwilson/share/apache-tomcat-7.0.34/ssl/.keystore Copy the full contents of the /etc/intel/cloudsecurity/ folder from the first Attestation Server to the other(s). After deploying each of the Attestation Server instances, verify that the portals for each are functioning. On the reverse-proxy server, run the following command: # apt-get install nginx Create or modify the default.conf configuration file: # nano /etc/nginx/conf.d/default.conf Edit the file as follows: upstream mtwilson {\n\tserver Mt Wilson Server 1 IP : port max_fails=1 fail_timeout=30s; \n\tserver Mt Wilson Server 2 IP : port backup;\n}\n\nserver {\n\tlisten IP Address of NginX Server : port ; \n\tserver_name DNS Name of NginX Server ;\n\n\taccess_log\t/var/log/nginx/mtwilsonHA.log; \n\terror_log\t/var/log/nginx/mtwilsonHA.error.log;\n\n\t## send request back to mtwilson ##\n\tlocation / {\n\t\tproxy_pass http://mtwilson/;\n\t\tproxy_next_upstream error timeout invalid_header http_500 http_502 \n\t\thttp_503 http_504;\n\t\t}\n\t} Consider the following: The upstream section allows for the declaration of the Attestation Servers to be used with the reverse proxy, as well as configuration of when each of the servers is used. In this configuration, one server is set to be the primary, and a second server is set to be the backup. Note that all traffic goes to the primary server, and the server labeled backup is only used if the other server has been flagged as failed. This is done to preserve session information when using the Attestation Service portal. A failure is triggered when an HTTP request times out. In this case, the max_fails=1 variable sets a single timeout to trigger a failure. This can be set higher, but doing so increases the amount of time before a failure is detected and remediated. The fail_timeout=30s variable tells NginX to leave a server flagged as failed for 30 seconds before trying again. Increasing this value can improve performance slightly when a failover has occurred (as every new request more than 30 seconds since the last failed flag re-attempts the primary server and thus has to wait for a timeout), but also delay the automatic fail-back to the primary server once it is recovered. As an alternative to the active/passive configuration, the ip_hash line can be added to the beginning of the upstream section. Note that if ip_hash is used, remove the max_fails, fail_timeout, and backup arguments. This causes NginX to direct incoming traffic to an Intel The listen and server_name variables tell NginX which specific IP and port to listen on and forward. Requests sent to other ports are not forwarded and receives a default NginX page. This can be configured to be a different page if desired. For more information, refer to the documentation for NginX at http://nginx.org/en/docs/ . The proxy_pass setting tells NginX to forward all requests matching the syntax http:// listening IP/ name and port /* to the Attestation Server setting declared in the upstream section. Restart the NginX service. # service nginx restart At this point, it should be possible to point a browser to the Attestation Server portal URLs, but substituting the Attestation Server IP/DNS name with the NginX server's IP/DNS name. NginX automatically forwards the URLs to the appropriate Attestation Server, and the services can be used normally. 10.3.1.3 Failover If a failover to the backup server should occur, there is a brief waiting period (approximately 5-10 seconds) as NginX waits for the timeout and flags the primary as failed. If a user is in the middle of accessing the web portals during this time, they are redirected to the login screen and receive an error that says their session has timed out. Once they log in again, Attestation Server begins functioning normally. 10.3.2 Key Management Service The Intel To configure the KMS for redundancy and high availability, the key requirements are: A single URL must be shared across all KMS instances. This is the URL that is used by remote hosts to request keys for a given image, and so this URL must always be reachable. This can be accomplished via a reverse proxy or shared IP/hostname with a cluster manager application. The /opt/kms/repository folder contents must be replicated across all instances of the KMS. This folder contains user information and, if the KMS is using a local key vault instead of integrating with an external vault service, this folder stores the actual keys as well. Each instance of the KMS must maintain its own ability to read/write to this directory in the case of a failover. This can be accomplished by using block-level replication. 10.3.3 Key Management Proxy Multiple instances of the KMS Proxy can be used behind a reverse-proxy or other load balancer. No special steps are required for installation of the KMS Proxy itself. However, only the Trust Agent nodes should be pointing at the load balancer. Each instance of the KMS Proxy should have a static connection to both the Attestation Service, and each instance of the KMS Proxy generates a unique user that needs to be approved on the Attestation Service. 10.4\tNova Changes 10.4.1 Filter Code File Changes and Other Notes distribution-location/python2.7/dist-packages/nova/ scheduler/filters/asset_tag_filter.py Filter class written from scratch. Filter, based on the image policies, checks with the CIT Attestation Server to verify the trust and asset-tag status of the compute nodes before launching the instances. This filter uses the configurations in nova.conf to read the Attestation Service's IP, port and other credentials.  Example nova.conf changes:     *[trusted_computing]        attestation_server = xxx.xxx.xxx.xxx        attestation_port = 8443        attestation_auth_blob = username:password         attestation_api_url=/mtwilson/v2/host-attestations         attestation_host_url=/mtwilson/v2/hosts         attestation_server_ca_file=/etc/nova/ssl.crt * 10.5\tOpenStack Compute Node Changes File Changes and Other Notes distribution-location/nova/virt/libvirt/driver.py Modification of the libvirt driver to examine image metadata and look for the Trust Policy. distribution-location/nova/exception.py Add exception definition for VM Measured Launch failure. distribution-location/nova/compute/manager.py Logging and exception definition for instance measurement. distribution-location/nova/compute/ resource_tracker.py Modifications to call the policyagent script and perform instance attestation by calling the Attestation Service. 11.0 Configuration 11.1 Directory Layout 11.1.1 Key Broker Service 11.1.1.1 Linux Directory Layout This is the default layout and can be chosen explicitly with the value KMS_LAYOUT variable before installation. The directories are placed in standard Linux locations. Using this layout, the uninstall command only deletes the application software in /opt/kms . The configuration, data, and logs remain intact. Application:   /opt/kms \nConfiguration: /etc/kms \nData:\t   /var/opt/kms\nLogs:\t   /var/log/kms 11.1.1.2 Home Directory Layout This layout can be chosen with the value KMS_LAYOUT variable before installation. The directories are placed under a single home directory. Using this layout, the uninstall command completely removes the application software, configuration, data, and logs. Application:   /opt/kms \nConfiguration: /opt/kms/configuration \nData:\t   /opt/kms/repository\nLogs:\t   /opt/kms/logs 11.1.1.3 Custom Directory Layout A custom directory layout can be chosen by setting the following environment variables before installation. A custom directory layout is recommended for KMS High Availability configurations, as the KMS data directory needs to be shared between all instances of the KMS: Applicationn:  KMS_HOME \nConfiguration: KMS_CONFIGURATION \nData:\t   KMS_REPOSITORY\nLogs:\t   KMS_LOGS 11.1.2 KMS Proxy 11.1.2.1 Linux Directory Layout This is the default layout and can be chosen explicitly with the value KMSPROXY_LAYOUT variable before installation. The directories are placed in standard Linux locations. Using this layout, the uninstall command only deletes the application software in /opt/kmsproxy . The configuration, data, and logs remain intact. Application:   /opt/kmsproxy \nConfiguration: /etc/kmsproxy \nData:\t   /var/opt/kmsproxy\nLogs:\t   /var/log/kmsproxy 11.1.2.2 Home Directory Layout This layout can be chosen with the value KMSPROXY_LAYOUT variable before installation. The directories are placed under a single home directory. Using this layout, the uninstall command completely removes the application software, configuration, data, and logs. Application:   /opt/kmsproxy \nConfiguration: /opt/kmsproxy/configuration \nData:\t   /opt/kmsproxy/repository\nLogs:\t   /opt/kmsproxy/logs 11.1.2.3 Custom Directory Layout A custom directory layout can be chosen by setting the following environment variables before installation: Application:   KMSPROXY_HOME \nConfiguration: KMSPROXY_CONFIGURATION \nData:\t   KMSPROXY_REPOSITORY\nLogs:\t   KMSPROXY_LOGS 12.0 Uninstallation 12.1 Attestation Service To remove all data from the database, execute the following command: # mtwilson erase-data To delete all users from the database, execute the following command: # mtwilson erase-users --all Note: Removing the database contents and user information from the Attestation Service is irreversible. To uninstall Attestation Service executables and configuration, execute the following command: # mtwilson uninstall 12.2 Trust Agent For Ubuntu and RHEL To fully uninstall the Trust Agent and all subcomponents, execute the following command: # tagent uninstall If the Trust Agent is re-installed after uninstallation, be sure to delete and re-register the host in the Attestation Service to ensure that all keys and signatures are updated. Warning: Re-installing the Trust Agent generates a new binding key, if the VM Privacy use case is enabled. Be sure to re-register the Trust Agent host in the Attestation Service after re-installation to ensure the binding key is also updated. For Microsoft Windows The CIT components can be uninstalled from the Control Panel Uninstall by selecting the CIT-Compute-Node application and then clicking Uninstall/Change . Another way to do it is by executing the uninst.exe file under the home directory where the components were installed. A CIT-Compute-Node Uninstall window will be displayed. Click Yes. Press any key Press any key Click Close.","filename":"Open-CIT-3.2.1-Product-Guide.md","format":"markdown","hl_body":"...  10.3.3 Key Management Proxy 10.4 \u003cem\u003eNova\u003c/em\u003e Changes 10.4.1 Filter Code 10.5 \u003cem\u003eOpenStack\u003c/em\u003e Compute Node Changes 11.0 Configuration 11.1 Directory Layout 11.1.1 Key Broker Service 11.1.1.1 Linux Directory Layout ...","hl_title":"Open CIT 3.2.1 Product Guide","id":"8a4cfdd2570df807b3853d8a84f10be492251fec","path":"Open-CIT-3.2.1-Product-Guide.md","public":true,"repo":{"repository":{"id":56611216,"name":"opencit","owner_id":18556847,"owner_login":"opencit","updated_at":"2021-03-22T23:48:17.486Z","has_issues":true}},"repo_id":56611216,"title":"Open CIT 3.2.1 Product Guide","updated_at":"2018-02-06T11:08:36.000-08:00"},{"body":".. index:: westurner/tools .. index:: Tools Tools Docs: https://westurner.github.io/tools/ Src: https://github.com/westurner/tools See Also: https://westurner.github.io/wiki/projects#tools .. index:: Packages Packages Wikipedia: https://en.wikipedia.org/wiki/Package_(package_management_system) A software package is an archive of files with a manifest that lists the files included. Often, the manifest contains file checksums and a signature. Many packaging tools make a distinction between source and/or binary packages. Some packaging tools provide configuration options for: Scripts to run when packaging Scripts to run at install time Scripts to run at uninstal time Patches to apply to the \"vanilla\" source tree, as might be obtained from a version control repository There is a package maintainer whose responsibilities include: Testing new upstream releases Vetting changes from release to release Repackaging upstream releases Signing new package releases Packaging lag refers to how long it takes a package maintainer to repackage upstream releases for the target platform(s). .. index:: Anaconda Anaconda Wikipedia: https://en.wikipedia.org/wiki/Anaconda_(Python_distribution) Homepage: https://store.continuum.io/cshop/anaconda/ Docs: https://docs.continuum.io/anaconda/ Anaconda is a maintained distribution of :ref:`Conda` packages for many languages; especially :ref:`Python`. Note https://en.wikipedia.org/wiki/Anaconda_(installer) (1999) is the installer for :ref:`RPM`-based :ref:`Linux` distributions; which is also written in :ref:`Python` (and :ref:`C`). .. index:: APT APT Wikipedia: https://en.wikipedia.org/wiki/Advanced_Packaging_Tool Homepage: https://alioth.debian.org/projects/apt Docs: https://wiki.debian.org/Apt Docs: https://www.debian.org/doc/manuals/debian-reference/ch02.en.html Docs: https://www.debian.org/doc/manuals/apt-howto/ Docs: https://wiki.debian.org/SecureApt Src: git git://anonscm.debian.org/git/apt/apt.git IRC: irc://irc.debian.org/debian-apt APT (\"Advanced Packaging Tool\") is the core of :ref:`Debian` package management. An APT package repository serves :ref:`DEB` packages created with :ref:`Dpkg`. An APT package repository can be accessed from a local filesystem or over a network protocol (\"apt transports\") like HTTP, HTTPS, RSYNC, FTP, and BitTorrent (debtorrent). An example of APT usage (e.g. to maintain an updated :ref:`Ubuntu` :ref:`Linux` system): apt-get update apt-get upgrade apt-get dist-upgrade apt-cache show bash apt-get install bash apt-get --help man apt-get man sources.list .. index:: AUR AUR Wikipedia: https://en.wikipedia.org/wiki/Arch_Linux#Arch_User_Repository_.28AUR.29 AUR (:ref:`Arch` User Repository) contains :ref:`PKGBUILD` packages which can be installed by :ref:`pacman`. .. index:: Bower Bower Wikipedia: https://en.wikipedia.org/wiki/Bower_(software) Homepage: https://www.bower.io/ Src: https://github.com/bower/bower Bower is \"a package manager for the web\" (:ref:`Javascript` packages) built on :ref:`NPM`. .. index:: BUILD BUILD Docs: https://pantsbuild.github.io/build_files.html Docs: https://pantsbuild.github.io/build_dictionary.html Docs: https://pantsbuild.github.io/options_reference.html A BUILD file describes a :ref:`Pants Build` build. .. index:: Cabal Cabal Homepage: https://www.haskell.org/cabal/ Docs: https://hackage.haskell.org/ Docs: https://www.haskell.org/cabal/users-guide/ Docs: https://www.haskell.org/cabal/release/cabal-latest/doc/API/Cabal/ Cabal is a package manager for :ref:`Haskell` packages. Hackage is the community Cabal package index: https://hackage.haskell.org/ .. index:: Conda Package .. index:: Conda Conda Wikipedia: https://en.wikipedia.org/wiki/Conda_(package_manager) Docs: https://conda.io/en/latest/ Src: git https://github.com/conda/conda PyPI: https://pypi.python.org/pypi/conda Conda is a package build, environment, and distribution system written in :ref:`Python` to install packages written in any language. Conda was originally created for the Anaconda Python Distribution, which installs packages written in :ref:`Python`, R, :ref:`Javascript`, :ref:`Ruby`, :ref:`C`, :ref:`Fortran` Conda packages are basically tar archives with build, and optional link/install and uninstall scripts. conda-build generates conda packages from conda recipes with a meta.yaml, a build.sh, and/or a build.bat. Conda recipes reference and build from a source package URI OR a :ref:`VCS \u003cvcs\u003e` URI and revision; and/or custom build.sh or build.bat scripts. conda skeleton can automatically create conda recipes from PyPI (Python), CRAN (R), and CPAN (Perl) conda skeleton-generated recipes can be updated with additional metadata, scripts, and source URIs (as separate patches or consecutive branch commits of e.g. a conda-recipes repository in order to get a diff of the skeleton recipe and the current recipe). Conda (and :ref:`Anaconda`) packages are hosted by https://binstar.org, which hosts free public and paid private Conda packages. Anaconda Server is an internal \"Private, Secure Package Repository\" that \"supports over 100 different repositories, including PyPI, CRAN, conda, and the Anaconda repository.\" To create a fresh conda env: # Python 2.7 conda create -n science --yes python readline conda-env # Python 3.X conda create -n science3 --yes python=3 readline conda-env Work on a conda env: source activate exmpl2 conda list source deactivate conda-env writes to and creates environments from environment.yml files which list conda and :ref:`pip` packages. Work with conda envs and environment.yml files: # Install conda-env globally (in the \"root\" conda environment) conda install -n root conda-env # Create a conda environment with ``conda-create`` and install conda-env conda create -n science python=3 readline conda-env pip # Install some things with conda (and envs/science/bin/pip) # https://github.com/westurner/notebooks/blob/gh-pages/install.sh conda search pandas; conda info pandas conda install blaze dask bokeh odo \\ sqlalchemy hdf5 h5py \\ scikit-learn statsmodels \\ beautiful-soup lxml html5lib pandas qgrid \\ ipython-notebook pip install -e git+https://github.com/rdflib/rdflib@master#egg=rdflib pip install arrow sarge structlog # Export an environment.yml #source deactivate conda env export -n science | tee environment.yml # Create an environment from an environment.yml conda env create -n projectname -f ./environment.yml To install a conda package from a custom channel: https://www.pydanny.com/building-conda-packages-for-multiple-operating-systems.html https://github.com/conda/conda-recipes/tree/master/cookiecutter https://binstar.org/pydanny/cookiecutter conda install -c pydanny cookiecutter # OR pip install cookiecutter The conda-forge custom channel packages are built with :ref:`continuous integration` on multiple platforms: https://conda-forge.github.io/ https://anaconda.org/conda-forge Sources: https://github.com/conda https://github.com/conda/conda -- conda https://github.com/ContinuumIO/pycosat -- pycosat SAT solver https://github.com/conda/conda-env -- conda-env (the conda env command) https://github.com/conda/conda-build -- conda-build (the conda build command) https://github.com/conda/conda-recipes -- Community-maintained conda recipes (which users may build and :ref:`maintain \u003cpackages\u003e` in https://binstar.org package repositories) See also: :ref:`Anaconda`, :ref:`conda-forge` (:ref:`conda-smithy`) .. index:: conda-forge conda-forge Homepage: https://conda-forge.github.io/ Src: https://github.com/conda-forge Src: https://github.com/conda-forge/feedstocks Src: https://github.com/conda-forge/feedstocks/tree/master/feedstocks Src: https://github.com/conda-forge/staged-recipes DockerHub: https://hub.docker.com/r/condaforge/linux-anvil Docs: https://conda-forge.github.io/docs/ Docs: https://conda-forge.github.io/docs/recipe.html https://conda-forge.github.io/#add_recipe fork: https://github.com/conda-forge/staged-recipes meta.yaml https://github.com/conda-forge/staged-recipes/blob/master/recipes/example/meta.yaml conda-smithy meta.yaml Docs: numpy x.x: https://conda-forge.github.io/docs/meta.html#building-against-numpy circle.yml https://github.com/conda-forge/staged-recipes/blob/master/circle.yml .travis.yml https://github.com/conda-forge/staged-recipes/blob/master/.travis.yml appveyor.yml https://github.com/conda-forge/staged-recipes/blob/master/appveyor.yml conda-forge.yml run_docker_build.sh https://github.com/conda-forge/staged-recipes/blob/master/scripts/run_docker_build.sh bootstrap-obvious-ci-and-miniconda.py https://github.com/conda-forge/conda-smithy/blob/master/bootstrap-obvious-ci-and-miniconda.py # create a conda package recipe from a pypi package cd $VIRTUAL_ENV/src conda skeleton pypi jupyterthemes ls -ld jupyterthemes/ edit jupyterthemes/meta.yaml # - git repo tags || pypi releases # create a conda-forge feedstock from a conda recipe ## https://github.com/conda-forge/conda-smithy#making-a-new-feedstock cd $VIRTUAL_ENV/src ls -ld jupyterthemes conda-smithy init jupyterhemes ls jupyterthemes-feedstock/ # build a conda-forge feedstock with docker # FROM condaforge/linux-anvil cat ./scripts/run_docker_build.sh ./scripts/run_docker_build.sh ./ci_support/run_docker_build.sh .. index:: conda-smithy conda-smithy Src: https://github.com/conda-forge/conda-smithy Docs: https://github.com/conda-forge/conda-smithy#making-a-new-feedstock .. index:: DEB DEB Wikipedia: https://en.wikipedia.org/wiki/Deb_(file_format) DEB is the :ref:`Debian` software package format. DEB packages are built with :ref:`dpkg` and often hosted in an :ref:`APT` package repository. .. index:: Dpkg Dpkg Wikipedia: https://en.wikipedia.org/wiki/Dpkg Homepage: https://wiki.debian.org/Teams/Dpkg Docs: https://en.wikipedia.org/wiki/Debian_build_toolchain Docs: https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html Docs: https://www.debian.org/doc/manuals/debian-faq/ch-pkgtools.en.html Docs: Dpkg is a collection of tools for creating and working with :ref:`DEB` packages. .. index:: dnf dnf Wikipedia: https://en.wikipedia.org/wiki/DNF_(software) Homepage: https://fedoraproject.org/wiki/DNF Homepage: https://fedoraproject.org/wiki/Features/DNF Src: git https://github.com/rpm-software-management/dnf Docs: https://dnf.readthedocs.io/en/latest/ Docs: https://github.com/rpm-software-management/dnf/wiki Docs: https://rpm-software-management.github.io/dnf-plugins-core/ dnf is a an open source package manager written in :ref:`Python`. dnf was introduced in :ref:`Fedora` 18. dnf is the default package manager in :ref:`Fedora` 22; replacing :ref:`yum`. [ ] yum errors if TODO package is installed (* :ref:`salt` provider) [ ] repoquery redirects with an error to dnf repoquery See dnf help (and man dnf) dnf integrates with the Anaconda system installer. :ref:`dnf` supports Delta RPM packages (DRPM), which often significantly reduce the required amount of network transfer required to regularly retrieve and upgrade to the latest repository packages. .. index:: ebuild ebuild Wikipedia: https://en.wikipedia.org/wiki/Ebuild Homepage: https://wiki.gentoo.org/wiki/Ebuild Docs: https://devmanual.gentoo.org/quickstart/ Docs: https://devmanual.gentoo.org/ebuild-writing/ Docs: https://devmanual.gentoo.org/ebuild-writing/file-format/ Docs: https://devmanual.gentoo.org/ebuild-writing/variables/ Docs: https://devmanual.gentoo.org/ebuild-writing/use-conditional-code/ Docs: https://wiki.gentoo.org/wiki/Submitting_ebuilds ebuild is a software package definition format. ebuilds are like special :ref:`bash` scripts. ebuilds have USE flags for specifying build features. :ref:`Gentoo` is built from ebuild package definitions stored in Gentoo :ref:`Portage`. :ref:`Portage` packages are built from ebuilds. The :ref:`emerge` :ref:`Portage` command installs ebuilds. .. index:: emerge emerge Wikipedia: https://en.wikipedia.org/wiki/Portage_(software)#Emerge Homepage: https://wiki.gentoo.org/wiki/Portage#emerge Src: git https://github.com/gentoo/portage Docs: https://wiki.gentoo.org/wiki/Project:Package_Manager_Specification Docs: https://projects.gentoo.org/pms/6/pms.html emerge is the primary CLI tool used for installing packages built from :ref:`ebuilds \u003cebuild\u003e` [from :ref:`Portage`]. .. index:: fpm fpm Wikipedia: Src: https://github.com/jordansissel/fpm Docs: https://github.com/jordansissel/fpm/wiki/ Docs: https://github.com/jordansissel/fpm/wiki/PackageMakeInstall fpm (effing package management) is a tool for building many types of software packages from many other types of software packages (e.g. :ref:`DEB`. :ref:`RPM`, :ref:`Python Packages`); often more easily than working with the actual package manager. fpm package source types include: dir rpm gem python empty tar deb cpan npm osxpkg pear pkgin virtualenv zip. fpm target package types include: rpm deb solaris puppet dir osxpkg p5p puppet sh tar zip .. index:: Brew .. index:: Homebrew Homebrew Wikipedia: https://en.wikipedia.org/wiki/Homebrew_(package_management_software) Homepage: https://brew.sh/ Src: https://github.com/Homebrew/brew Homebrew is a package manager (brew) for :ref:`OSX`. .. index:: NPM .. index:: Node Package Manager NPM Wikipedia: https://en.wikipedia.org/wiki/Npm_(software) Homepage: https://www.npmjs.org/ Src: https://github.com/npm/npm Docs: https://docs.npmjs.com/files/package.json#files NPM is a :ref:`Javascript` package manager created for :ref:`Node.js`. an NPM package is defined by a package.json :ref:`JSON` file. NPM packages are installed with the npm CLI utility. :ref:`Bower` builds upon NPM. .. index:: NuGet NuGet Wikipedia: https://en.wikipedia.org/wiki/NuGet Homepage: https://www.nuget.org/ NuGet is an open source package manager for :ref:`Windows`. Chocolatey maintains variously updated packages for various windows programs: https://chocolatey.org/ An example list of Chocolatey NuGet packages as a :ref:`PowerShell` script: https://gist.github.com/westurner/10950476 .. index:: pacman pacman Wikipedia: https://en.wikipedia.org/wiki/Arch_Linux#Pacman Homepage: https://www.archlinux.org/pacman/ Docs: https://wiki.archlinux.org/index.php/Pacman Pacman is an open source package manager which installs .pkg.tar.xz files for :ref:`Arch` Linux. .. index:: PEX PEX Homepage: https://pex.readthedocs.io/ Src: https://github.com/pantsbuild/pex PyPI: https://pypi.python.org/pypi/pex Docs: https://pex.readthedocs.io/en/stable/ PEX (Python Executable) is a :ref:`ZIP`-based software package archive format with an executable header. :ref:`Pants` creates PEX packages. .. index:: PKGBUILD PKGBUILD Homepage: https://wiki.archlinux.org/index.php/PKGBUILD Docs: https://www.archlinux.org/pacman/PKGBUILD.5.html Docs: https://wiki.archlinux.org/index.php/Makepkg Docs: https://wiki.archlinux.org/index.php/Creating_packages PKGBUILD is a shell script containing the build information for an :ref:`AUR` :ref:`Arch` :ref:`linux` software package. .. index:: Portage Portage Wikipedia: https://en.wikipedia.org/wiki/Portage_(software) Homepage: https://wiki.gentoo.org/wiki/Project:Portage Docs: https://wiki.gentoo.org/wiki/Project:Package_Manager_Specification Docs: https://projects.gentoo.org/pms/6/pms.html Portage is a package management and repository system written in :ref:`Python` initially just for :ref:`Gentoo` :ref:`Linux`. :ref:`Emerge` installs :ref:`ebuilds \u003cebuild\u003e` from :ref:`portage`. .. index:: Ports Ports Wikipedia: https://en.wikipedia.org/wiki/Ports_collection Homepage: https://www.freebsd.org/ports/ A Ports collection contains Sources (e.g. archived releases and patch sets) and :ref:`Makefiles \u003cmake\u003e` designed to compile software :ref:`packages` for particular :ref:`operating systems \u003coperating system\u003e` distributions' kernel and standard libraries usually for a particular platform. .. index:: RPM RPM Wikipedia: https://en.wikipedia.org/wiki/RPM_Package_Manager RPM (RPM Package Manager, :ref:`RedHat` Package Manager) is a :ref:`package` format and a set of commandline utilities written in :ref:`C` and :ref:`Perl`. RPM packages can be installed with rpm, :ref:`yum`, :ref:`dnf`. RPM pacage can be built with tools like rpmbuild and fpm Python packages can be built into RPM packages with :ref:`setuptools' \u003csetuptools\u003e` bdist_rpm, fpm List contents of RPM packages (archives) with e.g. less and lesspipe: less ~/path/to/local.rpm # requires lesspipe to be configured RPM Packages are served by and retrieved from repositories by tools like :ref:`yum` and :ref:`dnf`: Local: directories of :ref:`RPM` packages and metadata Network: :ref:`HTTP \u003chttp-\u003e`, :ref:`HTTPS \u003chttps--\u003e`, :ref:`RSYNC`, FTP :ref:`dnf` supports Delta RPM packages (DRPM), which often significantly reduce the required amount of network transfer required to regularly retrieve and upgrade to the latest repository packages. Note There's not yet a :ref:`debtorrent` for :ref:`RPM`, :ref:`YUM`, :ref:`DNF`. .. index:: Egg .. index:: Python Egg .. index:: Python Packages Python Packages Homepage: https://pypi.python.org/pypi Download: https://pypi.python.org/simple/ Docs: https://packaging.python.org/en/latest/ Docs: https://packaging.python.org/en/latest/current/ Docs: https://packaging.python.org/en/latest/distributing/ Docs: https://packaging.python.org/en/latest/peps.html Docs: https://packaging.python.org/en/latest/projects.html Docs: https://packaging.python.org/en/latest/specifications/ Docs: https://pypaio.readthedocs.io/en/latest/roadmap/ A :ref:`Python` Package is a collection of source code and package data files. Python packages have dependencies: they depend on other packages Python packages can be served from a package index :ref:`PyPI` is the community Python Package Index A Python package is an archive of files (.zip (.egg, .whl), .tar, .tar.gz,) containing a setup.py file containing a version string and metadata that is meant for distribution. An source dist (sdist) package contains source code (every file listed in or matching a pattern in a MANIFEST.in text file). A binary dist (bdist, bdist_egg, bdist_wheel) is derived from an sdist and may be compiled and named for a specific platform. sdists and bdists are defined by a setup.py file which contains a call to a distutils.setup() or setuptools.setup() function. The arguments to the setup.py function are things like version, author, author_email, and homepage; in addition to package dependency strings required for the package to work (install_requires), for tests to run (tests_require), and for optional things to work (extras_require). A package dependency string can specify an exact version (==) or a greater-than (\u003e=) or less-than (\u003c=) requirement for each package. Package names are looked up from an index server (--index), such as :ref:`PyPI`, and or an HTML page (--find-links) containing URLs containing package names, version strings, and platform strings. easy_install (:ref:`setuptools`) and :ref:`pip` can install packages from: the local filesystem, a remote index server, or a local index server. easy_install and pip read the install_requires (and extras_require) attributes of setup.py files contained in packages in order to resolve a dependency graph (which can contain cycles) and install necessary packages. . PyPA Tool Recommendations Docs: https://packaging.python.org/en/latest/current PyPA Python Package PEPs Docs: https://packaging.python.org/en/latest/peps.html PyPA Projects List Docs: https://packaging.python.org/en/latest/projects.html Note :ref:`JSON-LD-` for package metadata and environment build metadata could be helpful. https://github.com/pypa/interoperability-peps/issues/31 .. index:: distutils Distutils Docs: https://docs.python.org/2/distutils/ Docs: https://docs.python.org/3/distutils/ Distutils is a collection of tools for common packaging needs. Distutils is included in the :ref:`Python` standard library. .. index:: setuptools Setuptools Wikipedia: https://en.wikipedia.org/wiki/Setuptools Docs: https://pythonhosted.org/setuptools/ Src: https://github.com/pypa/setuptools PyPI: https://pypi.python.org/pypi/setuptools Setuptools is a :ref:`Python package \u003cpython packages\u003e` for working with other :ref:`Python Packages`. Setuptools builds upon :ref:`distutils` Setuptools is widely implemented Most Python packages are installed by setuptools (by :ref:`Pip`) Setuptools can be installed by downloading ez_setup.py and then running python ez_setup.py; or, setuptools can be installed with a system package manager (apt, yum) Setuptools installs a script called easy_install which can be used to install packages from the local filesystem, a remote index server, a local index server, or an HTML page easy_install pip installs :ref:`Pip` from PyPI Like easy_install, :ref:`Pip` installs python packages, with a number of additional configuration options Setuptools can build :ref:`RPM` and :ref:`DEB` packages from python packages, with some extra configuration: python setup.py bdist_rpm --help python setup.py --command-packages=stdeb.command bdist_deb --help .. index:: Pip Pip Wikipedia: https://en.wikipedia.org/wiki/Pip_(package_manager) Homepage: https://pip.pypa.io/ Docs: https://pip.pypa.io/en/latest/user_guide.html Docs: https://pip.readthedocs.io/en/latest/ Src: git https://github.com/pypa/pip Pypi: https://pypi.python.org/pypi/pip IRC: #pypa IRC: #pypa-dev Pip is a tool for installing, upgrading, and uninstalling :ref:`Python` packages. pip help pip help install pip --version sudo apt-get install python-pip pip install --upgrade pip pip install libcloud pip install -r requirements.txt pip uninstall libcloud Pip stands upon :ref:`distutils` and :ref:`setuptools`. Pip retrieves, installs, upgrades, and uninstalls packages. Pip can list installed packages with pip freeze (and pip list). Pip can install packages as 'editable' packages (pip install -e) from version control repository URLs which must begin with vcs+, end with #egg=\u003cusuallythepackagename\u003e, and may contain an @vcstag tag (such as a branch name or a version tag). Pip installs packages as editable by first cloning (or checking out) the code to ./src (or ${VIRTUAL_ENV}/src if working in a :ref:`virtualenv`) and then running setup.py develop. Pip configuration is in ${HOME}/.pip/pip.conf. Pip can maintain a local cache of downloaded packages, which can lessen the load on package servers during testing. Pip skips reinstallation if a package requirement is already satisfied. Pip requires the --upgrade and/or --force-reinstall options to be added to the pip install command in order to upgrade or reinstall. At the time of this writing, the latest stable pip version is 1.5.6. Warning With :ref:`Python` 2, pip is preferable to :ref:`setuptools`'s easy_install because pip installs backports.ssl_match_hostname in order to validate HTTPS certificates (by making sure that the certificate hostname matches the hostname from which the DNS resolved to). Cloning packages from source repositories over ssh:// or https://, either manually or with pip install -e avoids this concern. There is also a tool called :ref:`peep` which requires considered-good SHA256 checksums to be specified for every dependency listed in a requirements.txt file. For more information, see: https://legacy.python.org/dev/peps/pep-0476/#python-versions .. glossary:: Pip Requirements File Plaintext list of packages and package URIs to install. Requirements files may contain version specifiers (``pip \u003e= 1.5``) Pip installs Pip Requirement Files:: pip install -r requirements.txt pip install --upgrade -r requirements.txt pip install --upgrade --user --force-reinstall -r requirements.txt An example ``requirements.txt`` file:: # install pip from the default index (PyPI) pip --index=https://pypi.python.org/simple --upgrade pip # Install pip 1.5 or greater from PyPI pip \u003e= 1.5 # Git clone and install pip as an editable develop egg -e git+https://github.com/pypa/pip@1.5.X#egg=pip # Install a source distribution release from PyPI # and check the MD5 checksum in the URL https://pypi.python.org/packages/source/p/pip/pip-1.5.5.tar.gz#md5=7520581ba0687dec1ce85bd15496537b # Install a source distribution release from Warehouse https://warehouse.python.org/packages/source/p/pip/pip-1.5.5.tar.gz # Install an additional requirements.txt file -r requirements/more-requirements.txt .. index:: Peep Peep Src: https://github.com/erikrose/peep PyPI: https://pypi.python.org/pypi/peep Peep works just like :ref:`pip`, but requires SHA256 checksum hashes to be specified for each package in requirements.txt file. .. index:: Python Package Index .. index:: PyPI PyPI Wikipedia: https://en.wikipedia.org/wiki/Python_Package_Index Docs: https://wiki.python.org/moin/CheeseShop Docs: https://wiki.python.org/moin/CheeseShopDev Homepage: https://pypi.python.org/pypi Src: https://github.com/pypa/pypi-legacy PyPI-legacy is the original Python Package Index. PyPI is now powered by :ref:`Warehouse` .. index:: Warehouse Warehouse Homepage: https://warehouse.python.org/ Src: https://github.com/pypa/warehouse Docs: https://warehouse.readthedocs.io/en/latest/ Warehouse is the \"Next Generation Python Package Repository\". All packages uploaded to :ref:`PyPI` are also available from Warehouse. .. index:: Devpi Devpi Homepage: https://doc.devpi.net/ Src: https://github.com/devpi/devpi Issues: https://github.com/devpi/devpiissues PyPI: https://pypi.python.org/pypi/devpi-server PyPI: https://pypi.python.org/pypi/devpi-web PyPI: https://pypi.python.org/pypi/devpi-client Docs: https://doc.devpi.net/latest/ Devpi is a server and client solution for :ref:`Python package \u003cpython packages\u003e` mirroring, hosting, and testing. .. index:: Python Wheel .. index:: Wheel Wheel Docs: https://legacy.python.org/dev/peps/pep-0427/ Docs: https://wheel.readthedocs.io/en/latest/ Src: https://github.com/pypa/wheel PyPI: https://pypi.python.org/pypi/wheel Wheel is a newer, PEP-based standard (.whl) with a different metadata format, the ability to specify (JSON) digital signatures for a package within the package, and a number of additional speed and platform-consistency advantages. Wheels can be uploaded to PyPI. Wheels are generally faster than traditional Python packages. Packages available as wheels are listed at https://pythonwheels.com/. .. index:: Ruby Gem .. index:: RubyGems RubyGems Wikipedia: https://en.wikipedia.org/wiki/RubyGems Homepage: https://rubygems.org/ Docs: https://guides.rubygems.org/ Src: https://github.com/rubygems/rubygems RubyGems is a package manager for :ref:`Ruby` packages (\"Gems\"). .. index:: Yum Yum Wikipedia: https://en.wikipedia.org/wiki/Yellowdog_Updater,_Modified Homepage: http://yum.baseurl.org/ Yum is a tool for installing, upgrading, and uninstalling :ref:`RPM` packages. .. index:: Version Control Systems .. index:: Distributed Version Control Systems Version Control Systems Wikipedia: https://en.wikipedia.org/wiki/Revision_control Wikipedia: https://en.wikipedia.org/wiki/Distributed_revision_control Version Control Systems (VCS) --- or Revision Control Systems (RCS) --- are designed to solve various problems in change management. VCS store code in a repository. Changes to one or more files are called changesets, commits, or revisions Changesets are comitted or checked into to a repository. Changesets are checked out from a repository Many/most VCS differentiate between the repository and a working directory, which is currently checked out to a specific changeset identified by a revision identifier; possibly with uncommitted local changes. A branch is forked from a line of development and then merged back in. Most projects designate a main line of development referred to as a trunk, master, or default branch. Many projects work with feature and release branches, which, ideally, eventually converge by being merged back into trunk. (see: :ref:`HubFlow` for an excellent example of branching) Traditional VCS are centralized on a single point-of-failure. Some VCS have a concept of locking to prevent multiple peoples' changes from colliding Distributed Version Control Systems (DVCS) (can) clone all revisions of every branch of a repository every time. * DVCS changesets are pushed to a different repository DVCS changesets are pulled from another repository into a local clone or copy of a repository Teams working with DVCS often designate a central repository hosted by a project forge service like SourceForge, GNU Savannah, GitHub, or BitBucket. Contributors send patches which build upon a specific revision, which can be applied by a maintainer with commit access permissions. Contributors fork a new branch from a specific revision, commit changes, and then send a pull request, which can be applied by a maintainer with commit access permissions. .. index:: CVS CVS Homepage: https://www.nongnu.org/cvs/ Homepage: https://savannah.nongnu.org/projects/cvs Wikipedia: https://en.wikipedia.org/wiki/Concurrent_Versions_System Docs: https://www.nongnu.org/cvs/#documentation CVS (cvs) is a centralized version control system (VCS) written in :ref:`C`. CVS predates most/many other VCS. .. index:: SVN .. index:: Subversion svn: Subversion Homepage: https://subversion.apache.org/ Wikipedia: https://en.wikipedia.org/wiki/Apache_Subversion Docs: https://subversion.apache.org/docs/ Docs: https://subversion.apache.org/quick-start Src: svn https://svn.apache.org/repos/asf/subversion/trunk Src: https://github.com/apache/subversion Apache Subversion (svn) is a centralized revision control system (VCS) written in :ref:`C`. To checkout a revision of a repository with svn: svn co https://svn.apache.org/repos/asf/subversion/trunk subversion .. index:: bzr .. index:: Bazaar bzr: Bazaar Wikipedia: https://en.wikipedia.org/wiki/GNU_Bazaar Homepage: https://bazaar.canonical.com/en/ Homepage: https://launchpad.net/bzr Docs: http://doc.bazaar.canonical.com/en/ Docs: http://doc.bazaar.canonical.com/latest/en/mini-tutorial/index.html Src: bzr lp:bzr GNU Bazaar (bzr) is a distributed revision control system (DVCS, RCS, VCS) written in :ref:`Python` and :ref:`C`. https://launchpad.net hosts Bazaar repositories; with special support from the bzr tool in the form of lp: URIs like lp:bzr. To clone a repository with bzr: bzr branch lp:bzr .. index:: Git Git Wikipedia: https://en.wikipedia.org/wiki/Git_(software) Src: https://github.com/git/git Homepage: https://git-scm.com/ Docs: https://git-scm.com/documentation Docs: https://git-scm.com/book/en/ Docs: https://git-scm.com/book/en/v2/Getting-Started-Installing-Git Docs: https://github.com/skwp/git-workflows-book Docs: https://github.com/skwp/git-workflows-book#the-index Docs: https://learnxinyminutes.com/docs/git/ Docs: https://learngitbranching.js.org/ Docs: https://www.leshenko.net/p/ugit/ Docs: https://github.com/westurner/dotfiles/blob/develop/etc/.gitconfig Git (git) is an open source distributed version control system for tracking a branching and merging repository of file revisions written in :ref:`C` (DVCS, VCS, RCS). To clone a repository with git: git clone https://github.com/git/git cd ./git git status; git remote -av; git reflog; git help help; git help reflog :ref:`jj` auto-saves and is compatible with git .. index:: GitFlow GitFlow Src: https://github.com/nvie/gitflow Docs: https://nvie.com/posts/a-successful-git-branching-model/ Docs: https://github.com/nvie/gitflow/wiki Docs: https://github.com/nvie/gitflow/wiki/Command-Line-Arguments Docs: https://github.com/nvie/gitflow/wiki/Config-values GitFlow is a named branch workflow for :ref:`git` with master, develop, feature, release, hotfix, and support branches (git flow). Gitflow branch names and prefixes are configured in .git/config; the defaults are: GitFlow Branch Names Branch Name Description (and Code Labels) master Stable trunk (latest release) develop Development main line feature/\u003cname\u003e New features for the next release (e.g. ENH, PRF) release/\u003cname\u003e In-progress release branches (e.g. RLS) hotfix/\u003cname\u003e Fixes to merge to both master and develop (e.g. BUG, TST, DOC) support/\u003cname\u003e \"What is the 'support' branch?\" https://github.com/nvie/gitflow/wiki/FAQ Creating a new release with :ref:`Git` and :ref:`GitFlow`: git clone ssh://git@github.com/westurner/dotfiles # git checkout master # git checkout -h # git help checkout (man git-checkout) # git flow [\u003ccmd\u003e -h] # git-flow [\u003ccmd\u003e -h] git flow init ## Update versiontag in .git/config to prefix release tags with 'v' git config --replace-all gitflow.prefix.versiontag v cat ./.git/config # [gitflow \"prefix\"] # feature = feature/ # release = release/ # hotfix = hotfix/ # support = support/ # versiontag = v # ## feature/ENH_print_hello_world git flow feature start ENH_print_hello_world #git commit, commit, commit git flow feature git flow feature finish ENH_print_hello_world # ENH\u003cTAB\u003e ## release/0.1.0 git flow release start 0.1.0 #git commit (e.g. update __version__, setup.py, release notes) git flow release finish 0.1.0 git flow release finish 0.1.0 git tag | grep 'v0.1.0' .. index:: HubFlow HubFlow Src: https://github.com/datasift/gitflow Docs: https://datasift.github.io/gitflow/ Docs: https://datasift.github.io/gitflow/IntroducingGitFlow.html Docs: https://datasift.github.io/gitflow/TheHubFlowTools.html Docs: https://datasift.github.io/gitflow/GitFlowForGitHub.html GitFlow is a named branch workflow for :ref:`git` with master, develop, feature, release, hotfix, and support branches (git flow). HubFlow is a fork of :ref:`GitFlow` that adds useful commands for working with :ref:`Git` and GitHub pull requests. HubFlow branch names and prefixes are configured in .git/config; the defaults are: HubFlow Branch Names Branch Name Description (and Code Labels) master Stable trunk (latest release) develop Development main line feature/\u003cname\u003e New features for the next release (e.g. ENH, PRF) release/\u003cname\u003e In-progress release branches (e.g. RLS) hotfix/\u003cname\u003e Fixes to merge to both master and develop (e.g. BUG, TST, DOC) Creating a new release with :ref:`Git` and :ref:`HubFlow`: git clone ssh://git@github.com/westurner/dotfiles # git checkout master # git checkout -h # git help checkout (man git-checkout) # git hf [\u003ccmd\u003e -h] # git-hf [\u003ccmd\u003e -h] git hf init ## Update versiontag in .git/config to prefix release tags with 'v' git config --replace-all hubflow.prefix.versiontag v #cat .git/config # ... # [hubflow \"prefix\"] # feature = feature/ # release = release/ # hotfix = hotfix/ # support = support/ # versiontag = v # git hf update git hf pull git hf pull -h ## feature/ENH_print_hello_world git hf feature start ENH_print_hello_world #git commit, commit git hf pull git hf push #git commit, commit git hf feature finish ENH_print_hello_world # ENH\u003cTAB\u003e ## release/0.1.0 git hf release start 0.1.0 ## commit (e.g. update __version__, setup.py, release notes) git hf release finish 0.1.0 git hf release finish 0.1.0 git tag | grep 'v0.1.0' The GitFlow HubFlow illustrations are very helpful for visualizing and understanding any DVCS workflow: https://datasift.github.io/gitflow/IntroducingGitFlow.html. .. index:: Hg .. index:: Mercurial hg: Mercurial Wikipedia: https://en.wikipedia.org/wiki/Mercurial Homepage: https://www.mercurial-scm.org/ Docs: https://www.mercurial-scm.org/guide Docs: https://book.mercurial-scm.org/ Src: hg https://www.mercurial-scm.org/repo/hg Src: hg http://hg.intevation.org/mercurial Mercurial (hg) is a distributed revision control system written in :ref:`Python` and :ref:`C` (DVCS, VCS, RCS). To clone a repository with hg: hg clone https://www.mercurial-scm.org/repo/hg .. index:: jujutsu .. index:: jj jj: jujutsu Src: https://github.com/martinvonz/jj Docs: https://martinvonz.github.io/jj/latest/ Docs: https://martinvonz.github.io/jj/latest/cli-reference/ jj (jujutsu) is an open source :ref:`Version Control System` that works with :ref:`git`. jj auto-saves changes From the jj docs \u003e Concepts \u003e Working Copy : https://martinvonz.github.io/jj/latest/working-copy/ : Unlike most other VCSs, Jujutsu will automatically create commits from the working-copy contents when they have changed. Most jj commands you run will commit the working-copy changes if they have changed. The resulting revision will replace the previous working-copy revision. .. index:: GitHub GitHub Wikipedia: https://en.wikipedia.org/wiki/GitHub Web: https://github.com/ Src: https://github.com/github Docs: https://docs.github.com/en Docs: https://docs.github.com/en/get-started/quickstart/git-and-github-learning-resources Docs: https://docs.github.com/en/get-started/quickstart/github-glossary Docs: https://skills.github.com/ Docs: https://github.com/skills Docs: https://github.com/skills/introduction-to-github Docs: https://github.com/skills/communicate-using-markdown StatusPage: https://www.githubstatus.com/ :ref:`Git` repos, Issues, Pull Requests, Wikis, Pages, Actions, Project Boards, Webhooks https://github.com/github/choosealicense.com https://docs.github.com/en/get-started/quickstart/hello-world https://docs.github.com/en/get-started/quickstart/github-flow :ref:`hubflow` is a fork of :ref:`gitflow` for use with GitHub Pull requests https://github.com/topics/awesome https://github.com/devspace/awesome-github-templates https://github.com/stevemao/github-issue-templates/blob/master/must-open-issue-before-pr/PULL_REQUEST_TEMPLATE.md https://github.com/stevemao/github-issue-templates/blob/master/checklist2/PULL_REQUEST_TEMPLATE.md https://github.com/abhisheknaiidu/awesome-github-profile-readme .. index:: GitHub CI .. index:: GitHub Actions GitHub Actions Web: https://github.com/marketplace?type=actions Src: https://github.com/actions Src: https://github.com/actions/runner Src: https://github.com/actions/runner-images Src: https://github.com/actions/deploy-pages Src: https://github.com/actions/upload-pages-artifact Src: https://github.com/actions/upload-artifact Src: https://github.com/actions/upload-release-asset Src: https://github.com/softprops/action-gh-release Docs: https://docs.github.com/en/actions Docs: https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions Docs: https://docs.github.com/en/actions/quickstart#creating-your-first-workflow Docs: https://github.com/actions/starter-workflows Src: https://github.com/nektos/act Run GitHub Actions locally; without GitHub Runner .. index:: GitHub Classroom GitHub Classroom Web: https://classroom.github.com/ Web: https://education.github.com/ Docs: https://docs.github.com/en/education/manage-coursework-with-github-classroom/get-started-with-github-classroom/about-github-classroom#github-classroom-features :ref:`otter-grader` and :ref:`nbgrader` autograde :ref:`Jupyter` notebooks (in containers for safety) and can post grades to an LMS / LRS .. index:: GitLab GitLab Wikipedia: https://en.wikipedia.org/wiki/GitLab Web: https://gitlab.com/ Src: https://gitlab.com/gitlab-org Src: https://gitlab.com/gitlab-org/gitlab Issues: https://gitlab.com/groups/gitlab-org/-/issues Docs: https://docs.gitlab.com/ Docs: https://docs.gitlab.com/ee/user/markdown.html#where-you-can-use-gitlab-flavored-markdown Docs: https://docs.gitlab.com/ee/install/install_methods.html Docs: https://about.gitlab.com/direction/maturity/#package Docs: https://about.gitlab.com/handbook/ Docs: https://about.gitlab.com/handbook/markdown-guide/ Docs: https://about.gitlab.com/company/kpis/ Docs: https://about.gitlab.com/company/okrs/ StatusPage: https://status.gitlab.com/ GitLab is written in :ref:`Ruby`, :ref:`Go`, and :ref:`JS`. .. index:: GitLab CI GitLab CI Docs: https://docs.gitlab.com/ee/ci/yaml/ Docs: https://about.gitlab.com/competition/github/ GitLab CI is an open source :ref:`Continuous Integration` system which runs commands in containers per tasks defined in a build :ref:`YAML` file on project events like git push, new Pull Request branch, new Issue. gitlab-ci.yml GitLab CI precedes :ref:`GitHub`. Travis-CI precedes GitLab CI and :ref:`GitHub Actions`. Bitten by Edgewall (Trac) precedes Travis CI. .. index:: Gitea Gitea Wikipedia: https://en.wikipedia.org/wiki/Gitea Web: https://gitea.io/en-us/ Src: https://github.com/go-gitea/gitea Docs: https://docs.gitea.io/en-us/ Docs: https://try.gitea.io/api/swagger Gitea is an open source project forge site written in :ref:`Go`; with :ref:`Git` repositories (repos), Wiki repos, Issues, Pull Requests; and :ref:`Continuous Integration` to run the build script (:ref:`YAML`) on events like git push, new_issue, and new_pr; :ref:`Package` repositories for released build artifacts, :ref:`Container` repository https://docs.gitea.io/en-us/usage/automatically-linked-references/ https://docs.gitea.io/en-us/installation/install-with-docker-rootless/ https://docs.gitea.io/en-us/administration/https-setup/#using-acme-default-lets-encrypt https://docs.gitea.io/en-us/installation/upgrade-from-gitea/ https://docs.gitea.io/en-us/administration/command-line/ https://docs.gitea.io/en-us/usage/repo-mirror/ https://github.com/maxkratz/github2gitea-mirror https://docs.gitea.io/en-us/usage/packages/overview/#supported-package-managers https://docs.gitea.io/en-us/usage/packages/container/ https://docs.gitea.io/en-us/usage/packages/conda/ https://docs.gitea.io/en-us/usage/packages/pypi/ https://docs.gitea.io/en-us/usage/packages/npm/ https://docs.gitea.io/en-us/administration/external-renderers/#example-jupyter-notebook Gitea supports file-attachments in issues, pull requests, and releases (tagged git commits) Forgejo is a fork of Gitea, like Gitea is a fork of Gogs (which is a clone of GitHub) - https://github.com/topics/forgejo - https://codeberg.org/forgejo/forgejo .. index:: Gitea Actions Gitea Actions Src: https://github.com/go-gitea/gitea/tree/main/modules/actions Src: https://github.com/go-gitea/gitea/tree/main/services/actions Src: https://gitea.com/gitea/act_runner Docs: https://docs.gitea.io/en-us/usage/usage/actions/overview/ Docs: https://docs.gitea.io/en-us/usage/usage/actions/quickstart/#set-up-runner Docs: https://docs.gitea.io/en-us/usage/usage/actions/comparison/ w/ :ref:`GitHub Actions` Docs: https://blog.gitea.io/2023/03/hacking-on-gitea-actions/ .. index:: Project Templates Project Templates :ref:`cookiecutter` (Python, [...]) :ref:`yeoman` (JS, [...]) :ref:`jinja2` (:ref:`salt`, :ref:`ansible` :ref:`configuration management` .. index:: Exemplar Projects Exemplar Projects https://www.python.org/dev/peps/ \"PEP 0 -- Index of Python Enhancement Proposals (PEPs)\" https://www.python.org/dev/peps/pep-0012/ \"PEP 0012 -- Sample :ref:`reStructuredText` PEP Template\" (:ref:`Python`) https://github.com/ipython/ipython/wiki/IPEPs:-IPython-Enhancement-Proposals \"IPEPs: IPython Enhancement Proposals\" https://github.com/ipython/ipython/wiki/IPEP-0%3A-IPEP-Template \"IPEP 0: IPEP Template\" (:ref:`IPython`, :ref:`Jupyter`) https://github.com/jupyter/roadmap github.com/westurner/wiki: a GitHub Sphinx Wiki Home: https://westurner.github.io/wiki/ Wiki: https://github.com/westurner/wiki/wiki Src: https://github.com/westurner/wiki Src: https://github.com/westurner/wiki.wiki.git Issues: https://github.com/westurner/wiki/issues make help # - build the docs w/ sphinx # - push to both branches # - gh-pages from eg _build/html, _build/singlehtml make docs push gh-pages github.com/rdfjs/rdfjs.org: a GitHub Project Home: https://github.com/rdfjs/rdfjs.org Wiki: https://github.com/rdfjs/rdfjs.org/wiki Src: https://github.com/rdfjs/rdfjs.org Src: https://github.com/rdfjs/rdfjs.org.wiki.git Issues: https://github.com/rdfjs/rdfjs.org/issues https://github.com/rdfjs/rdfjs.org/wiki/Meetings seeAlso: https://wrdrd.github.io/docs/consulting/software-development#agile https://wrdrd.github.io/docs/consulting/team-building#the-same-page .. index:: cookiecutter cookiecutter Homepage: https://github.com/audreyr/cookiecutter Src: git https://github.com/audreyr/cookiecutter PyPI: https://pypi.python.org/pypi/cookiecutter Docs: https://cookiecutter.readthedocs.io/en/latest/ Docs: https://cookiecutter.readthedocs.io/en/latest/usage.html Docs: https://cookiecutter.readthedocs.io/en/latest/tutorials.html#create-your-very-own-cookiecutter Cookiecutter creates projects (files and directories) from project templates written in :ref:`Jinja2` for projects written in :ref:`Python` and other languages. https://cookiecutter.readthedocs.io/en/latest/readme.html#available-cookiecutters List of Cookiecutter generators https://github.com/audreyr/cookiecutter-pypackage Cookiecutter template for a :ref:`Python Package \u003cPython packages\u003e` (e.g. setup.py, docs/, README.rst) https://github.com/pydanny/cookiecutter-django Cookiecutter template for a Django project w/ Bootstrap, AngularJS, :ref:`Docker`, see also: https://github.com/xenith/django-base-template https://github.com/pydanny/cookiecutter-djangopackage Cookiecutter template for reusable Django packages (installable apps). https://github.com/openstack-dev/cookiecutter Cookiecutter template for :ref:`OpenStack` :ref:`Python Package \u003cPython packages\u003e` projects (* :ref:`pip` *, pbr, tox, :ref:`sphinx`) https://github.com/openstack-dev/specs-cookiecutter Cookiecutter template for :ref:`OpenStack` specs projects (pbr, tox, :ref:`sphinx`) .. index:: yeoman yeoman Wikipedia: https://en.wikipedia.org/wiki/Yeoman_(computing) Homepage: https://yeoman.io/ Src: git https://github.com/yeoman/yeoman Src: https://github.com/yeoman NPM: https://www.npmjs.com/package/yo NPMPkg: yo Docs: https://yeoman.io/learning/ Docs: https://yeoman.io/codelab/ Docs: https://yeoman.io/authoring Docs: https://yeoman.io/learning/resources.html https://github.com/yeoman/generator-generator Generate a Yeoman generator (./authoring). https://yeoman.io/generators/ List of Yeoman generators https://github.com/yeoman/generator-angular AngularJS 1 Yeoman generator (:ref:`bower`, karma tests, :ref:`CoffeeScript`, :ref:`TypeScript` ) https://github.com/diegonetto/generator-ionic Apache Cordova mobile app w/ Ionic (AngularJS 1, :ref:`grunt`) https://stackoverflow.com/questions/29649578/available-yeoman-generator-for-angular-2 AngularJS 2 Yeoman generators (:ref:`TypeScript`) https://github.com/kriasoft/react-starter-kit React.js, Express, Flux, ES6+, JSX, Babel, PostCSS, Webpack, BrowserSync (:ref:`Node.js`) https://github.com/yeoman/generator-polymer Polymer Web Components (:ref:`gulp`) Languages Programming Languages Wikipedia: https://en.wikipedia.org/wiki/Programming_language WikipediaCategory: https://en.wikipedia.org/wiki/Category:Programming_languages WikipediaCategory: https://en.wikipedia.org/wiki/Category:Programming_language_classification https://en.wikipedia.org/wiki/Von_Neumann_programming_languages https://en.wikipedia.org/wiki/Von_Neumann_architecture#Mitigations https://en.wikipedia.org/wiki/NX_bit .. index:: Programming Paradigms Programming Paradigms Wikipedia: https://en.wikipedia.org/wiki/Programming_paradigm WikipediaCategory: https://en.wikipedia.org/wiki/Category:Programming_paradigms https://en.wikipedia.org/wiki/Comparison_of_programming_paradigms .. index:: Lightweight Markup Languages Lightweight Markup Language Wikipedia: https://en.wikipedia.org/wiki/Lightweight_markup_language WikipediaCategory: https://en.wikipedia.org/wiki/Category:Lightweight_markup_languages .. index:: BBCode BBCode Wikipedia: https://en.wikipedia.org/wiki/BBCode Homepage: https://www.bbcode.org/ Docs: https://www.bbcode.org/reference.php Docs: https://www.bbcode.org/examples/ BBCode is a :ref:`Lightweight markup language` often used by bulletin boards and forums. .. index:: Markdown Markdown Wikipedia: https://en.wikipedia.org/wiki/Markdown Homepage: https://daringfireball.net/projects/markdown/ Standard: https://daringfireball.net/projects/markdown/syntax Docs: https://www.w3.org/community/markdown/wiki/MarkdownImplementations Docs: https://en.wikipedia.org/wiki/Markdown#Implementations Docs: https://learnxinyminutes.com/docs/markdown/ Docs: https://guides.github.com/features/mastering-markdown/ Docs: https://help.github.com/articles/github-flavored-markdown/ Docs: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet FileExt: .Md FileExt: .md Markdown is a :ref:`Lightweight markup language` which can be parsed and transformed to valid :ref:`HTML-`. GitHub and BitBucket support Markdown in Issue Descriptions, Wiki Pages, and Comments :ref:`Jupyter Notebook` supports Markdown in Markdown cells .. index:: CommonMark CommonMark Homepage: https://commonmark.org Standard: https://spec.commonmark.org/0.29/ Src: https://github.com/commonmark/commonmark-spec :ref:`CommonMark` is one effort to standardize :ref:`Markdown`. .. index:: MyST Markdown .. index:: MyST MyST Markdown Src: https://github.com/executablebooks/MyST-Parser Src: https://github.com/executablebooks/MyST-NB Docs: https://myst-parser.readthedocs.io/en/latest/ Docs: https://myst-nb.readthedocs.io/en/latest/ MyST Markdown is :ref:`CommonMark` :ref:`Markdown` with support for :ref:`Sphinx` roles and directives. :ref:`jupyter-book` builds HTML, LaTeX, and PDF books from MyST Markdown, :ref:`ReStructuredText`, and :ref:`Jupyter` notebooks in the sequence listed in _toc.yml. .. index:: MediaWiki Markup MediaWiki Markup Wikipedia: https://en.wikipedia.org/wiki/Help:Wiki_markup Standard: https://www.mediawiki.org/wiki/Markup_spec Docs: https://en.wikipedia.org/wiki/Help:Wiki_markup#Link_to_another_namespace Docs: https://www.mediawiki.org/wiki/Help:Formatting Docs: https://meta.wikimedia.org/wiki/Help:Wikitext_examples Docs: https://en.wikipedia.org/wiki/Help:Displaying_a_formula MediaWiki Markup is a :ref:`Lightweight markup language` \"WikiText\" which can be parsed and transformed to valid :ref:`HTML-`. Wikipedia is built on MediaWiki, which supports MediaWiki Markup. .. index:: RD .. index:: Ruby Document Format RD Wikipedia: https://en.wikipedia.org/wiki/Ruby_Document_format Standard: https://github.com/uwabami/rdtool/blob/master/doc/rd-draft.rd Standard: https://github.com/uwabami/rdtool/blob/master/doc/rd-draft.rd.ja RD is a :ref:`Lightweight markup language` for documenting :ref:`Ruby` code and programs. .. index:: Rdoc RDoc Src: https://github.com/rdoc/rdoc Docs: http://docs.seattlerb.org/rdoc/ Docs: https://raw.githubusercontent.com/rdoc/rdoc/master/ExampleRDoc.rdoc RDoc is a tool and a :ref:`Lightweight markup language` for generating :ref:`HTML-` and command-line documentation for :ref:`Ruby` projects. To not build RDoc docs when installing a :ref:`Gem \u003cRubyGems\u003e`: gem install --no-rdoc --no-ri gem install --no-document gem install -N .. index:: ReStructuredText ReStructuredText Wikipedia: https://en.wikipedia.org/wiki/ReStructuredText Homepage: http://docutils.sourceforge.net/rst.html Docs: http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html Docs: http://docutils.sourceforge.net/docs/ref/rst/directives.html Docs: http://docutils.sourceforge.net/docs/ref/rst/roles.html Docs: https://www.sphinx-doc.org/rest.html ReStructuredText (ReST, RST) is a :ref:`Lightweight markup language` commonly used for narrative documentation and inline Python, C, Java, etc. docstrings which can be parsed, transformed, and published to valid :ref:`HTML-`, ePub, LaTeX, PDF. :ref:`Sphinx` is built on :ref:`Docutils`, the primary implementation of ReStructuredText. :ref:`Pandoc` also supports a form of ReStructuredText. .. glossary:: ReStructuredText Directive Actionable blocks of ReStructuredText | Docs: http://docutils.sourceforge.net/docs/ref/rst/directives.html ``include``, ``contents``, and ``index`` are all ReStructuredDirectives: .. code-block:: rest .. include:: goals.rst .. contents:: Table of Contents :depth: 3 .. index:: Example 1 .. index:: Sphinx + .. _example-1: Sphinx +1 ========== This refs :ref:`example 1 \u003cexample-1\u003e`. Similarly, an explicit link to this anchor `\u003c#example-1\u003e`__ And an explicit link to this section `\u003c#sphinx-1\u003e`__ (which is otherwise not found in the source text). .. index:: Example 2 .. _example 2: Example 2 ========== This links to :ref:`example-1` and :ref:`example 2`. (`\u003c#example-1\u003e`__, `\u003c#example-2\u003e`__) And this also links to `Example 2`_. .. include:: LICENSE .. note:: ``index`` is a :ref:`Sphinx` Directive, which will print an error to the console when building but will otherwise silently dropped by non-Sphinx ReStructuredText parsers like :ref:`Docutils` (GitHub) and :ref:`Pandoc`. ReStructuredText Role RestructuredText role extensions | Docs: http://docutils.sourceforge.net/docs/ref/rst/roles.html ``:ref:`` is a :ref:`Sphinx` RestructuredText Role: .. code-block:: rest A (between files) link to :ref:`example 2`. .. index:: C C Wikipedia: https://en.wikipedia.org/wiki/C_(programming_language) Docs: https://www.securecoding.cert.org/confluence/display/c/SEI+CERT+C+Coding+Standard Docs: https://cwe.mitre.org/top25/#CWE-120 Docs: https://cwe.mitre.org/data/definitions/120.html#Demonstrative_Examples Docs: https://learnxinyminutes.com/docs/c/ C is a third-generation programming language which affords relatively low-level machine access while providing helpful abstractions. Every :ref:`Windows` kernel is written in C. The GNU/:ref:`Linux` kernel is written in C and often compiled by :ref:`GCC` or :ref:`Clang` for a particular architecture (see: man uname) The :ref:`OSX` kernel is written in C. :ref:`Libc` libraries are written in C. Almost all of the projects linked here, at some point, utilize code written in C. .. index:: Libc Libc Wikipedia: https://en.wikipedia.org/wiki/C_POSIX_library A libc is a standard library of :ref:`C` routines. Libc implementations: :ref:`Glibc` :ref:`BSD Libc \u003cbsd-libc\u003e` https://en.wikipedia.org/wiki/UClibc :ref:`Bionic` .. index:: GNU Libc .. index:: Glibc Glibc Wikipedia: https://en.wikipedia.org/wiki/GNU_C_Library Homepage: https://www.gnu.org/software/libc/ Docs: https://www.gnu.org/software/libc/documentation.html Docs: https://www.gnu.org/software/libc/manual/html_mono/libc.html Docs: https://sourceware.org/glibc/wiki/HomePage Src: https://en.wikipedia.org/wiki/GNU_C_Library Glibc is the GNU :ref:`C` Library (:ref:`libc`). Many :ref:`Linux` packages and the :ref:`GNU/Linux \u003clinux\u003e` kernel build from Glibc. .. index:: BSD Libc BSD Libc Wikipedia: https://en.wikipedia.org/wiki/C_standard_library#BSD_libc Src: https://svnweb.freebsd.org/base/head/lib/libc/ Src: https://cvsweb.openbsd.org/cgi-bin/cvsweb/src/lib/libc/ Src: https://opensource.apple.com/source/Libc/ BSD libc are a superset of :ref:`POSIX`. :ref:`OSX` builds from BSD libc. :ref:`Android` :ref:`Bionic` is a BSD libc. .. index:: Bionic Bionic Wikipedia: https://en.wikipedia.org/wiki/Bionic_(software) Src: git https://github.com/android/platform_bionic Docs: https://developer.android.com/tools/sdk/ndk/index.html Bionic is the :ref:`Android` :ref:`libc`, which is a :ref:`BSD Libc \u003cbsd-libc\u003e`. .. index:: C++ C++ Wikipedia: https://en.wikipedia.org/wiki/C++ Docs: https://learnxinyminutes.com/docs/c++/ C++ is a free and open source third-generation programming language which adds object orientation and a standard library to :ref:`C`. C++ is an ISO specification: C++98, C++03, C++11 (C++0x), C++14, [ C++17 ] There are many template libraries for C++: https://en.wikipedia.org/wiki/List_of_C%2B%2B_template_libraries .. index:: Standard Template Library Standard Template Library Wikipedia: https://en.wikipedia.org/wiki/Standard_Template_Library .. index:: libstdc++ libstdc++ Src: https://gcc.gnu.org/git/?p=gcc.git;a=tree;f=libstdc%2B%2B-v3 Src: https://github.com/gcc-mirror/gcc/tree/master/libstdc%2B%2B-v3 Docs: https://gcc.gnu.org/onlinedocs/libstdc++/ libstdc++ is the free and open source GNU :ref:`C++` :ref:`Standard Template Library`. :ref:`GCC` (:ref:`G++`) typically builds with libstdc++. libc++ Homepage: https://libcxx.llvm.org/ Src: https://github.com/llvm/llvm-project/tree/master/libcxx/ Docs: https://libcxx.llvm.org/docs/ libc++ (libcxx) is the free and open source :ref:`LLVM` :ref:`C++` :ref:`Standard Template Library`. :ref:`Clang` (:ref:`clang++`) typically builds with libc++ (libcxx). .. index:: Microsoft STL Microsoft STL Src: https://github.com/microsoft/STL Microsoft STL is Microsoft's free and open source implementation of the :ref:`C++` :ref:`Standard Template Library`. Microsoft Visual C++ typically builds with the Microsoft STL. .. index:: Boost Boost Wikipedia: https://en.wikipedia.org/wiki/Boost_(C%2B%2B_libraries) Homepage: https://www.boost.org/ Src: https://github.com/boostorg/boost Docs: https://www.boost.org/doc/ Docs: https://www.boost.org/doc/libs/release/ Docs: https://www.boost.org/doc/libs/release/more/getting_started/ Docs: https://www.boost.org/doc/libs/release/libs/python/doc/html/ Boost is a free and open source set of :ref:`C++` libraries for doing lots of things in C++. .. index:: Fortran Fortran Wikipedia: https://en.wikipedia.org/wiki/Fortran Fortran (or FORTRAN) is a third-generation programming language frequently used for mathematical and scientific computing. Some of the :ref:`SciPy` libraries build optimized mathematical Fortran routines. .. index:: Haskell Haskell Wikipedia: https://en.wikipedia.org/wiki/Haskell_(programming_language) Homepage: https://www.haskell.org/ Download: https://www.haskell.org/downloads Download: https://www.haskell.org/platform/ Docs: https://www.haskell.org/documentation Docs: https://learnxinyminutes.com/docs/haskell/ Docs: http://learnyouahaskell.com/chapters Docs: https://en.wikipedia.org/wiki/Haskell_features Haskell is a free and open source strongly statically typed purely functional programming language. :ref:`Cabal` is the Haskell package manager. :ref:`Pandoc` is written in Haskell. .. index:: Go Go Wikipedia: https://en.wikipedia.org/wiki/Go_(programming_language) Homepage: https://go.dev/ Src: https://github.com/golang/go Docs: https://go.dev/doc/ Docs: https://go.dev/doc/effective_go Docs: https://go.dev/security/fuzz/ Docs: https://pkg.go.dev/ Docs: https://pkg.go.dev/std Docs: https://pkg.go.dev/testing LearnXinYMinutes: https://learnxinyminutes.com/docs/go/ Go is a free and open source statically-typed :ref:`C`-based third generation language. Go binaries may be compiled without a libc; may make direct kernel syscalls on the platform or platforms they're compiled for. - https://github.com/goplus/libc Better Go Playground https://goplay.tools/ .. index:: Java Java Wikipedia: https://en.wikipedia.org/wiki/Java_(programming_language) Docs: http://javadocs.org/ Docs: https://learnxinyminutes.com/docs/java/ Java is a third-generation programming language which is compiled into code that runs in a virtual machine (JVM) written in :ref:`C` for many different operating systems. .. index:: JVM JVM Wikipedia: https://en.wikipedia.org/wiki/Java_virtual_machine A JVM (\"Java Virtual Machine\") runs :ref:`Java` code (classes and JARs). There are JVMs available for very many platforms Both the JRE and the JDK include a compiled JVM: JRE -- Java Runtime Environment (End Users) JDK -- Java Developer Kit (Developers) Java SE is an implementation specification with things like java.lang and java.io and java.net There are now multiple Java SE Implementations: Wikipedia: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition https://en.wikipedia.org/wiki/Java_(software_platform)#History Oracle Java (was Sun Java) Wikipedia: https://en.wikipedia.org/wiki/Java_Development_Kit Download: https://www.oracle.com/technetwork/java/javase/ Download: https://www.oracle.com/technetwork/java/javase/downloads/ Download: https://www.java.com/en/download/ Docs: https://www.java.com/en/download/help/index_installing.xml?os=All+Platforms OpenJDK (open source) Wikipedia: https://en.wikipedia.org/wiki/OpenJDK Homepage: https://openjdk.java.net/ Download: https://openjdk.java.net/install/ Src: https://hg.openjdk.java.net/ Docs: https://wiki.openjdk.java.net/ Docs: https://openjdk.java.net/guide/ IcedTea (open source) Wikipedia: https://en.wikipedia.org/wiki/IcedTea Java EE (\"Java Enterprise Edition\") extends Java SE with a number of APIs for web services (javax.servlet, javax.transaction) https://en.wikipedia.org/wiki/Java_Platform,_Enterprise_Edition .. index:: Javascript Javascript Wikipedia: https://en.wikipedia.org/wiki/JavaScript Docs: https://learnxinyminutes.com/docs/javascript/ Javascript (JS) is a free and open source third-generation programming language designed to run in an interpreter; now specified as :ref:`ECMAScript`. All major web browsers support Javascript. Client-side (web) applications can be written in Javascript. Server-side (web) applications can be written in Javascript, often with :ref:`Node.js`, :ref:`NPM`, and :ref:`Bower` packages. Note Java and JavaScript are two distinctly different languages and developer ecosystems. .. index:: ECMAScript ECMAScript Wikipedia: https://en.wikipedia.org/wiki/ECMAScript Homepage: https://www.ecma-international.org/ecma-262/ Src: https://github.com/tc39/ecma262#ecmascript Spec: https://www.ecma-international.org/ecma-262/ Spec: https://tc39.github.io/ecma262/ Spec: https://tc39.es/ecma262/ ECMAScript (ES) is an evolving, formally-specified, weakly-typed scripting language from which :ref:`Javascript` and ActionScript are derived. There are multiple versions of ECMAScript (ES): ES1 -- ES1997 ES2 -- ES1998 ES3 -- ES1999 ES5 -- ES2009 ES6 -- ES2015 ES7 -- ES2016 ES8 -- ES2017 ES9 -- ES2018 ES10 -- ES2019 ES.Next :ref:`Babel` compiles ECMAScript (ES6+) to Javascript. Some browsers support various versions (ES7) of ECMAScript. https://en.wikipedia.org/wiki/List_of_ECMAScript_engines :ref:`Firefox` is built upon the SpiderMonkey ECMAScript engine. Google :ref:`Chrome`, :ref:`Node.JS`, and the latest Microsoft :ref:`Edge` are built upon the V8 ECMAEscript engine. .. index:: Babel Babel Wikipedia: https://en.wikipedia.org/wiki/Babel_(compiler) Homepage: https://babeljs.io/ Src: https://github.com/babel/babel Docs: https://babeljs.io/docs/en/ Babel is a :ref:`Javascript` (:ref:`ECMAScript`) compiler that transforms ES6 (ES2015) and beyond into browser-compatible JS. :ref:`ReactJS` developers commonly compile ES6+ and :ref:`JSX` to JS with Babel. .. index:: Node.js Node.js Wikipedia: https://en.wikipedia.org/wiki/Node.js Homepage: https://nodejs.org/ Src: https://github.com/joyent/node Docs: https://nodejs.org/en/docs/ Docs: https://nodejs.org/api/ Node.js is a free and open source framework for :ref:`Javascript` applications written in :ref:`C`, :ref:`C++`, and :ref:`Javascript`. .. index:: Jinja2 Jinja2 Wikipedia: https://en.wikipedia.org/wiki/Jinja_%28template_engine%29 Homepage: https://palletsprojects.com/p/jinja/ Src: https://github.com/pallets/jinja Docs: https://jinja2.readthedocs.io/en/latest/ Docs: https://jinja.palletsprojects.com/ Jinja2 is a free and open source templating engine written in :ref:`Python`. :ref:`Sphinx` and :ref:`Salt` are two projects that utilize Jinja2. .. index:: Perl Perl Wikipedia: https://en.wikipedia.org/wiki/Perl Homepage: https://www.perl.org/ Project: https://dev.perl.org/perl5/ Docs: https://www.perl.org/docs.html Src: git git://perl5.git.perl.org/perl.git Perl is a free and open source, dynamically typed, :ref:`C`-based third-generation programming language. Many of the :ref:`Debian` system management tools are or were originally written in Perl. .. index:: Python Python Wikipedia: https://en.wikipedia.org/wiki/Python_(programming_language) Homepage: https://www.python.org/ Src: git https://github.com/python/cpython Src: git https://github.com/python/peps Docs: https://docs.python.org/2/ Docs: https://docs.python.org/3/ Docs: https://docs.python.org/devguide/ Docs: https://docs.python.org/devguide/documenting.html Docs: https://wiki.python.org/moin/PythonBooks Docs: https://www.onlineprogrammingbooks.com/python/ Docs: https://www.reddit.com/r/learnpython/wiki/index Docs: https://www.reddit.com/r/learnpython/wiki/books Docs: https://www.quora.com/Python-programming-language-1/What-are-the-best-books-courses-for-learning-Python Docs: https://en.wikiversity.org/wiki/Python Docs: https://www.class-central.com/search?q=python Docs: https://learnxinyminutes.com/docs/python/ Awesome: https://github.com/vinta/awesome-python Python is a free and open source dynamically-typed, :ref:`C`-based third-generation programming language. As a multi-paradigm language with support for functional and object-oriented code, Python is often utilized for system administration and scientific software development. Many of the :ref:`RedHat` system management tools (e.g. the :ref:`Yum` and :ref:`dnf` package managers) are written in Python. The Gentoo :ref:`Portage` package manager is written in Python. The :ref:`Conda` package manager is written in Python. :ref:`IPython`, :ref:`Pip`, :ref:`Conda`, :ref:`Sphinx`, :ref:`Docutils`, :ref:`Mercurial`, :ref:`OpenStack`, :ref:`Libcloud`, :ref:`Salt`, :ref:`Ansible`, :ref:`Tox`, :ref:`Virtualenv`, and :ref:`Virtualenvwrapper` are all written in Python. :ref:`PyPI` is the Python community index for sharing open source :ref:`python packages`. :ref:`Pip` installs from PyPI. The Python community is generously supported by a number of sponsors and the Python Infrastructure Team: https://www.python.org/psf/sponsorship/ https://www.python.org/psf/members/#sponsor-members https://infra.psf.io/ https://github.com/python/psf-salt https://packaging.python.org/ https://github.com/pypa/packaging.python.org .. index:: CPython CPython Wikipedia: https://en.wikipedia.org/wiki/Python_(programming_language) Homepage: https://www.python.org/ Docs: https://docs.python.org/ Docs: https://docs.python.org/devguide/ Docs: https://docs.python.org/devguide/documenting.html Docs: https://learnxinyminutes.com/docs/python/ Src: hg https://hg.python.org/cpython CPython is the reference :ref:`Python` language implementation written in :ref:`C`. https://github.com/python/cpython/blob/master/Grammar/python.gram CPython can interface with other :ref:`C` libraries through a number of interfaces: Python C-API: https://docs.python.org/3/c-api/ :ref:`CFFI` | Docs: https://cffi.readthedocs.io/en/latest/ :ref:`Cython` There are other implementations of Python: :ref:`Stackless Python` :ref:`Jython` :ref:`PyPy` :ref:`RustPython` .. index:: Cython Cython Wikipedia: https://en.wikipedia.org/wiki/Cython Homepage: https://cython.org/ PyPI: https://pypi.python.org/pypi/Cython Docs: https://docs.cython.org/ Docs: https://docs.cython.org/src/userguide/language_basics.html Cython is a superset of :ref:`CPython` which adds static type definitions; making :ref:`CPython` code faster, in many cases. .. index:: NumPy NumPy Wikipedia: https://en.wikipedia.org/wiki/NumPy Homepage: https://www.numpy.org/ Src: https://github.com/numpy/numpy Docs: https://docs.scipy.org/doc/numpy/ NumPy is a library of array-based mathematical functions implemented in :ref:`C` and :ref:`Python`. https://nbviewer.jupyter.org/github/jrjohansson/scientific-python-lectures/blob/master/Lecture-2-Numpy.ipynb https://scipy-lectures.github.io/intro/numpy/index.html https://scipy-lectures.github.io/advanced/advanced_numpy/index.html NumPy and other languages: https://docs.scipy.org/doc/numpy/user/numpy-for-matlab-users.html https://github.com/ipython/ipython/wiki/Extensions-Index .. index:: SciPy SciPy Wikipedia: https://en.wikipedia.org/wiki/SciPy Homepage: https://scipy.org/ Src: https://github.com/scipy/scipy Docs: https://www.scipy.org/docs.html Docs: https://docs.scipy.org/doc/scipy/reference/ Docs: https://www.scipy.org/install.html SciPy is a set of science and engineering libraries for :ref:`Python`, primarily written in :ref:`C`. https://nbviewer.jupyter.org/github/jrjohansson/scientific-python-lectures/blob/master/Lecture-3-Scipy.ipynb https://scipy-lectures.github.io/intro/scipy.html The :ref:`SciPy Stack \u003cscipystack\u003e` specification includes the SciPy package and its dependencies. .. index:: SciPy Stack SciPy Stack Docs: https://www.scipy.org/stackspec.html Docs: https://www.scipy.org/install.html Python Distributions :ref:`Sage Math` (:ref:`SageMathCloud`) Enthought Canopy Python(x,y) WinPython Pyzo :ref:`Anaconda` (:ref:`Conda`, :ref:`Wakari`) .. index:: Scipy Stack Docker Containers SciPy Stack Docker Containers .. index:: Jupyter Docker Stacks Jupyter Docker Stacks Src: https://github.com/jupyter/docker-stacks DockerHub: https://hub.docker.com/r/ipython/ipython/ DockerHub: https://hub.docker.com/r/jupyter/ DockerHub: https://hub.docker.com/r/jupyter/datascience-notebook/ DockerHub: https://hub.docker.com/r/jupyter/tmpnb/ :ref:`Jupyter` and :ref:`Scipystack` :ref:`Docker` containers: https://hub.docker.com/r/jupyter/datascience-notebook/ https://github.com/jupyter/docker-stacks/tree/master/datascience-notebook#docker-options :ref:`conda` https://github.com/jupyter/tmpnb#using-jupyterdocker-stacks-images See also: :ref:`Docker` https://wrdrd.github.io/docs/consulting/data-science#reproducibility .. index:: PyPy PyPy Wikipedia: https://en.wikipedia.org/wiki/PyPy Homepage: https://pypy.org/ Src: https://bitbucket.org/pypy/pypy Docs: http://buildbot.pypy.org/waterfall Docs: https://pypy.readthedocs.io/en/latest/ Docs: https://pypy.readthedocs.io/en/latest/introduction.html PyPy is a JIT LLVM compiler for :ref:`Python` code written in RPython -- a restricted subset of :ref:`CPython` syntax -- which compiles to :ref:`C`, and is often faster than :ref:`CPython` for many types of purposes. .. index:: NumPyPy NumPyPy NumPyPy is a port of :ref:`NumPy` to :ref:`PyPy`: Src: https://bitbucket.org/pypy/numpypy Docs: http://buildbot.pypy.org/numpy-status/latest.html Docs: https://pypy.org/numpydonate.html .. index:: Python 3 Python 3 Docs: https://docs.python.org/3/ Docs: https://docs.python.org/3/howto/pyporting.html Docs: https://docs.python.org/3/howto/cporting.html Docs: https://learnxinyminutes.com/docs/python3/ Python 3 made a number of incompatible changes, requiring developers to update and review their Python 2 code in order to \"port to\" Python 3. Python 2 will be supported in \"no-new-features\" status for quite some time. Python 3 Wall of Superpowers tracks which popular packages have been ported to support Python 3: https://python3wos.appspot.com/ There are a number of projects which help bridge the gap between the two language versions: https://pypi.python.org/pypi/six https://six.readthedocs.io/ https://pypi.python.org/pypi/nine https://github.com/nandoflorestan/nine/blob/master/nine/__init__.py https://pypi.python.org/pypi/future https://python-future.org/ See also: :ref:`Anaconda` .. index:: awesome-python-testing awesome-python-testing Homepage: https://westurner.github.io/wiki/awesome-python-testing.html Src: https://github.com/westurner/wiki/blob/master/awesome-python-testing.rest .. index:: Tox Tox Homepage: https://testrun.org/tox/ Docs: https://tox.readthedocs.io/en/latest/ Src: https://github.com/tox-dev/tox Pypi: https://pypi.python.org/pypi/tox Tox is a build automation tool designed to build and test Python projects with multiple language versions and environments in separate :ref:`virtualenvs \u003cvirtualenv\u003e`. Run the py27 environment: tox -v -e py27 tox --help .. index:: Ruby Ruby Wikipedia: https://en.wikipedia.org/wiki/Ruby_(programming_language) Homepage: https://www.ruby-lang.org/ Src: https://github.com/ruby/ruby Docs: https://www.ruby-lang.org/en/documentation/ Docs: https://learnxinyminutes.com/docs/ruby/ Ruby is a free and open source dynamically-typed programming language. :ref:`Vagrant` is written in Ruby. .. index:: Rust Rust Wikipedia: https://en.wikipedia.org/wiki/Rust_(programming_language) Homepage: https://www.rust-lang.org/ Docs: https://doc.rust-lang.org/stable/ Docs: https://doc.rust-lang.org/nightly/ Docs: https://learnxinyminutes.com/docs/rust/ Docs: https://doc.rust-lang.org/book/ Rust is a free and open source strongly typed multi-paradigm programming language. It's possible to \"drop-in replace\" :ref:`C` and :ref:`C++` modules with rust code Rust can call into :ref:`C` code Rust is similar to but much safer than :ref:`C` and :ref:`C++` (\"memory safety\") In terms of :ref:`C` compatibility and smart pointers/references (\"memory safety\"); :ref:`Go` and :ref:`Rust` have similar objectives. https://doc.rust-lang.org/book/ownership.html https://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization https://en.wikipedia.org/wiki/Smart_pointer https://doc.rust-lang.org/book/the-stack-and-the-heap.html https://rust-lang.github.io/rlibc/rlibc/fn.memcpy.html pub unsafe extern fn memcpy(dest: *mut u8, src: *const u8, n: usize) -\u003e *mut u8 .. index:: Scala Scala Wikipedia: https://en.wikipedia.org/wiki/Scala_(programming_language) Homepage: https://scala-lang.org/ Src: git https://github.com/scala/scala Twitter: https://twitter.com/scala_lang Docs: https://scala-lang.org/api/current/ Docs: https://scala-lang.org/api/current/#scala.collection.mutable.LinkedHashMap Docs: https://learnxinyminutes.com/docs/scala/ Scala is a free and open source object-oriented and functional :ref:`programming language` which compiles to :ref:`JVM` (and :ref:`LLVM`) bytecode. .. index:: TypeScript TypeScript Wikipedia: https://en.wikipedia.org/wiki/TypeScript Homepage: https://www.typescriptlang.org/ Src: https://github.com/Microsoft/TypeScript NPM: https://www.npmjs.com/package/typescript NPMPkg: typescript Standard: https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md FileExt: .ts Docs: https://www.typescriptlang.org/Tutorial Docs: https://www.typescriptlang.org/Handbook Docs: https://learnxinyminutes.com/docs/typescript/ TypeScript is a free and open source :ref:`Programming Language` developed as a superset of :ref:`Javascript` with optional additional features like static typing and native object-oriented code. Angular 2 is written in :ref:`TypeScript`: https://github.com/angular/angular/blob/master/modules/angular2/angular2.ts .. index:: WebAssembly WebAssembly Wikipedia: https://en.wikipedia.org/wiki/WebAssembly Project: https://www.w3.org/community/webassembly/ Src: https://github.com/WebAssembly FileExt: .wast FileExt: .wasm Docs: https://github.com/WebAssembly/design Docs: https://github.com/WebAssembly/design/blob/master/UseCases.md WebAssembly (wasm) is a safe (sandboxed), efficient low-level :ref:`programming language` (abstract syntax tree) and binary format for the web. WebAssembly is initially derived from asm.js and PNaCL. WebAssembly is an industry-wide effort. :ref:`LLVM` can generate WebAssembly from e.g. :ref:`C` and :ref:`C++` code. .. index:: YAML YAML Wikipedia: https://en.wikipedia.org/wiki/YAML Homepage: https://yaml.org Docs: https://learnxinyminutes.com/docs/yaml/ YAML (\"YAML Ain't Markup Language\") is a concise data serialization format. Most :ref:`Salt` states and pillar data are written in YAML. Here's an example top.sls file: base: '*': - openssh '*-webserver': - webserver '*-workstation': - gnome - i3 .. index:: Compilers Compilers Wikipedia: https://en.wikipedia.org/wiki/Compiler WikipediaCategory: https://en.wikipedia.org/wiki/Category:Compilers History of compiler construction https://en.wikipedia.org/wiki/History_of_compiler_construction .. index:: Interpreters Interpreter Wikipedia: https://en.wikipedia.org/wiki/Interpreter_(computing) WikipediaCategory: https://en.wikipedia.org/wiki/Category:Interpreters_(computing) https://en.wikipedia.org/wiki/List_of_command-line_interpreters https://en.wikipedia.org/wiki/List_of_command-line_interpreters#Operating_system_shells https://en.wikipedia.org/wiki/List_of_command-line_interpreters#Programming https://en.wikipedia.org/wiki/List_of_command-line_interpreters#Programming_languages A programming :ref:`language` interpreter interprets instructions without an ahead-of-time compilation step. A programming language interpreter is generally compiled ahead-of-time. A programming language interpreter implements a version of a programming language specification. Command :ref:`Shells` (e.g. :ref:`Bash`, :ref:`ZSH`) are programming language interpreters. Scripting :ref:`Languages` (e.g. :ref:`PERL`, :ref:`Ruby`, :ref:`Python`) are interpreted or interpret-able languages. Interpreted languages can often also be compiled ahead-of-time (e.g. with build optimizations). .. index:: Source-to-Source Compiler Source-to-Source compiler Wikipedia: https://en.wikipedia.org/wiki/Source-to-source_compiler WikipediaCategory: https://en.wikipedia.org/wiki/Category:Source-to-source_compilers .. index:: ROSE ROSE Wikipedia: https://en.wikipedia.org/wiki/ROSE_(compiler_framework) Homepage: http://rosecompiler.org/ Src: git https://github.com/rose-compiler/rose Docs: http://rosecompiler.org/?page_id=11 Docs: http://rosecompiler.org/ROSE_Tutorial/ROSE-Tutorial.pdf Docs: http://www.rosecompiler.org/ROSE_HTML_Reference/ Docs: http://wiki.rosecompiler.org/ http://rosecompiler.org/ROSE_Tutorial/ROSE-Tutorial.pdf .. index:: Binutils .. index:: GNU Binutils Binutils Wikipedia: https://en.wikipedia.org/wiki/GNU_Binutils Homepage: https://www.gnu.org/software/binutils/ Src: git git://sourceware.org/git/binutils-gdb.git Docs: https://sourceware.org/binutils/docs-2.24/ Docs: https://sourceware.org/binutils/docs-2.24/binutils/index.html Docs: https://sourceware.org/binutils/docs-2.24/as/index.html Docs: https://sourceware.org/binutils/docs-2.24/ld/index.html GNU Binutils are a set of utilities for working with assembly and binary. :ref:`GCC` utilizes GNU Binutils to compile the GNU/:ref:`Linux` kernel and userspace. GAS, the GNU Assembler (as) assembles ASM code for linking by the GNU linker (ld). .. index:: Clang Clang Wikipedia: https://en.wikipedia.org/wiki/Clang Homepage: https://clang.llvm.org/ Src: git https://github.com/llvm/llvm-project Docs: https://clang.llvm.org/docs/ Docs: https://clang.llvm.org/docs/UsersManual.html Clang is a compiler front end for :ref:`C`, :ref:`C++`, and Objective C/++. Clang is part of the :ref:`LLVM` project. .. index:: GCC .. index:: GNU Compiler Collection GCC Wikipedia: https://en.wikipedia.org/wiki/GNU_Compiler_Collection Homepage: https://gcc.gnu.org/ Docs: https://gcc.gnu.org/onlinedocs/ Src: git ssh://gcc.gnu.org/git/gcc.git The GNU Compiler Collection started as a Free and Open Source compiler for :ref:`C`. There are now GCC frontends for many languages, including :ref:`C++`, :ref:`Fortran`, :ref:`Java`, and :ref:`Go`. The :ref:`C++` GCC frontend binary is called g++. .. index:: GNU Linker .. index:: ld GNU Linker Wikipedia: https://en.wikipedia.org/wiki/Linker_(computing)#GNU_linker The GNU Linker is the GNU implementation of the ld command for linking object files and libraries. .. index:: LLVM LLVM Wikipedia: https://en.wikipedia.org/wiki/LLVM Homepage: https://llvm.org/ Src: git https://github.com/llvm/llvm-project Docs: https://llvm.org/docs/ Docs: https://llvm.org/docs/GettingStarted.html Docs: https://llvm.org/docs/ReleaseNotes.html Docs: https://llvm.org/ProjectsWithLLVM/ LLVM \"Low Level Virtual Machine\" is a reusable compiler infrastructure with frontends for many languages. :ref:`Clang` is an LLVM frontend for C-based languages like :ref:`C`, :ref:`C++`, :ref:`CUDA`, and :ref:`OpenCL`. There is a :ref:`WASM` LLVM backend: LLVM can produce :ref:`WebAssembly` binaries. The :ref:`C++` LLVM frontend binary is called clang++. .. index:: Operating Systems Operating Systems Wikipedia: https://en.wikipedia.org/wiki/Operating_system WikipediaCategory: https://en.wikipedia.org/wiki/Category:Operating_systems WikipediaCategory: https://en.wikipedia.org/wiki/Category:Operating_system_technology History of operating systems https://en.wikipedia.org/wiki/History_of_operating_systems Timeline of operating systems https://en.wikipedia.org/wiki/Timeline_of_operating_systems List of operating systems https://en.wikipedia.org/wiki/List_of_operating_systems Comparison of operating systems https://en.wikipedia.org/wiki/Comparison_of_operating_systems https://distrowatch.com/ https://en.wikipedia.org/wiki/List_of_important_publications_in_computer_science#Operating_systems .. index:: POSIX POSIX Wikipedia: https://en.wikipedia.org/wiki/POSIX Docs: https://en.wikipedia.org/wiki/POSIX#POSIX-oriented_operating_systems POSIX (\"Portable Operating System Interface\") is a set of standards for :ref:`Shells`, :ref:`Operating Systems`, and APIs. .. index:: GNU/Linux .. index:: Linux Linux Wikipedia: https://en.wikipedia.org/wiki/Linux Homepage: https://www.kernel.org/ Docs: https://www.kernel.org/doc/ Src: git https://github.com/torvalds/linux GNU/Linux (\"Linux\") is a free and open source operating system kernel written in :ref:`C`. uname -a; echo \"Linux\" uname -o; echo \"GNU/Linux\" .. index:: Linux Distributions Linux Distributions Wikipedia: https://en.wikipedia.org/wiki/Linux_distribution A Linux Distribution is a collection of :ref:`Packages` compiled to work with a :ref:`GNU/Linux \u003clinux\u003e` kernel and a :ref:`libc`. https://commons.wikimedia.org/wiki/File:Linux_Distribution_Timeline_with_Android.svg .. index:: Arch Arch Wikipedia: https://en.wikipedia.org/wiki/Arch_Linux Homepage: https://www.archlinux.org/ Download: https://www.archlinux.org/download/ Docs: https://wiki.archlinux.org/ Docs: https://aur.archlinux.org/ Docs: https://aur4.archlinux.org/ Docs: https://wiki.archlinux.org/index.php/Arch_packaging_standards Docs: https://wiki.archlinux.org/index.php/Arch_User_Repository#AUR_4 Arch Linux is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`AUR` packages. .. index:: Debian Debian Wikipedia: https://en.wikipedia.org/wiki/Debian Homepage: https://www.debian.org/ Download: https://www.debian.org/distrib/ DockerHub: https://hub.docker.com/_/debian/ Docs: https://www.debian.org/doc/ Docs: https://www.debian.org/doc/manuals/debian-reference/ Docs: https://www.debian.org/doc/#manuals Docs: https://www.debian.org/doc/debian-policy/ (main, contrib, non-free) Docs: https://www.debian.org/releases/stable/releasenotes Docs: https://www.debian.org/releases/stable/i386/release-notes/ Docs: https://www.debian.org/releases/stable/amd64/release-notes/ Debian is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`DEB` packages. .. index:: Ubuntu Ubuntu Wikipedia: https://en.wikipedia.org/wiki/Ubuntu_(operating_system) Homepage: https://ubuntu.com/ Src: https://launchpad.net/ubuntu Src: http://archive.ubuntu.com/ Src: http://releases.ubuntu.com/ Download: https://ubuntu.com/download DockerHub: https://hub.docker.com/_/ubuntu/ Docs: https://help.ubuntu.com/ Q\u0026A: https://askubuntu.com Ubuntu is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`DEB` packages which are often derived from :ref:`Debian` packages. .. index:: Fedora Fedora Wikipedia: https://en.wikipedia.org/wiki/Fedora_(operating_system) Homepage: https://getfedora.org/ Download: https://getfedora.org/en/workstation/download/ Download: https://getfedora.org/en/server/download/ Download: https://getfedora.org/en/cloud/download/ DockerHub: https://hub.docker.com/_/fedora/ Docs: https://docs.fedoraproject.org/en-US/index.html Docs: https://fedoraproject.org/wiki/Fedora_Project_Wiki Docs: https://fedoraproject.org/wiki/EPEL Fedora is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`RPM` packages. .. index:: RedHat .. index:: RedHat Enterprise Linux .. index:: RHEL RedHat Wikipedia: https://en.wikipedia.org/wiki/Red_Hat_Enterprise_Linux Homepage: https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux Docs: https://access.redhat.com/documentation/en-US/ Docs: https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/ RedHat Enterprise Linux (\"RHEL\") is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`RPM` packages. .. index:: CentOS CentOS Wikipedia: https://en.wikipedia.org/wiki/CentOS Homepage: https://www.centos.org/ Download: https://www.centos.org/download/ Docs: https://wiki.centos.org/ Docs: https://www.centos.org/docs/ DockerHub: https://hub.docker.com/_/centos/ CentOS is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`RPM` packages which is derived from :ref:`RHEL \u003credhat\u003e`. .. index:: Scientific Linux Scientific Linux Wikipedia: https://en.wikipedia.org/wiki/Scientific_Linux Homepage: https://en.wikipedia.org/wiki/Scientific_Linux Scientific Linux is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`RPM` packages which is derived from :ref:`CentOS`. which is derived from :ref:`RHEL \u003credhat\u003e`. rdfs:seeAlso :ref:`Anaconda` (:ref:`Conda`) rdfs:seeAlso :ref:`Portage` .. index:: Oracle Linux Oracle Wikipedia: https://en.wikipedia.org/wiki/Oracle_Linux Homepage: https://www.oracle.com/linux Oracle Linux is a :ref:`Linux Distribution \u003clinux-distributions\u003e` that is built from :ref:`RPM` packages which is derived from :ref:`RHEL \u003credhat\u003e`. .. index:: Gentoo Gentoo Wikipedia: https://en.wikipedia.org/wiki/Gentoo Homepage: https://gentoo.org/ Src: https://github.com/gentoo Src: git https://github.com/gentoo/portage Docs: https://wiki.gentoo.org/wiki/ Docs: https://wiki.gentoo.org/wiki/Handbook:Main_Page Docs: https://wiki.gentoo.org/wiki/Handbook:AMD64 Docs: https://wiki.gentoo.org/wiki/Handbook:X86 Docs: https://wiki.gentoo.org/wiki/Project:Portage Docs: https://wiki.gentoo.org/wiki/Project:Hardened Gentoo is a :ref:`Linux Distribution \u003clinux-distributions\u003e` built on :ref:`Portage`. https://hub.docker.com/search?q=gentoo (Stage 3 + Portage) .. index:: ChromiumOS ChromiumOS Wikipedia: https://en.wikipedia.org/wiki/Chromium_OS Homepage: https://www.chromium.org/chromium-os Docs: https://www.chromium.org/chromium-os/quick-start-guide Docs: https://www.chromium.org/chromium-os/developer-guide Src: https://chromium.googlesource.com/ (chromiumos*/) ChromiumOS is a :ref:`Linux Distribution \u003clinux-distributions\u003e` built on :ref:`Portage`. .. index:: Crouton Crouton Src: https://github.com/dnschneid/crouton Crouton (\"Chromium OS Universal Chroot Environment\") installs and debootstraps a :ref:`Linux Distribution \u003clinux-distributions\u003e` (i.e. :ref:`Debian` or :ref:`Ubuntu`) within a :ref:`ChromiumOS` or :ref:`ChromeOS` chroot. .. index:: ChromeOS ChromeOS Wikipedia: https://en.wikipedia.org/wiki/Chrome_OS ChromeOS is a :ref:`Linux Distribution \u003clinux-distributions\u003e` built on :ref:`ChromiumOS` and :ref:`Portage`. ChromeOS powers Chromebooks https://en.wikipedia.org/wiki/Chromebook ChromeOS powers Chromeboxes https://en.wikipedia.org/wiki/Chromebox .. index:: CoreOS CoreOS Wikipedia: https://en.wikipedia.org/wiki/CoreOS Homepage: https://coreos.com/ Src: https://github.com/coreos Docs: https://coreos.com/docs/ Docs: https://coreos.com/docs/#running-coreos Docs: https://coreos.com/docs/running-coreos/platforms/vagrant/ Docs: https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/getting-started-guides/coreos.md CoreOS is a :ref:`Linux Distribution \u003clinux-distributions\u003e` for highly available distributed computing. CoreOS schedules redundant :ref:`docker` images with fleet and systemd according to configuration stored in etcd, a key-value store with a D-Bus interface. CoreOS runs on very many platforms CoreOS does not provide a package manager CoreOS schedules Docker CoreOS -- Operating System etcd -- Consensus and Discovery rkt -- Container Runtime fleet -- Distributed init system (etcd, systemd) flannel -- Networking .. index:: Linux Notes Linux Notes https://github.com/westurner/provis https://github.com/saltstack/salt-bootstrap curl -L https://bootstrap.saltstack.com scripts/bootstrap-salt.sh Masterless Salt Config: make salt_local_highstate_test [ ] Workstation role Linux Dual Boot [ ] GRUB chainloader to partition boot record Ubuntu and Fedora GRUB try to autodiscover Windows partitions .. index:: Android Android Wikipedia: https://en.wikipedia.org/wiki/Android_(operating_system) Homepage: https://www.android.com/ Homepage: https://developer.android.com/ .. index:: Android SDK Android SDK Homepage: https://developer.android.com/sdk/ Src: https://android.googlesource.com/ Src: https://github.com/android Docs: https://developer.android.com/sdk/ Docs: https://developer.android.com/sdk/installing/index.html Docs: https://developer.android.com/sdk/installing/adding-packages.html Docs: https://source.android.com/source/index.html Docs: https://source.android.com/source/downloading.html Docs: https://source.android.com/source/developing.html Docs: https://source.android.com/source/contributing.html Docs: https://sites.google.com/a/android.com/tools/build Docs: https://developer.android.com/tools/workflow/index.html .. index:: Android Studio Android Studio Homepage: https://developer.android.com/tools/studio/index.html Docs: https://developer.android.com/tools/workflow/index.html Docs: https://sites.google.com/a/android.com/tools/build/studio .. index:: Apple OSX .. index:: OS X .. index:: OSX OS X Wikipedia: https://en.wikipedia.org/wiki/OS_X Wikipedia: https://en.wikipedia.org/wiki/MacOS Homepage: https://www.apple.com/osx Homepage: https://www.apple.com/macos/ Docs: https://developer.apple.com/technologies/mac/ Docs: https://developer.apple.com/library/mac/navigation/ Docs: https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/ Src: https://www.apple.com/opensource/ OS X is a UNIX operating system based upon the Mach kernel from NeXTSTEP, which was partially derived from NetBSD and FreeBSD. OS X GUI support is built from XFree86/X.org :ref:`X11`. OS X maintains forks of many POSIX BSD and GNU tools like bash, readlink, and find. :ref:`Homebrew` installs and maintains packages for OS X. uname; echo \"Darwin\" .. index:: iOS iOS Wikipedia: https://en.wikipedia.org/wiki/IOS Homepage: https://www.apple.com/ios/ iOS is a closed source UNIX operating system based upon many components of :ref:`OSX` adapted for phones and then tablets. iOS powers iPhones and iPads You must have a Mac with :ref:`OSX` and XCode to develop and compile for iOS. OSX Notes [ ] Create a fresh install :ref:`OSX` USB drive (16GB+) http://osxdaily.com/2014/10/16/make-os-x-yosemite-boot-install-drive/ Docs: https://support.apple.com/en-us/HT201372 https://github.com/westurner/dotfiles/blob/master/scripts/ setup_*.sh [ ] Manually update to latest versions (of zip, tar.gz, .dmg) [ ] Port / wrap :ref:`shell \u003cshells\u003e` scripts to / with :term:`salt formulas` and parameters (per-subnet, group, machine, os; :term:`salt pillar`): [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_brew.sh # :ref:`homebrew` [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_mavericks_python.sh # :ref:`python` [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_chrome.sh # :ref:`chrome` [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_chromium.sh # :ref:`chrome` [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_firefox.sh # :ref:`firefox` [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_adobereader.sh # PDF forms, signatures, annotations [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_vlc.sh (vlc) [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_f.lux.sh (f.lux, UBY) [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_powerline_fonts.sh (UBY) [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_macvim.sh (:ref:`vim`) [ ] https://github.com/westurner/dotfiles/blob/master/scripts/setup_miniconda.sh (:ref:`conda`) https://github.com/westurner/provis [ ] https://github.com/westurner/provis/compare/feature/osx_support [ ] create / remap \"root\" group [ ] http://docs.saltstack.com/en/latest/topics/installation/osx.html brew install saltstack OR pip install salt OSX Reinstall [ ] Generate installation media [ ] Reboot to recovery partition [ ] Adjust partitions [ ] Format? [ ] Install OS [ ] (wait) [ ] Manual time/date/language config [ ] Run workstation provis scripts OSX Fresh Install [ ] Generate / obtain installation media [ ] Boot from installation media [ ] Manual time/date/language config [ ] Run workstation provis scripts OSX Dual Boot https://www.howtogeek.com/187410/how-to-install-and-dual-boot-linux-on-a-mac/ https://www.rodsbooks.com/refind/installing.html#osx .. index:: Windows Windows Wikipedia: https://en.wikipedia.org/wiki/Microsoft_Windows Homepage: https://www.microsoft.com/en-us/windows/ Docs: https://www.microsoft.com/enable/products/docs/ Docs: Microsoft Windows is a NT-kernel based operating system. There used to be a POSIX compatibility mode. Chocolatey maintains a set of :ref:`NuGet` packages for Windows. .. index:: Windows Subsystem for Linux .. index:: WSL Windows Subsystem for Linux Wikipedia: https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux Homepage: https://docs.microsoft.com/en-us/windows/wsl Source: https://github.com/Microsoft/WSL Windows Subsystem for Linux (WSL) is a binary compatibility layer which allows many Linux programs to be run on Windows 10+. The Windows Subsystem for Linux lets developers run a GNU/Linux environment -- including most command-line tools, utilities, and applications -- directly on Windows, unmodified, without the overhead of a virtual machine. Windows Subsystem for Linux is not a complete :ref:`virtualization` solution; but it does allow you to run e.g. :ref:`Ubuntu` or :ref:`Fedora` (and thus e.g. :ref:`Bash`) on a Windows machine. :ref:`Docker` for Windows is one alternative to Windows Subsystem for Linux. .. index:: Windows Sysinternals Windows Sysinternals Wikipedia: https://en.wikipedia.org/wiki/Sysinternals Homepage: https://technet.microsoft.com/en-us/sysinternals Download: https://technet.microsoft.com/en-us/sysinternals/bb842062 Download: https://live.sysinternals.com/ Docs: https://technet.microsoft.com/en-us/sysinternals/bb545027 Docs: https://blogs.technet.microsoft.com/sysinternals/ Windows Sysinternals is a group of tools for working with :ref:`Windows`. Download: https://technet.microsoft.com/en-us/sysinternals/bb842062 File \u0026 Disk: https://technet.microsoft.com/en-us/sysinternals/bb545046 Networking: https://technet.microsoft.com/en-us/sysinternals/bb795532 Process: https://technet.microsoft.com/en-us/sysinternals/bb795533 Process Explorer: https://technet.microsoft.com/en-us/sysinternals/processexplorer You can replace Task Manager (taskman.exe) with Process Explorer (procexp.exe) in many versions of Windows (e.g. so that ctrl-alt-delete launches procexp.exe Win+R launches the run dialog ## Win+R commands C:/ # open explorer to 'C:/' %UserProfile% # open the user profile env var directory cmd[.exe] # open a command prompt calc # calculator control # control panel services.msc # services management compmgmt.msc # computer management eventvwr.msc # event viewer Wupdmgr # windows update manager https://www.pcsteps.com/1675-run-command-complete-list-windows/ https://en.wikipedia.org/wiki/PATH_(variable)#DOS.2C_OS.2F2.2C_and_Windows %PATH% determines which commands you can run without typing a full absolute path. (Some programs will not run if other programs are not in a directory included in a user's current %PATH% variable) The %PATH% variable is determined by key value pairs in the Windows Registry and can be set for: The current prompt (with SET PATH=C:/additionalpath;%PATH%) A user The machine https://stackoverflow.com/questions/8358265/how-to-update-path-variable-permanently-from-cmd-windows Security: https://technet.microsoft.com/en-us/sysinternals/bb795534 System Information: https://technet.microsoft.com/en-us/sysinternals/bb795535 Miscellaneous: https://technet.microsoft.com/en-us/sysinternals/bb842059 .. index:: WSUS Offline Update WSUS Offline Update Homepage: http://www.wsusoffline.net/ Download: http://download.wsusoffline.net/ Src: svn https://svn.wsusoffline.net/svn/wsusoffline/trunk/ Docs: http://www.wsusoffline.net/docs/ WSUS Offline Update is a free and open source software tool for generating offline :ref:`Windows` upgrade CDs / DVDs containing the latest upgrades for Windows, Office, and .Net. Bandwidth costs: Windows Updates (WSUS) in GB * n_machines (see also: Debtorrent, :ref:`Packages`) \"Slipstreaming\" an installation ISO is one alternative way to avoid having to spend hours upgrading a factory reinstalled (\"reformatted\") :ref:`Windows` installation Windows Notes A few annotated excerpts from this Chocolatey :ref:`NuGet` :ref:`PowerShell` script https://gist.github.com/westurner/10950476#file-cinst_workstation_minimal-ps1 cinst GnuWin cinst sysinternals # Process Explorer XP cinst 7zip cinst curl [ ] Install Chocolatey NuGet package manager: http://chocolatey.org [ ] Install packages listed here: https://gist.github.com/westurner/10950476 [ ] (Optional) uncomment salt first (optionally specify master) [OR Install salt] [ ] Install salt: https://docs.saltstack.com/en/latest/topics/installation/windows.html \u003cWin\u003e+R (Start \u003e Run) [ ] Run services.msc and log/prune unutilized services (e.g. workstation, server) and record changes made https://en.wikipedia.org/wiki/Windows_service https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_service.html https://docs.saltstack.com/en/latest/ref/states/providers.html#provider-service Windows Dual Boot [ ] Windows MBR chain loads to partition GRUB (Linux) [ ] Ubuntu WUBI .exe Linux Installer (XP, 7, 8*) It's now better to install to a separate partition from a bootable ISO UEFI Wikipedia: https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface https://help.ubuntu.com/community/UEFI Cygwin Windows Linux Userspace: ~ https://chocolatey.org/packages/Cygwin https://github.com/giampaolo/psutil/blob/master/psutil/_psutil_windows.c http://winappdbg.sourceforge.net/#related-projects .. index:: Configuration Management Configuration Management Wikipedia: https://en.wikipedia.org/wiki/Software_configuration_management Wikipedia: https://en.wikipedia.org/wiki/Comparison_of_open-source_configuration_management_software .. index:: Ansible Ansible Wikipedia: https://en.wikipedia.org/wiki/Ansible_(software) Homepage: https://ansible.com/ Src: https://github.com/ansible/ansible Docs: https://docs.ansible.com/ Docs: https://docs.ansible.com/ansible/latest/ Docs: https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html Docs: https://docs.ansible.com/ansible/latest/modules/list_of_all_modules.html Docs: https://docs.ansible.com/ansible/latest/reference_appendices/galaxy.html Docs: https://github.com/ansible/molecule Learnxinyminutes: https://learnxinyminutes.com/docs/ansible/ Ansible is a :ref:`Configuration Management` tool written in :ref:`Python` which runs idempotent Ansible Playbooks written in :ref:`YAML` markup with :ref:`Jinja2` variables for managing one or more physical and virtual machines running various operating systems over SSH. .. index:: Cobbler Cobbler Wikipedia: https://en.wikipedia.org/wiki/Cobbler_(software) Homepage: https://cobbler.github.io/ Download: https://cobbler.github.io/downloads/2.8.x.html Src: git https://github.com/cobbler/cobbler Docs: https://cobbler.github.io/manuals/quickstart/ Docs: https://cobbler.github.io/manuals/2.8.0/ Cobbler is a machine image configuration, repository mirroring, and networked booting server with support for DNS, DHCP, TFTP, and PXE. Cobbler can template kickstart files for the :ref:`RedHat` Anaconda installer Cobbler can template :ref:`Debian` preseed files Cobbler can PXE boot an ISO over TFTP (and unattended install) BusyBox, :ref:`SystemRescueCD`, :ref:`Clonezilla` Cobbler can manage a set of DNS and DHCP entries for physical systems Cobbler can batch mirror :ref:`RPM` and :ref:`DEB` repositories (see also: apt-cacher-ng, :ref:`nginx`) Cobbler-web is a Django WSGI application; usually configured with :ref:`Apache HTTPD` and mod_wsgi. Cobbler-web delegates very many infrastructure privileges See also: crowbar, :ref:`OpenStack` Ironic bare-metal deployment .. index:: JuJu Juju Wikipedia: https://en.wikipedia.org/wiki/Juju_(software) Homepage: https://jaas.ai/ Src: https://github.com/juju/juju Docs: https://jaas.ai/docs Docs: https://jaas.ai/search?type=charm TcpPort: 8001 Juju is a :ref:`Configuration Management` tool written in :ref:`Python` which runs Juju Charms written in :ref:`Python` on one or more systems over SSH, for managing one or more physical and virtual machines running :ref:`Ubuntu`. https://github.com/juju/juju/issues/470 .. index:: osquery osquery Homepage: https://osquery.io/ Src: https://github.com/facebook/osquery Docs: https://osquery.io/docs/tables/ Docs: https://osquery.readthedocs.io/en/stable/ osquery is a tool for reading and querying many sources of system data with SQL for :ref:`OSX` and :ref:`Linux`. https://docs.saltstack.com/en/develop/ref/modules/all/salt.modules.osquery.html https://github.com/westurner/dotfiles/blob/develop/scripts/osquery-all.sh .. index:: Puppet Puppet Wikipedia: https://en.wikipedia.org/wiki/Puppet_(software) Homepage: https://puppetlabs.com/ Docs: https://puppet.com/docs Docs: https://puppet.com/docs/puppet/ Src: git https://github.com/puppetlabs TcpPort: 8140 Puppet is a :ref:`Configuration Management` system written in :ref:`Ruby` which runs Puppet Modules written in Puppet DSL or :ref:`Ruby` for managing one or more physical and virtual machines running various operating systems. https://github.com/nanliu/puppet-transport .. index:: Salt Salt Wikipedia: https://en.wikipedia.org/wiki/Salt_(software) Homepage: https://www.saltstack.com Src: git https://github.com/saltstack/salt Docs: https://docs.saltstack.com/en/latest/ Docs: https://docs.saltstack.com/en/latest/salt-modindex.html Docs: https://docs.saltstack.com/en/latest/ref/states/all/index.html Docs: https://docs.saltstack.com/en/latest/ref/clients/index.html#python-api Docs: https://docs.saltstack.com/en/latest/topics/development/hacking.html Docs: https://docs.saltstack.com/en/latest/glossary.html Pypi: https://pypi.python.org/pypi/salt Twitter: https://twitter.com/SaltStackInc IRC: #salt TcpPort: 4505 (salt zmq) TcpPort: 4506 (salt zmq) TcpPort: 22 (salt-ssh) Salt is a :ref:`Configuration Management` system written in :ref:`Python` which runs Salt Formulas written in :ref:`YAML`, :ref:`Jinja2`, :ref:`Python` for managing one or more physical and virtual machines running various operating systems. .. index:: Software Build Tools .. index:: Build Automation Tools Build Automation Tools Wikipedia: https://en.wikipedia.org/wiki/Build_automation https://en.wikipedia.org/wiki/List_of_build_automation_software .. index:: Autotools GNU Autotools Wikipedia: https://en.wikipedia.org/wiki/GNU_Autotools Homepage: https://www.gnu.org/software/automake/ Homepage: https://www.gnu.org/software/automake/ Docs: https://www.gnu.org/software/autoconf/manual/autoconf.html Docs: https://www.gnu.org/software/automake/manual/automake.html Docs: https://www.gnu.org/software/automake/manual/automake.html#Standard-Configuration-Variables GNU Autotools (GNU Build System) are a set of tools for software build automation: autoconf, automake, libtool, and gnulib. The traditional ./configure --help; make; make install build workflow comes from the GNU Build System. Autoconf uses a configure.ac configure include file in generating a configure script that checks for platform and software dependencies and caches the results in a config.status script, which generates config.h C header file that caches the results Automake uses a Makefile.am to generate a Makefile.in makefile include file that generates a :ref:`GNU Make` Makefile GNU Coding Standards define a number of standard configuration variables: CC, CFLAGS, CXX, CXXFLAGS, LDFLAGS, CPPFLAGS which tools such as :ref:`GNU Make` automatically add to e.g. :ref:`GCC` (and :ref:`ld`) build program arguments $ # autoconf # configure.ac -\u003e ./configure $ ./configure --help $ ./configure --prefix=/usr/local --with-this-or-that make .. index:: Bake Bake Src: https://github.com/kennethreitz/bake Bake is a free and open source software build automation tool similar in form and function to :ref:`Make`. Bake uses Bakefile files to describe builds. Bakefiles can contain e.g. :ref:`Bash` and :ref:`Python` scripts (instead of :ref:`Make` syntax) .. index:: BUILD BUILD A number of tools use (incompatible) BUILD files to describe software builds: Google :ref:`Blaze` :ref:`Bazel` Twitter :ref:`Pants Build` .. index:: Google Blaze .. index:: Blaze Blaze Blaze is an internal software build automation tool developed by Google. Blaze was the first build tool to use :ref:`BUILD` files. :ref:`Bazel` is an open source rewrite of Blaze. .. index:: Bazel Bazel Wikipedia: https://en.wikipedia.org/wiki/Bazel_(software) Homepage: https://bazel.build/ Src: https://github.com/bazelbuild/bazel Docs: https://docs.bazel.build/ Docs: https://docs.bazel.build/versions/1.2.0/build-ref.html Bazel is a free and open source software build automation tool developed as a rewrite of Google :ref:`Blaze`. A WORKSPACE or WORKSPACE.bazel file indicates the root of a Bazel workspace. Bazel uses :ref:`BUILD` (or BUILD.bazel) files to describe builds. :ref:`Buck` was released before :ref:`Bazel` was open-sourced. .. index:: BuckBuild .. index:: Buck Buck Wikipedia: https://en.wikipedia.org/wiki/Buck_(software) Homepage: https://buck.build/ Src: https://github.com/facebook/buck Docs: https://buck.build/setup/getting_started.html Docs: https://buck.build/about/overview.html Buck uses BUCK files to describe builds. .. index:: CMake CMake Wikipedia: https://en.wikipedia.org/wiki/CMake Homepage: https://cmake.org/ Src: https://gitlab.kitware.com/cmake/cmake Docs: https://cmake.org/cmake/help/latest/ Docs: https://cmake.org/cmake/help/latest/guide/tutorial/ CMake is a free and open source software build automation tool. CMake generates build configurations for a number of tools: Unix Makefiles, Ninja, Visual Studio .. index:: Gradle Gradle Wikipedia: https://en.wikipedia.org/wiki/Gradle Homepage: https://gradle.org/ Src: git https://github.com/gradle/gradle Download: https://gradle.org/downloads Docs: https://docs.gradle.org/current/release-notes Docs: https://docs.gradle.org/current/userguide/userguide.html Twitter: https://twitter.com/gradle Gradle is a build tool for the :ref:`Java` :ref:`JVM` which builds a directed acyclic graph (DAG). .. index:: Grunt Grunt Homepage: https://gruntjs.com/ Src: git https://github.com/gruntjs/grunt Docs: https://gruntjs.com/getting-started Docs: https://gruntjs.com/plugins Twitter: https://twitter.com/gruntjs Grunt is a build tool written in :ref:`Javascript` which builds a directed acyclic graph (DAG). .. index:: Gulp Gulp Homepage: https://gulpjs.com/ Src: https://github.com/gulpjs/gulp Docs: https://github.com/gulpjs/gulp/blob/master/docs/ Docs: https://github.com/gulpjs/gulp/blob/master/docs/getting-started.md Docs: https://gulpjs.com/plugins/ Twitter: https://twitter.com/gulpjs Gulp is a build tool written in :ref:`Javascript` which builds a directed acyclic graph (DAG). .. index:: Jake Jake Homepage: https://jakejs.com/ Src: git https://github.com/jakejs/jake NPMPkg: jake NPM: https://www.npmjs.com/package/jake Docs: https://jakejs.com/docs-page.html Jake is a :ref:`Javascript` build tool written in :ref:`Javascript` (for :ref:`Node.js`) similar to :ref:`Make` or :ref:`Rake`. .. index:: Make Make Wikipedia: https://en.wikipedia.org/wiki/Make_(software) Homepage: https://www.gnu.org/software/make/ Project: https://savannah.gnu.org/projects/make/ Src: git git://git.savannah.gnu.org/make.git Docs: https://www.gnu.org/software/make/manual/make.html GNU Make is a classic, ubiquitous software build automation tool designed for file-based source code compilation which builds a directed acyclic graph (DAG). :ref:`Bash`, :ref:`Python`, and the GNU/:ref:`Linux` kernel are all built with Make. Make build task chains are represented in a Makefile. Pros Simple, easy to read syntax Designed to build files on disk (see: .PHONY) Nesting: make -C \u003cpath\u003e \u003ctaskname\u003e Variable Syntax: $(VARIABLE_NAME) or ${VARIABLE_NAME} Bash completion: make \u003ctab\u003e Python: Initially parseable with disutils.text_file Logging: command names and values print to stdout (unless prefixed with @) Cons Platform Portability: make is not installed everywhere Global Variables: parametrization with shell scripts VARIABLE_NAME=\"value\" make test make test VARIABLE_NAME=\"value\" # ... export VARIABLE_NAME=\"value\" make test .. index:: Pants .. index:: Pants Build Pants Build Homepage: https://pantsbuild.github.io/ Src: git https://github.com/pantsbuild/pants Docs: https://pantsbuild.github.io/first_concepts.html Docs: https://pantsbuild.github.io/install.html Docs: https://pantsbuild.github.io/first_tutorial.html Docs: https://pantsbuild.github.io/JVMProjects.html Docs: https://pantsbuild.github.io/scala.html Docs: https://pantsbuild.github.io/python-readme.html Docs: https://pantsbuild.github.io/pex_design.html Docs: https://pantsbuild.github.io/build_files.html Docs: https://pantsbuild.github.io/build_dictionary.html Docs: https://pantsbuild.github.io/options_reference.html Docs: https://pantsbuild.github.io/export.html Docs: https://pantsbuild.github.io/internals.html Docs: https://pantsbuild.github.io/howto_contribute.html Pants Build is a build tool for :ref:`JVM` [:ref:`Java`, :ref:`Scala`, :ref:`Android`], :ref:`C++`, :ref:`Go`, :ref:`Haskell`, :ref:`Node`, and :ref:`Python` [:ref:`CPython`] software projects. A Pants :ref:`BUILD` file defines one or more build targets: Pants can build Deployable Bundles, Runnable Binaries, Importable Code, Tests, and Generated Code (e.g. Java from :ref:`Thrift` .thrift definitions). Pants can build :ref:`PEX` files (Python EXecutables); which are essentially executable ZIP files with inlined dependency sets. Pants can build :ref:`DEX` files (:ref:`Android` Dalvik Executables) https://pantsbuild.github.io/build_files.html https://pantsbuild.github.io/build_dictionary.html https://pantsbuild.github.io/options_reference.html A Pants pants.ini file in a top-level source directory defines options for binaries, tools, goals, tasks (sub-goals) https://pantsbuild.github.io/setup_repo.html#configuring-with-pantsini https://pantsbuild.github.io/options_reference.html :ref:`Vim` plugin for Pants Build BUILD syntax: https://github.com/pantsbuild/vim-pants :ref:`IntelliJ` plugin for Pants Build: https://github.com/pantsbuild/intellij-pants-plugin .. index:: Virtualization Virtualization .. index:: Cgroups Cgroups Wikipedia: https://en.wikipedia.org/wiki/Cgroups Docs: https://www.kernel.org/doc/Documentation/cgroups/ Docs: https://www.freedesktop.org/wiki/Software/systemd/ControlGroupInterface/ Docs: https://docs.fedoraproject.org/en-US/Fedora/17/html-single/Resource_Management_Guide/index.html#sec-How_Control_Groups_Are_Organized Docs: https://wiki.archlinux.org/index.php/Cgroups Cgroups are a :ref:`Linux` mechanism for containerizing groups of processes and resources. https://chimeracoder.github.io/docker-without-docker/#1 systemd-nspawn, systemd-cgroup machinectl, systemctl, journalctl, .. index:: libcontainer libcontainer Homepage: https://www.opencontainers.org/ Src: https://github.com/docker/libcontainer Src: https://github.com/opencontainers/runc/tree/master/libcontainer libcontainer is a library built by :ref:`Docker` to replace :ref:`LXC`. Libcontainer provides a native :ref:`Go` implementation for creating containers with namespaces, :ref:`cgroups`, capabilities, and filesystem access controls. —https://github.com/opencontainers/runc/tree/master/libcontainer libcontainer is now developed as part of :ref:`OCI` :ref:`runC`. .. index:: OCI .. index:: Open Container Initiative Open Container Initiative Homepage: https://www.opencontainers.org/ Docs: https://www.opencontainers.org/about Src: https://github.com/opencontainers Twitter: https://twitter.com/oci_org The Open Container Initiative (OCI) is a Linux Foundation collaborative project dedicated to developing a working, portable software container specification. .. index:: runC runC Homepage: https://www.opencontainers.org/ Src: https://github.com/opencontainers/runc runC is a container abstraction runc is a CLI tool for spawning and running containers according to the :ref:`OCI` specification. runC builds upon the :ref:`libcontainer` abstraction and the :ref:`OCI` container specification. runC works on :ref:`Linux`, :ref:`OSX`, and :ref:`Windows`. runC containers do not require a daemon process. runC containers can run as e.g. a systemd service unit. .. index:: Docker Docker Wikipedia: https://en.wikipedia.org/wiki/Docker_(software) Homepage: https://www.docker.com/ Src: https://github.com/docker/docker Docs: https://docs.docker.com/ Awesome: https://github.com/veggiemonk/awesome-docker Docker is an OS virtualization project written in :ref:`Go` which utilizes :ref:`Linux` containers -- first :ref:`LXC` now :ref:`libcontainer` / :ref:`runC` -- to partition process workloads across one or more host systems. .. glossary:: Dockerfile A ``Dockerfile`` contains the instructions needed to create a docker image. Docker container A Docker container is an instance of a :term:`Docker Image` with configuration. Docker API The Docker API is an interface of management commands for provisioning and managing containers. :term:`Docker Machine`, :term:`Docker Swarm`, and :term:`Docker Universal Control Plane` all implement the Docker API; so the ``docker`` client works equally well with each implementation. Docker Machine Docker Machine is the container management application which implements the :term:`Docker API`. Docker Swarm Docker Swarm is a cluster management system for Docker containers hosted on one or more :term:`Docker Machines \u003cDocker Machine\u003e` Docker Universal Control Plane Docker Universal Control Plane is an enterprise-grade cluster management solution with a web dashboard and external authentication which implements the :term:`Docker API`. Docker Compose Docker Compose is a Python application for defining and managing services (:term:`Docker containers \u003cdocker container\u003e`) and networks with a ``docker-compose.yml`` :ref:`YAML` configuration file. Docker Image A Docker Image is an archived container filesystem with configuration which is usually defined by a :term:`Dockerfile`. Docker Hub Docker Hub is a cloud-based registry service for :term:`Docker Images \u003cDocker Image\u003e`. Docker Cloud Docker Cloud is the hosting service offered by Docker. Docker images build from a :term:`Dockerfile` A Dockerfile can subclass another Dockerfile (to add, remove, or change configuration) Dockerfile support a limited number of commands Docker is not intended to be a complete :ref:`configuration management system \u003cconfiguration management\u003e` Ideally, a Docker image requires minimal configuration once built Docker images can be hosted by https://hub.docker.com/ docker run -it ubuntu/16.04 downloads the image from https://hub.docker.com/_/ubuntu/, creates a new instance (docker ps), and spawns a root :ref:`Shell \u003cshells\u003e` with a UUID name (by default). There are a number of ways to \"Schedule\" [redundant] persistent containers that launch on boot with :ref:`Docker` Docker Swarm is the Docker-native way to run a cluster of containers. To a client app, Docker Swarm looks just like Docker Machine because it implements the Docker API. :ref:`Kubernetes` is one project which uses Docker to schedule redundant, optionally geodistributed, :ref:`LXC` containers (in \"Pods\"). :ref:`Salt` can install and manage docker, docker images and containers: https://github.com/saltstack-formulas/docker-formula https://docs.saltstack.com/en/latest/ref/states/all/salt.states.dockerio.html https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.dockerio.html .. index:: CNCF .. index:: Cloud Native Computing Foundation Cloud Native Computing Foundation Wikipedia: https://en.wikipedia.org/wiki/Linux_Foundation#Cloud_Native_Computing_Foundation The Cloud Native Computing Foundation (CNCF) is a foundation for cloud and container industry collaboration. :ref:`Kubernetes` is now a CNCF project. .. index:: Kubernetes Kubernetes Wikipedia: https://en.wikipedia.org/wiki/Kubernetes Homepage: https://kubernetes.io/ Src: https://github.com/GoogleCloudPlatform/kubernetes Docs: https://kubernetes.io/gettingstarted/ Docs: https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/getting-started-guides/docker.md Docs: https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/getting-started-guides/vagrant.md Docs: https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/getting-started-guides/coreos.md Docs: https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/getting-started-guides/mesos.md Q\u0026A: https://stackoverflow.com/questions/tagged/kubernetes Twitter: https://twitter.com/kubernetesio Awesome: https://github.com/ramitsurana/awesome-kubernetes Kubernetes (k8s) is a highly-available distributed cluster scheduler which works with groups of :ref:`Docker` containers called Pods. Google donated Kubernetes to the :ref:`CNCF`. .. index:: k3s k3s Homepage: https://k3s.io/ Src: https://github.com/rancher/k3s Docs: https://rancher.com/docs/k3s/latest/en/ k3s is a lightweight :ref:`Kubernetes` distribution which runs on x86-64, ARM6, ARM7; only requires 512Mb of RAM; and is distributed as a single :ref:`Go` binary. You've heard of k8s? This is k8s - 5. .. index:: KVM KVM Wikipedia: https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine Homepage: https://www.linux-kvm.org/ Docs: https://www.linux-kvm.org/page/Documents KVM is a full virtualization platform with support for Intel VT and AMD-V; which supports running various guest operating systems, each with their own kernel, on a given host machine. .. index:: Libcloud Libcloud Homepage: https://libcloud.apache.org/ Docs: https://libcloud.readthedocs.io/en/latest/ Docs: https://libcloud.readthedocs.io/en/latest/supported_providers.html Src: git git://git.apache.org/libcloud.git Src: git https://github.com/apache/libcloud Apache libcloud is a :ref:`Python` library which abstracts and unifies a large number of Cloud APIs for Compute Resources, Object Storage, Load Balancing, and DNS. :ref:`Salt` :term:`salt cloud` depends upon libcloud. .. index:: Libvirt Libvirt Wikipedia: https://libvirt.org/ Homepage: https://libvirt.org/ Docs: https://libvirt.org/docs.html Docs: https://libvirt.org/cgroups.html Docs: https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.virt.html Src: git git://libvirt.org/libvirt-appdev-guide.git Libvirt is a system for platform virtualization with various :ref:`Linux` hypervisors. Xen QEMU, :ref:`KVM` OpenVZ, :ref:`LXC` :ref:`VirtualBox` .. index:: LXC LXC Wikipedia: https://en.wikipedia.org/wiki/LXC Homepage: https://linuxcontainers.org/ Docs: https://linuxcontainers.org/lxc/documentation/ Src: https://github.com/lxc/lxc LXC (\"Linux Containers\"), written in :ref:`C`, builds upon :ref:`Linux` :ref:`Cgroups` to provide containerized OS chroots (all running under :ref:`the host kernel \u003clinux\u003e`). LXC is included in recent :ref:`Linux` kernels. .. index:: LXD LXD Homepage: https://linuxcontainers.org/lxd/ Docs: https://linuxcontainers.org/lxd/ Src: https://github.com/lxc/lxd LXD, written in :ref:`Go`, builds upon :ref:`LXC` to provide a system-wide daemon and an :ref:`OpenStack` Nova hypervisor plugin. .. index:: Mesos Mesos Wikipedia: https://en.wikipedia.org/wiki/Apache_Mesos Homepage: https://mesos.apache.org/ Src: git https://github.com/apache/mesos Q\u0026A: https://stackoverflow.com/tags/mesos Twitter: https://twitter.com/ApacheMesos Apache Mesos is a highly-available distributed datacenter operating system, for which there are many different task/process/service schedulers. Apache Mesos abstracts CPU, memory, storage, and other compute resources away from machines (physical or virtual), enabling fault-tolerant and elastic distributed systems to easily be built and run effectively. .. index:: Mesosphere Mesosphere Homepage: https://mesosphere.com/ Src: https://github.com/mesosphere Q\u0026A: https://stackoverflow.com/tags/mesosphere Twitter: https://twitter.com/mesosphere Apache :ref:`Mesos` is a core Mesosphere service .. index:: OpenStack OpenStack Wikipedia: https://en.wikipedia.org/wiki/OpenStack Homepage: https://www.openstack.org/ Src: https://git.openstack.org Src: https://github.com/openstack Q\u0026A: https://stackoverflow.com/questions/tagged/openstack Docs: https://docs.openstack.org/ Docs: https://wiki.openstack.org/ Docs: https://wiki.openstack.org/wiki/Get_OpenStack Twitter: https://twitter.com/openstack OpenStack is a platform of infrastructure services for running a cloud datacenter (a private or a public cloud). OpenStack can be installed on one machine with enough RAM, or many thousands of machines. OpenStack Keystone -- cluster/grid/cloud-level token and user-service based authentication (authN) and authorization (authZ) as a service. Src: https://github.com/openstack/keystone Wiki: https://wiki.openstack.org/wiki/Keystone OpenStack Nova implements a Hypervisor API which abstracts various :ref:`Virtualization` providers (e.g. :ref:`KVM`, :ref:`Docker`, :ref:`LXC`, :ref:`LXD`). Src: https://github.com/openstack/nova Wiki: https://wiki.openstack.org/wiki/Nova Docs: https://wiki.openstack.org/wiki/HypervisorSupportMatrix Docs: https://docs.openstack.org/nova/latest/user/support-matrix.html OpenStack Swift -- redundant HTTP-based Object Storage as a service. Src: https://github.com/openstack/swift Wiki: https://wiki.openstack.org/wiki/Swift Docs: https://docs.openstack.org/swift/latest/ Docs: https://docs.openstack.org/swift/latest/overview_auth.html Docs: https://docs.openstack.org/swift/latest/overview_object_versioning.html OpenStack Neutron (Quantum)-- software defined networking (SDN), VLAN, switch configuration, virtual and physical enterprise networking as a service. Src: https://github.com/openstack/neutron Wiki: https://wiki.openstack.org/wiki/Neutron OpenStack Designate -- DNS as a service (Bind9, PowerDNS) integrated with OpenStack Keystone, Neutron, and Nova. Src: https://github.com/openstack/designate Wiki: https://wiki.openstack.org/wiki/Designate OpenStack Poppy -- CDN as a service CDN vendor API Src: https://github.com/stackforge/poppy Wiki: https://wiki.openstack.org/wiki/Poppy OpenStack Horizon -- web-based OpenStack Dashboard which is written in Django. Src: https://github.com/openstack/horizon https://wiki.openstack.org/wiki/Horizon OpenStack makes it possible for end-users to create a new virtual machine from the available pool of resources. rdfs:seeAlso: :ref:`openstack-devstack`, :ref:`Libcloud` .. index:: OpenStack DevStack OpenStack DevStack Src: https://github.com/openstack-dev/devstack Docs: https://docs.openstack.org/devstack/latest/ Docs: https://docs.openstack.org/devstack/latest/overview.html Issues: https://launchpad.net/devstack OpenStack DevStack is a default development configuration for :ref:`OpenStack`. https://github.com/openstack-dev/devstack-vagrant There are many alternatives to and implementations of OpenStack DevStack: https://github.com/saltstack-formulas/openstack-standalone-formula https://github.com/CSSCorp/openstack-automation https://github.com/openstack-ansible/openstack-ansible https://forge.puppetlabs.com/puppetlabs/openstack https://jujucharms.com/q/openstack https://anvil.readthedocs.io/en/latest/topics/summary.html .. index:: Packer Packer Homepage: https://www.packer.io/ Src: https://github.com/hashicorp/packer Docs: https://www.packer.io/docs Docs: https://www.packer.io/docs/basics/terminology.html Packer generates machine images for multiple platforms, clouds, and hypervisors from a parameterizable template. .. glossary:: Packer Artifact Build products: machine image and manifest Packer Template JSON build definitions with optional variables and templating Packer Build Task defined by a JSON file containing build steps which produce a machine image Packer Builder Packer components which produce machine images for one of many platforms: - :ref:`VirtualBox` - :ref:`Docker` - :ref:`OpenStack` - GCE - EC2 - VMware - QEMU (:ref:`KVM`, Xen) - https://www.packer.io/docs/templates/builders.html Packer Provisioner Packer components for provisioning machine images at build time - Shell scripts - File uploads - ansible - chef - solo - puppet - salt Packer Post-Processor Packer components for compressing and uploading built machine images .. index:: Vagrant Vagrant Wikipedia: https://en.wikipedia.org/wiki/Vagrant_(software) Homepage: https://www.vagrantup.com/ Docs: https://www.vagrantup.com/docs/ Src: https://github.com/hashicorp/vagrant Vagrant is a tool written in :ref:`Ruby` for creating and managing virtual machine instances with CPU, RAM, Storage, and Networking. Vagrant: Works with a number of Cloud and :ref:`Virtualization` providers: :ref:`VirtualBox` AWS EC2 GCE :ref:`OpenStack` provides helpful commandline porcelain on top of :ref:`VirtualBox` VboxManage installs and lifecycles Vagrant Boxes vagrant help vagrant status vagrant init ubuntu/trusty64 vagrant up vagrant ssh $EDITOR Vagrantfile vagrant provision vagrant halt vagrant destroy .. glossary:: vagrantfile vagrant script defining a team of one or more virtual machines and networks. create a vagrantfile:: vagrant init [basebox] cat vagrantfile start virtual machines and networks defined in the vagrantfile:: vagrant status vagrant up Vagrant Box Vagrant base machine virtual machine image. There are many baseboxes for various operating systems. Essentially a virtual disk plus CPU, RAM, Storage, and Networking metadata. Locally-stored and cached vagrant boxes can be listed with:: vagrant help box vagrant box list A running vagrant environment can be packaged into a new box with:: vagrant package :ref:`Packer` generates :ref:`VirtualBox` Vagrant Boxes with a Post-Processor. Vagrant Cloud Vagrant-hosted public Vagrant Box storage. Install a box from Vagrant cloud:: vagrant init ubuntu/trusty64 vagrant up vagrant ssh Vagrant Provider A driver for running Vagrant Boxes with a hypervisor or in a cloud. The Vagrant :ref:`VirtualBox` Provider is well-supported. With Plugins: https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins See also: :ref:`libcloud`. Vagrant Provisioner Set of hooks to install and run shell scripts and configuration managment tools over ``vagrant ssh``. Vagrant up runs ``vagrant provision`` on first invocation of ``vagrant up``. :: vagrant provision Note Vagrant configures a default NFS share mounted at /vagrant. Note Vagrant adds a default NAT Adapter as eth0; presumably for DNS, the default route, and to ensure vagrant ssh connectivity. .. index:: VirtualBox VirtualBox Wikipedia: https://en.wikipedia.org/wiki/VirtualBox Homepage: https://www.virtualbox.org/ Docs: https://www.virtualbox.org/wiki/Documentation Src: svn svn://www.virtualbox.org/svn/vbox/trunk Oracle VirtualBox is a platform virtualization package for running one or more guest VMs (virtual machines) within a host system. VirtualBox: runs on many platforms: :ref:`Linux`, OSX, Windows has support for full platform NX/AMD-v virtualization requires matching kernel modules :ref:`Vagrant` scripts VirtualBox. .. index:: Shells Shells Wikipedia: https://en.wikipedia.org/wiki/Unix_shell .. index:: Bash Bash Wikipedia: https://en.wikipedia.org/wiki/Bash_(Unix_shell) Homepage: https://www.gnu.org/software/bash/ Src: git git://git.savannah.gnu.org/bash.git Docs: https://www.gnu.org/software/bash/manual/ LearnXinYMinutes: https://learnxinyminutes.com/docs/bash/ Awesome: https://github.com/awesome-lists/awesome-bash GNU Bash, the Bourne-again shell, is an open source command-line program written in :ref:`C` for running commands in a text-based terminal. A few commands to try when learning to shell with Bash: echo $SHELL; echo \"$SHELL\"; echo \"${SHELL}\" type bash bash --help help help help type apropos bash info bash man bash man man info info # [down arrow] and then [enter] to select, or 'n' for next Bash works with unix command outputs and return codes: a program returns nonzero when there is an error: true; echo $? # 0 false; echo $? # 1 echo \"Hello\" \u0026\u0026 echo \" World!\" # Hello World! false || echo \"World!\" # World! Functions: Bash supports functions with arguments that can print to standard out and/or return an integer return code: function add_a { echo \"$1 + $2 = $(( $1 + $2 ))\" } add_b () { echo \"$1 + $2 = $(( $1 + $2 ))\" } add_xy () { echo \"$x + $y = $(( $x + $y ))\" } add_a 3 5 # \"3 + 5 = 8\" add_b 3 5 # \"3 + 5 = 8\" x=3 y=5 add_xy # \"3 + 5 = 8\" x=3; y=5; add_xy # \"3 + 5 = 8\" output=$(add_a 3 5) echo \"${output}\" help test help [ help [[ help return test \"$(add_a 3 5)\" == \"3 + 5 = 8\" \u0026\u0026 echo 'OK' test_add_a () { if [[ \"$(add_a 3 5)\" == \"3 + 5 = 8\" ]]; then echo 'OK' return 0 else echo 'Test failed' return 1 fi } test_add_a help trap help exit Portability: sh (sh, bash, dash, zsh) shell scripts are mostly compatible; though bash supports some features that other shells do not. Logging: You can configure bash to print commands and arguments as bash executes scripts: set -x # print commands and arguments set -v # print source Bash reads various configuration files at startup time: /etc/profile /etc/bash.bashrc /etc/profile.d/*.sh ${HOME}/.profile /etc/skel/.profile # PATH=+$HOME/bin # umask ${HOME}/.bash_profile # empty. preempts .profile ${HOME}/.bashrc Bash and various :ref:`Operating Systems`: Linux: Bash is almost always installed as the default shell on Linux boxes. Mac: MacOS includes Bash 3.2. You can brew install bash to get a more recent version. (:ref:`homebrew`) Windows: :ref:`Windows Subsystem for Linux` (WSL) installs Linux distributions which include bash. You can also install bash on Windows by installing git with choco install git -y (:ref:`Chocolatey`) You can also install bash on Windows by installing MSYS2 (Mingw) or Cygwin with choco install msys2 or choco install cygwin While Bash is ubiquitous, shell scripts are loose with quoting; which makes shell scripts flexible but dangerous and thus often avoided in favor of other languages: ## Shell script quoting example 1: # This prints a newline echo $(echo \"-e a\\nb\") # This prints \"-e a\\nb\" echo \"$(echo \"-e a\\nb\")\" This isn't an issue with e.g. :ref:`Python` (a popular language that's also useful for system administration). import subprocess print(subprocess.check_output(['echo', \"-e a\\nb\"]) print(subprocess.check_output('echo \"-e a\\nb\"', shell=True)) # Though, note that Python subprocess shell=True is a security risk: # - avoid shell=True # - pass the command as a list of already-tokenized arguments # - use something like sarge (or ansible) instead of shell=True :ref:`IPython` is one of many alternatives to Bash. .. index:: Readline Readline Wikipedia: https://en.wikipedia.org/wiki/GNU_Readline Homepage: https://tiswww.case.edu/php/chet/readline/rltop.html Docs: https://tiswww.case.edu/php/chet/readline/readline.html Docs: https://tiswww.case.edu/php/chet/readline/history.html Docs: https://tiswww.case.edu/php/chet/readline/rluserman.html Src: ftp ftp://ftp.gnu.org/gnu/readline/readline-8.0.tar.gz Pypi: https://pypi.python.org/pypi/gnureadline .. index:: IPython .. index:: ipython IPython Wikipedia: https://en.wikipedia.org/wiki/IPython Homepage: https://ipython.org/ Src: git https://github.com/ipython/ipython DockerHub: https://hub.docker.com/repos/ipython/ Docs: https://ipython.readthedocs.io/en/stable/ Docs: https://ipython.readthedocs.io/en/stable/interactive/ Docs: https://ipython.readthedocs.io/en/stable/parallel/ Docs: https://github.com/ipython/ipython/wiki/Extensions-Index Docs: https://github.com/jupyter/jupyter/wiki/Jupyter-kernels Docs: https://github.com/ipython/ipython/wiki/Install:-Docker IPython is an interactive REPL and distributed computation framework written in :ref:`Python`. ## Formatting expression output with the Python interpreter 1 + 1 x = 1+1 print(\"1 + 1 = 2\") print('1 + 1 = %d' % (x)) print('1 + 1 = {0}'.format(x)) # Python 2.7+ print('1 + 1 = {x}'.format(x=x)) # Python 2.7+ print(f'1 + 1 = {x}') # Python 3.6+ print(f'{1 + 1 = }') # Python 3.8+ ## IPython !ipython --help # run `$SHELL -c 'ipython --help'` !python -m IPython --help # run `ipython --help` ? # print IPython help within IPython %lsmagic %\u003ctab\u003e # list magic commands and aliases %paste? # help for the %paste magic command %logstart? # help for the %logstart magic command %logstart -o logoutput.log.py # log input and output to a file import json json? # print(json.__doc__) json?? # print(inspect.getsource(json)) ## IPython shell !cat ./README.rst; echo $PWD # run shell commands lines = !ls -al # capture shell command output print(lines[0:]) %run -i -t example.py # run a script with timing info, # in the local namespace %run -d example.py # run a script with pdb %pdb on # automatically run pdb on Exception If a kernel is not specified, IPython uses the ipykernel Jupyter kernel. To use other kernels with IPython, you must install jupyter_console and a kernel: pip install jupyter_console # conda install -y jupyter_console ipython console --kernel python # ipykernel jupyter console --kernel python # ipykernel # \u003cCtrl-D\u003e | \u003cCtrl-C\u003e | \"exit()\" pip install bash_kernel # conda install -y bash_kernel jupyter console --kernel bash # \"exit\" conda install -y -c conda-forge xeus-cling jupyter console --kernel xcpp11 # \u003cCtrl-D\u003e (\u003cCtrl-Z\u003e on Windows) conda install -y nodejs; npm install -g ijavascript; ijsinstall jupyter console --kernel javascript # \u003cCtrl-D\u003e conda install -y nodejs; npm install -g jp-babel; jp-babel-install jupyter console --kernel babel # \u003cCtrl-D\u003e conda install -y nodejs; npm install -g itypescript; its --install=local jupyter console --kernel typescript # \u003cCtrl-D\u003e jupyter kernelspec list There are very many Jupyter kernels: https://github.com/jupyter/jupyter/wiki/Jupyter-kernels :ref:`Jupyter Notebook` and :ref:`Jupyter Lab` are built atop IPython: a Jupyter notebook file is a :ref:`JSON` file with an .ipynb extension which contains inputs and text and binary outputs. .. index:: PowerShell .. index:: Windows PowerShell PowerShell Wikipedia: https://en.wikipedia.org/wiki/Windows_PowerShell Homepage: https://microsoft.com/powershell Windows PowerShell is a shell for :ref:`Windows`. .. index:: ZSH ZSH Wikipedia: https://en.wikipedia.org/wiki/Z_shell Homepage: https://www.zsh.org/ Docs: http://zsh.sourceforge.net/Guide/zshguide.html Docs: http://zsh.sourceforge.net/Doc/ Src: git git://git.code.sf.net/p/zsh/code https://github.com/robbyrussell/oh-my-zsh .. index:: Shell Utilities Shell Utilities .. index:: Awk Awk Wikipedia: https://en.wikipedia.org/wiki/AWK Docs: https://en.wikipedia.org/wiki/AWK#Versions_and_implementations GNU Awk Project: https://savannah.gnu.org/projects/gawk/ Homepage: https://www.gnu.org/software/gawk/ Docs: https://www.gnu.org/software/gawk/manual/ Docs: https://www.gnu.org/software/gawk/manual/gawk.html Src: git git://git.savannah.gnu.org/gawk.git AWK is a pattern programming language for matching and transforming text. .. index:: Grep Grep Wikipedia: https://en.wikipedia.org/wiki/Grep Homepage: https://www.gnu.org/software/grep/ Project: https://savannah.gnu.org/projects/grep/ Docs: https://www.gnu.org/software/grep/manual/ Docs: https://www.gnu.org/software/grep/manual/grep.html Src: git git://git.savannah.gnu.org/grep.git Grep is a commandline utility for pattern-based text matching. .. index:: Htop Htop Wikipedia: https://en.wikipedia.org/wiki/Htop Homepage: https://hisham.hm/htop/ Src: https://github.com/hishamhm/htop Htop is a commandline task manager; like top extended. .. index:: Pyline Pyline Homepage: https://github.com/westurner/pyline Docs: https://pyline.readthedocs.io/en/latest/ Src: git https://github.com/westurner/pyline Pypi: https://pypi.python.org/pypi/pyline Pyline is an open source :ref:`POSIX` command-line utility for streaming line-based processing in :ref:`Python` with regex and output transform features similar to :ref:`grep`, :ref:`sed`, and :ref:`awk`. Pyline can generate quoted CSV, :ref:`JSON \u003cjson-\u003e`, HTML, etc. .. index:: Pyrpo Pyrpo Homepage: https://github.com/westurner/pyrpo Src: git https://github.com/westurner/pyrpo Pypi: https://pypi.python.org/pypi/pyrpo Pyrpo is an open source :ref:`POSIX` command-line utility for locating and generating reports from :ref:`Git`, :ref:`Mercurial`, :ref:`Bazaar`, and :ref:`Subversion` repositories. .. index:: Sed Sed Wikipedia: https://en.wikipedia.org/wiki/Sed Homepage: https://www.gnu.org/software/sed/ Project: https://savannah.gnu.org/projects/sed Docs: https://www.gnu.org/software/sed/manual/ Docs: https://www.gnu.org/software/sed/manual/sed.html Docs: http://sed.sourceforge.net/ Src: git git.savannah.gnu.org/sed.git GNU Sed is an open source :ref:`POSIX` command-line utility for transforming text. Note BSD Sed Use \u003cCtrl-V\u003e\u003ctab\u003e for explicit tabs (as \\t does not work) Use \\\\\\n or '$'\\n for newlines (as \\n does not work) sed -E should be consistent extended regular expressions between GNU Sed (e.g. Linux) and BSD Sed (FreeBSD, OSX). OR: brew install gnu-sed See: https://unix.stackexchange.com/questions/101059/sed-behaves-different-on-freebsd-and-on-linux See: https://superuser.com/questions/307165/newlines-in-sed-on-mac-os-x .. index:: Web Shells Web Shells .. index:: IPython Notebook .. index:: IPython notebook IPython Notebook Wikipedia: https://en.wikipedia.org/wiki/IPython#Notebook Src: https://github.com/ipython/ipython/tree/3.x/IPython/html Docs: http://ipython.readthedocs.io/en/stable/notebook/ Docs: http://ipython.readthedocs.io/en/stable/notebook/notebook.html Docs: http://ipython.readthedocs.io/en/stable/notebook/nbformat.html Docs: http://ipython.readthedocs.io/en/stable/notebook/nbconvert.html Docs: http://ipython.readthedocs.io/en/stable/notebook/public_server.html Docs: http://ipython.readthedocs.io/en/stable/notebook/security.html Docs: https://github.com/ipython/ipython/wiki/A-gallery-of-interesting-IPython-Notebooks :ref:`IPython` Notebook (now :ref:`Jupyter Notebook`) is an open source web-based shell written in :ref:`Python` and :ref:`Javascript` for interactive and literate computing with IPython notebooks composed of raw, markdown, or code input and plaintext- or rich- output cells. An IPython notebook (.ipynb) is a :ref:`JSON-` document containing input and output for a linear sequence of cells; which can be exported to many output formats (e.g. :ref:`HTML-`, RST, LaTeX, PDF); and edited through the web with IPython Notebook. IPython Notebook is a webapp written on :ref:`tornado`, an asynchronous web application framework for Python. seeAlso: westurner/brw (2007-)) IPython Notebook supports :ref:`Markdown` syntax for comment cells. :ref:`MyST Markdown` is a :ref:`commonmark` :ref:`Markdown` syntax (which can also be used to express entire Jupyter notebooks) IPython Notebook supports more than 40 different IPython kernels for other languages: https://github.com/ipython/ipython/wiki/IPython-kernels-for-other-languages IPython Notebook development has now moved to :ref:`Jupyter` Notebook; which supports IPython kernels (and defaults to the :ref:`IPython` :ref:`CPython` :ref:`2 \u003cpython\u003e` or :ref:`3 \u003cpython3\u003e` kernel). To start IPython Notebook (assuming the _SRC variable as defined in :ref:`Venv`): pip install ipython[notebook] # pip install -e git+https://github.com/ipython/ipython@rel-3.2.1#egg=ipython # https://github.com/ipython/ipython/releases mkdir $_SRC/notebooks; cd $_SRC/notebooks ipython notebook ipython notebook --notebook-dir=\"${_SRC}/notebooks\" # With HTTPS (TLS/SSL) ipython notebook \\ --ip=127.0.0.1 \\ --certfile=mycert.pem \\ --keyfile=privkey.pem \\ --port=8888 \\ --browser=web # (optional) westurner/dotfiles/scripts/web # List supported options ipython notebook --help Warning IPython Notebook runs code and shell commands as the user the process is running as, on a remote or local machine. Reproducible :ref:`SciPy Stack \u003cscipystack\u003e` IPython Notebook / :ref:`Jupyter Notebook` servers implement best practices like process isolation and privilege separation with e.g. :ref:`Docker` and/or :ref:`Jupyter` Hub. Note IPython Notebook is now :ref:`Jupyter Notebook`. Jupyter Notebook runs Python notebooks with :ref:`ipykernel`, the :ref:`IPython` :ref:`Python` kernel from :ref:`IPython Notebook` .. index:: Jupyter kernels Jupyter kernels Src: https://github.com/ipython/ipykernel Docs: https://ipython.readthedocs.io/en/stable/install/kernel_install.html .. index:: ipykernel ipykernel Src: https://ipython.readthedocs.io/en/stable/install/kernel_install.html .. index:: ipython_nose ipython_nose Src: git https://github.com/taavi/ipython_nose ipython_nose is an extension for :ref:`IPython Notebook` (and likely :ref:`Jupyter Notebook`) for discovering and running test functions starting with test_ (and unittest.TestCase test classes with names containing Test) with Nose. ipython_nose is not (yet?) uploaded to PyPI to install ipython_nose from GitHub (with :ref:`Pip` and :ref:`Git`): pip install -e git+https://github.com/taavi/ipython_nose#egg=ipython_nose See also: TDD: Test Driven Development https://wrdrd.github.io/docs/consulting/software-development#test-driven-development Refactoring and Reproducibility https://wrdrd.github.io/docs/consulting/software-development#refactoring https://wrdrd.github.io/docs/consulting/data-science#reproducibility .. index:: nosebook nosebook Src: https://github.com/bollwyvl/nosebook nosebook is a tool for finding and running tests in :ref:`nbformat` :ref:`IPython Notebooks \u003cipython notebooks\u003e` and :ref:`Jupyter Notebooks \u003cjupyter notebook\u003e` with nose. See also: https://westurner.github.io/wiki/awesome-python-testing#nose .. index:: Jupyter .. index:: Project Jupyter Jupyter Wikipedia: https://en.wikipedia.org/wiki/IPython#Project_Jupyter Homepage: http://jupyter.org/ Src: https://github.com/jupyter/ DockerHub: https://hub.docker.com/repos/jupyter/ Docs: https://jupyter.readthedocs.io/en/latest/ Awesome: https://github.com/markusschanta/awesome-jupyter Awesome: https://github.com/quobit/awesome-python-in-education#jupyter Project Jupyter expands upon components like :ref:`IPython` and :ref:`IPython Notebook` to provide a multi-user web-based shell for many languages (:ref:`Python`, :ref:`Ruby`, :ref:`Java`, :ref:`Haskell`, Julia, R). IPython Jupyter comparison (adapted from http://jupyter.org) :ref:`IPython` :ref:`Jupyter` Interactive Python shell Python kernel for Jupyter Interactive Parallel Python Rich REPL Protocol :ref:`Jupyter Notebook` (format, environment, conversion) JupyterHub (multi-user notebook server) JupyterHub authenticators (MediaWiki OAuth, GitHub OAuth) JupyterHub spawners (Docker, Sudo, Remote, Docker Swarm) .. index:: Jupyter Notebook Jupyter Notebook Wikipedia: https://en.wikipedia.org/wiki/Jupyter#Notebook Src: https://github.com/jupyter/notebook CondaPkg: notebook FileExt: .ipynb Docs: https://jupyter-notebook.readthedocs.io/en/stable/ :ref:`Jupyter` Notebook is an open source shell webapp written in :ref:`Python` and :ref:`Javascript` for interactive and literate computing with Jupyter notebooks composed of raw, markdown, or code input and plaintext- or rich- output cells. .ipynb files are Jupyter Notebooks saved as :ref:`JSON-` documents . An Jupyter notebook is a document containing {meta, input, and output} records for a linear sequence of cells; which can be exported to many output formats (e.g. :ref:`HTML-`, RST, LaTeX, PDF, Python, :ref:`MyST Markdown`); and edited through the web with Jupyter Notebook. Jupyter Notebook is a webapp written on :ref:`tornado`, an asynchronous web application framework for Python. seeAlso: westurner/brw (2007-)) Jupyter Notebook supports :ref:`Markdown` syntax for comment cells. :ref:`MyST Markdown` is a :ref:`commonmark` :ref:`Markdown` syntax (which can also be used to express entire Jupyter notebooks) Jupyter Notebook supports more than 40 different Jupyter kernels for other languages: https://github.com/ipython/ipython/wiki/Jupyter-kernels-for-other-languages To start IPython Notebook (assuming the _SRC variable as defined in :ref:`Venv`): pip install ipython[notebook] # pip install -e git+https://github.com/ipython/ipython@rel-3.2.1#egg=ipython # https://github.com/ipython/ipython/releases mkdir $_SRC/notebooks; cd $_SRC/notebooks ipython notebook ipython notebook --notebook-dir=\"${_SRC}/notebooks\" # With HTTPS (TLS/SSL) ipython notebook \\ --ip=127.0.0.1 \\ --certfile=mycert.pem \\ --keyfile=privkey.pem \\ --port=8888 \\ --browser=web # (optional) westurner/dotfiles/scripts/web # List supported options ipython notebook --help Warning IPython Notebook runs code and shell commands as the user the process is running as, on a remote or local machine. Reproducible :ref:`SciPy Stack \u003cscipystack\u003e` IPython Notebook / :ref:`Jupyter Notebook` servers implement best practices like process isolation and privilege separation with e.g. :ref:`Docker` and/or :ref:`Jupyter` Hub. Note :ref:`JupyterLab` (a mostly-rewrite) adds e.g. tabs and undo (and a new extension API) to :ref:`Jupyter Notebook`. .. index:: JupyterLab JupyterLab Wikipedia: https://en.wikipedia.org/wiki/Project_Jupyter#JupyterLab Src: https://github.com/jupyterlab/jupyterlab CondaPkg: jupyterlab Docs: https://jupyterlab.readthedocs.io/en/stable/ Docs: https://jupyterlab.readthedocs.io/en/stable/user/extensions.html Docs: https://jupyterlab.readthedocs.io/en/stable/developer/extension_dev.html Awesome: https://github.com/mauhai/awesome-jupyterlab JupyterLab is an open-source web-based tabbed :ref:`IDE \u003cIDE\u003e` written in :ref:`Python`, :ref:`Javascript`, and :ref:`TypeScript` for working with :ref:`\u003cjupyter notebooks\u003e Jupyter Notebook`, terminals, text editing, undo, extensions. You can edit Jupyter notebooks with JupyterLab. Installing JupyterLab also installs :ref:`Jupyter Notebook`. (which doesn't support tabs or the new extension API) A few UI differences between JupyterLab and Jupyter Notebook: JupyterLab has tabbed editing: you can open files, notebooks, and terminals in tabs JupyterLab has a sidebar with a file selector pane Installing JupyterLab does not install any :ref:`scipystack` or other packages. .. index:: JupyterLab (install) Install JupyterLab Install JupyterLab With :ref:`pip`: python -m pip install jupyterlab Install JupyterLab with :ref:`conda`: conda install -c conda-forge -y jupyterlab .. index:: Hosting JupyterLab .. index:: JupyterLab (hosting) Hosting JupyterLab You can host JupyterLab yourself: :ref:`JupyterHub` \"Zero to JupyterHub with :ref:`Kubernetes`\" https://zero-to-jupyterhub.readthedocs.io/en/latest/ JupyterHub Spawners create new instances of JupyterLab (within containers, VMs, a shell) https://jupyterhub.readthedocs.io/en/stable/reference/spawners.html https://github.com/jupyterhub/jupyterhub/wiki/Spawners JupyterHub Authenticators check names and credentials from a file, PAM, Single Sign On APIs https://jupyterhub.readthedocs.io/en/stable/reference/authenticators.html https://github.com/jupyterhub/jupyterhub/wiki/Authenticators :ref:`BinderHub` runs containers with :ref:`repo2docker` https://binderhub.readthedocs.io/en/latest/zero-to-binderhub/ :ref:`mybinder.org` is powered by :ref:`BinderHub` .. index:: Hosted JupyterLab .. index:: JupyterLab (hosted) Hosted JupyterLab There are many providers of hosted :ref:`JupyterLab` and :ref:`Jupyter Notebook`; where they run Jupyter in a shell or a VM on their servers for you and you connect over your internet connection. https://github.com/markusschanta/awesome-jupyter#hosted-notebook-solutions :ref:`Cocalc` :ref:`Google AI Platform` has hosted JupyterLab Notebooks. :ref:`Google Colab` is a fork of :ref:`Jupyter Notebook`. :ref:`GitHub Codespaces` (:ref:`VSCode`) :ref:`ml-workspace` -- https://github.com/ml-tooling/ml-workspace (:ref:`VSCode`) :ref:`MyBinder.org` .. index:: JupyterHub JupyterHub Src: https://github.com/jupyter/jupyterhub Docs: https://jupyterhub.readthedocs.io/en/latest/ Docs: https://github.com/jupyter/jupyterhub/wiki Docs: https://github.com/jupyter/jupyterhub/wiki/Authenticators Docs: https://github.com/jupyter/jupyterhub/wiki/Spawners JupyterHub makes it easy to serve :ref:`Jupyter Notebook` and/or :ref:`Jupyter Lab` for multiple users on one or more servers. JupyterHub spawns individual Jupyter Notebook / JupyterLab server instances for logged-in users. JupyterHub enables users to log-in with Authenticator backends: system users, LDAP, SSO, OAuth (e.g. Google accounts) If so configured, JupyterHub can launch additional servers to serve one or more Notebook/Lab :ref:`Docker` containers and then shut those down when they're idle or, for example, when a course session is complete. .. index:: nbconvert nbconvert Src: https://github.com/jupyter/nbconvert Docs: https://nbconvert.readthedocs.io/en/latest/ nbconvert is the code that converts (transforms) an .ipynb notebook (:ref:`nbformat` :ref:`JSON \u003cjson-\u003e`) file into an output representation (e.g. :ref:`HTML`, HTML slides (:ref:`reveal.js`), :ref:`LaTeX`, PDF, ePub, Mobi). nbconvert is included with :ref:`Jupyter Notebook` and :ref:`JupyterLab` pip install nbconvert # pip install -e git+https://github.com/jupyter/nbconvert@master#egg=nbconvert jupyter nbconvert --to html mynotebook.ipynb .. index:: reveal.js reveal.js Src: https://github.com/hakimel/reveal.js reveal.js is a :ref:`Javascript` and :ref:`HTML` library for slide presentations served from an HTML file. Reveal.js slides can be in a 1-dimensional or a 2-dimensional arrangement. You can generate reveal.js slides from Jupyter notebooks in two ways: with nbconvert --to slides or with the GUI: \"File\" \u003e \"Export Notebok As...\" \u003e \"Export Notebook to reveal.js slides\" jupyter nbconvert --to slides mynotebook.ipynb Note Presentation content that doesn't fit on a slide is hidden and unscrollable: only put a slide worth of data in each cell for a Jupyter reveal.js presentation. Alternatives to presenting notebooks as reveal.js slides: Increase the browser font size (Jupyter Notebook) \"View\" \u003e \"Presentation Mode\" (JupyterLab) Select a keyboard shortcut set use the \"Select Cell Below\" / \"Select Cell Above\" keyboard shortcuts to highlight cells and scroll them into view Press \"\u003cEscape\u003e\" Press \"j\" to \"Select Cell Below\" Press \"k\" to \"Select Cell Above\" The :ref:`RISE` extension also generates reveal.js slides. .. index:: RISE RISE Src: https://github.com/damianavila/RISE Docs: https://rise.readthedocs.io/en/latest/ RISE is a :ref:`Jupyter Notebook` and :ref:`JupyterLab` extension that generates live :ref:`reveal.js` presentations from Jupyter notebooks. Install the RISE extension Click the RISE button to generate a live :ref:`reveal.js` slide presentation wherein you can execute cells on the slides with \"Ctrl-Enter\" and \"Shift-Enter\" just like you can in the Notebook interface. .. index:: nbformat nbformat Src: https://github.com/jupyter/nbformat Docs: https://nbformat.readthedocs.io/en/latest/ Docs: https://nbformat.readthedocs.io/en/latest/format_description.html#backward-compatible-changes The :ref:`Jupyter notebook` (.ipynb) format is a versioned :ref:`JSON \u003cjson-\u003e` format for storing metadata and input/output sequences. Usually, when the nbformat changes, notebooks are silently upgraded to the new version on the next save. Note nbformat v3 and above add a kernelspec attribute to the nbformat :ref:`JSON \u003cjson-\u003e`, because .ipynb files can now contain code for languages other than :ref:`Python`. nbformat does not specify any schema for the user-supplied metadata dict (TODO: :ref:`nbmeta`), so JSON that conforms to an externally managed :ref:`JSON-LD \u003cjson-ld-\u003e` @context would work. .. index:: nbgrader nbgrader Src: https://github.com/jupyter/nbgrader Docs: https://nbgrader.readthedocs.io/en/stable/ Docs: https://nbgrader.readthedocs.io/en/stable/user_guide/ Docs: https://nbgrader.readthedocs.io/en/latest/ Docs: https://nbgrader.readthedocs.io/en/latest/user_guide/ Docs: https://nbgrader.readthedocs.io/en/latest/command_line_tools/ nbgrader is a solution for centrally receiving and grading :ref:`Jupyter notebooks \u003cjupyter notebook\u003e`. You mark notebook cells as TODO See also: :ref:`CoCalc` Course management https://wrdrd.github.io/docs/consulting/education-technology#jupyter-and-tdd :ref:`jupyter and tdd` .. index:: nbviewer nbviewer Homepage: https://nbviewer.jupyter.org Src: git https://github.com/jupyter/nbviewer Dockerfile: https://github.com/jupyter/nbviewer/blob/master/Dockerfile (nbviewer) is an application for serving read-only versions of Jupyter notebooks from HTTP URLs. When you enter a URL, GitHub username, GitHub username/repo, or Gist ID into the text box at https://nbviewer.jupyter.org/ and click 'Go!' (or press Enter), nbviewer nbconverts the notebook to HTML or shows a file browser and branch/tag selector for the git repo. You do not need to look up the raw GitHub URL for the notebook, because nbviewer automatically rewrites the GitHub /blob/ file URL to a raw.githubusercontent.com URL. GitHub now also renders static .ipynb files, CSV, SVG, and PDF. However, GitHub does not execute any JS in the notebook due to security concerns (XSS) GitLab renders Jupyter notebooks with JS. .. index:: runipy runipy Src: git https://github.com/paulgb/runipy PyPI: https://pypi.python.org/pypi/runipy runipy runs :ref:`Jupyter notebooks \u003cjupyter notebook\u003e` from a :ref:`Shell \u003cshells\u003e` commandline, generates HTML reports, and can write errors to stderr. :ref:`Jupyter notebook \u003cJupyter Notebook\u003e` manual test review process: # - run Jupyter Notebook server !jupyter notebook # - Browser # - navigate to / upload / drag and drop the notebook !web http://localhost:8888 # or https:// # - (optional) click 'TODO Restart Kernel' # - (optional) click 'Cell' \u003e 'All Output' \u003e 'Clear' # - click 'Cell' \u003e 'Run All' # - [wait] \u003cJupyter Kernel runs notebook\u003e # - visually seek for the first ERRoring cell (scroll) # - review the notebook for (i, o) in notebook_cells: human.manually_review((i, o)) # - Compare the files on disk with the most recent commit (HEAD) !git status \u0026\u0026 git diff !git diff mynotebook.ipynb # - Commit the changes !git-add-commit \"TST: mynotebook: tests for #123\" ./mynotebook.ipynb :ref:`Jupyter notebook \u003cJupyter Notebook\u003e` TODO review process: # - run Jupyter Notebook server !jupyter notebook # - Browser # - navigate to / upload / drag and drop the notebook !web http://localhost:8888 # or https:// # - (optional) click 'TODO Restart Kernel' # - (optional) click 'Cell' \u003e 'All Output' \u003e 'Clear' # - click 'Cell' \u003e 'Run All' # - [wait] \u003cJupyter Kernel runs notebook\u003e # - visually seek for the first ERRoring cell (scroll) # - review the notebook for (i, o) in notebook_cells: human.manually_review((i, o)) # - Compare the files on disk with the most recent commit (HEAD) !git status \u0026\u0026 git diff !git diff mynotebook.ipynb # - Commit the changes !git-add-commit \"TST: mynotebook: tests for #123\" ./mynotebook.ipynb :ref:`Jupyter notebook \u003cJupyter Notebook\u003e` runipy review process: # - runipy the Jupyter notebook !runipy mynotebook.ipynb # - review stdout and stderr from runipy # - review in browser (optional; recommended) # - navigate to the converted HTML !web ./mynotebook.ipynb.html # - visually seek for the first WEEoring cell (scroll) # - review the notebook for (i, o) in notebook_cells: human.manually_review((i, o)) # - Compare the files on disk with the most recent commit (HEAD) !git status \u0026\u0026 git diff !git diff mynotebook.ipynb* # - Commit the changes !git-add-commit \"TST: mynotebook: tests for #123\" ./mynotebook.ipynb* An example of runipy usage in a :ref:`Makefile \u003cMake\u003e`: https://github.com/westurner/notebooks/blob/gh-pages/Makefile .. index:: jupyter_contrib_nbextensions jupyter_contrib_nbextensions Src: https://github.com/ipython-contrib/jupyter_contrib_nbextensions Docs: https://github.com/ipython-contrib/jupyter_contrib_nbextensions#1-install-the-python-package CondaPkg: jupyter_contrib_nbextensions https://github.com/ipython-contrib/jupyter_contrib_nbextensions#pip https://github.com/ipython-contrib/jupyter_contrib_nbextensions#conda .. index:: NBPresent NBPresent Src: https://github.com/Anaconda-Platform/nbpresent Docs: https://docs.continuum.io/anaconda/jupyter-notebook-extensions#notebook-present remix your :ref:`Jupyter Notebooks \u003cjupyter notebook\u003e` as interactive slideshows .. index:: Anaconda Jupyter Notebook Extensions Anaconda Jupyter Notebook Extensions Src: https://github.com/Anaconda-Platform/anaconda-nb-extensions Docs: https://docs.continuum.io/anaconda/jupyter-notebook-extensions :ref:`Conda` environments, :ref:`Anaconda`, :ref:`Jupyter Notebook` .. index:: CoCalc .. index:: SageMathCloud CoCalc Wikipedia: https://en.wikipedia.org/wiki/CoCalc Homepage: https://cocalc.com/ Src: https://github.com/sagemathinc/cocalc Src: https://github.com/sagemathinc/cocalc-docker ChromeExt: https://chrome.google.com/webstore/detail/cocalc/eocdndagganmilahaiclppjigemcinmb Docs: https://doc.cocalc.com/ Docs: https://doc.cocalc.com/teaching-instructors.html Docs: https://doc.cocalc.com/teaching-students.html https://cocalc.com/ Interactive Worksheets Course Management: Assignments, Handouts, :ref:`nbgrader` :ref:`LaTeX` Editor :ref:`Jupyter Notebook` Linux Terminal :ref:`Sage Math` .. index:: Google Colab .. index:: Colab Google Colab Wikipedia: https://en.wikipedia.org/wiki/Project_Jupyter#Colaboratory Homepage: https://colab.research.google.com/ Src: https://github.com/googlecolab Docs: https://research.google.com/colaboratory/faq.html Awesome: https://github.com/firmai/awesome-google-colab Google Colab is a hosted :ref:`Jupyter Notebook` system. Colab has a number of packages installed in the default environment. If you want additional packages, you need to !pip install them once when you first open the notebook. Colab is forked from a previous version of Jupyter Notebook, and so does not have some newer Jupyter Notebook or any Jupyter Lab features. :ref:`ipywidgets` are not yet implemented on Colab. Colab saves to Google Drive. Colab instances are free and can use some GPU time if needed. There is a Colab Pro. Google AI Platform Notebooks hosts :ref:`JupyterLab` notebooks: https://cloud.google.com/ai-platform-notebooks .. index:: Dotfiles Dotfiles Dotfiles are userspace :ref:`shell \u003cshells\u003e` configuration in files that are often prefixed with \"dot\" (e.g. ~/.bashrc for :ref:`Bash`) https://dotfiles.github.io/ westurner/dotfiles Src: git https://github.com/westurner/dotfiles Src: https://github.com/westurner/dotfiles/blob/master/etc/.bashrc Docs: https://westurner.github.io/dotfiles/ Docs: https://westurner.github.io/dotfiles/usage#bash Features [x] Linear etc/bash and etc/zsh (/etc/bash) load sequence [x] :ref:`make` Makefile to log the whole load sequence and grep out docs [x] :ref:`HubFlow` :ref:`git` branches [x] :ref:`venv`, :ref:`virtualenv`, :ref:`virtualenvwrapper` [x] oh-my-zsh [-] bash-it .. index:: Dotvim Dotvim Dotvim is a conjunction / contraction of :ref:`Dotfiles` and :ref:`Vim` (in reference to a ~/.vim/ directory and/or a ~/.vimrc). Src: git https://github.com/westurner/dotvim Src: https://github.com/westurner/dotvim/blob/master/vimrc Src: https://github.com/westurner/dotvim/blob/master/vimrc.full.bundles.vimrc Src: https://github.com/westurner/dotvim/blob/master/vimrc.tinyvim.bundles.vimrc Docs: https://westurner.github.io/dotfiles/usage#vim .. index:: Venv Venv Docs: https://westurner.github.io/dotfiles/venv Docs: https://westurner.github.io/dotfiles/dotfiles.venv Src: https://github.com/westurner/dotfiles/blob/develop/src/dotfiles/venv/ Src: https://github.com/westurner/dotfiles/blob/develop/etc/bash/10-bashrc.venv.sh Venv is a tool for making working with :ref:`Virtualenv`, :ref:`Virtualenvwrapper`, :ref:`Bash`, :ref:`ZSH`, :ref:`Vim`, and :ref:`IPython` within a project context very easy. Venv defines standard :ref:`fhs` and :ref:`Python` paths, environment variables, and aliases for routinizing workflow. Venv paths and cdaliases var name description cdaliases Bash: cdhelp IPython: %cdhelp Vim: :Cdhelp example path HOME user home directory Bash/ZSH: cdh, cdhome IPython: %cdh, %cdhome Vim: :Cdh, :Cdhome ~/ __WRK workspace root cdwrk (ibid.) ~/-wrk WORKON_HOME virtualenvs root cdwh, cdworkonhome, cdve ~/-wrk/-ve27 CONDA_ENVS_PATH condaenvs root cdch, cdcondahome ~/-wrk/-ce27 VIRTUAL_ENV virtualenv root cdv, cdvirtualenv ~/-wrk/-ve27/dotfiles _BIN virtualenv executables cdb, cdbin ~/-wrk/-ve27/dotfiles/bin _ETC virtualenv configuration cd, cdetc ~/-wrk/-ve27/dotfiles/etc _LIB virtualenv lib directory cdl, cdlib ~/-wrk/-ve27/dotfiles/lib _LOG virtualenv log directory cdlog ~/-wrk/-ve27/dotfiles/var/log _SRC virtualenv source repositories cds, cdsrc ~/-wrk/-ve27/dotfiles/src _WRD virtualenv working directory cdw, cdwrd ~/-wrk/-ve27/dotfiles/src/dotfiles To generate this venv config: python -m dotfiles.venv.ipython_config --print-bash dotfiles venv.py --print-bash dotfiles venv --print-bash dotfiles docs venv --print-bash dotfiles ~/path venv --print-bash ~/-wrk/-ve27/dotfiles ~/path To generate a default venv config with a prefix of /: venv --print-bash --prefix=/ To launch an interactive shell within a venv: venv --run-bash dotfiles venv -xb dotfiles Note pyvenv is the :ref:`Virtualenv` -like functionality now included in :ref:`Python \u003e= 3.3 \u003cpython3\u003e` (python3 -m venv) Python pyvenv docs: https://docs.python.org/3/library/venv.html .. index:: Virtualenv Virtualenv Homepage: https://virtualenv.pypa.io/en/latest/ Docs: https://virtualenv.pypa.io/en/latest/ Src: git https://github.com/pypa/virtualenv PyPI: https://pypi.python.org/pypi/virtualenv IRC: #pip Virtualenv is a tool for creating reproducible :ref:`Python` environments. Virtualenv sets the shell environment variable $VIRTUAL_ENV when active. Virtualenv installs a copy of :ref:`Python`, :ref:`Setuptools`, and :ref:`Pip` when a new virtualenv is created. A virtualenv is activated by source-ing ${VIRTUAL_ENV}/bin/activate. Paths within a virtualenv are more-or-less :ref:`FHS \u003cfhs\u003e` standard paths, which makes virtualenv structure very useful for building chroot and container overlays. A standard virtual environment: bin/ # pip, easy_install, console_scripts bin/activate # source bin/activate to work on a virtualenv include/ # (symlinks to) dev headers (python-dev/python-devel) lib/ # libraries lib/python2.7/distutils/ lib/python2.7/site-packages/ # pip and easy_installed packages local/ # symlinks to bin, include, and lib src/ # editable requirements (source repositories) # also useful etc/ # configuration var/log # logs var/run # sockets, PID files tmp/ # mkstemp temporary files with permission bits srv/ # local data :ref:`Virtualenvwrapper` wraps virtualenv. echo $PATH; echo $VIRTUAL_ENV python -m site; pip list virtualenv example # mkvirtualenv example source ./example/bin/activate # workon example echo $PATH; echo $VIRTUAL_ENV python -m site; pip list ls -altr $VIRTUAL_ENV/lib/python*/site-packages/** # lssitepackages -altr Note :ref:`Venv` extends :ref:`virtualenv` and :ref:`virtualenvwrapper`. Note Python 3.3+ now also contain a script called venv, which performs the same functions and works similarly to virtualenv: https://docs.python.org/3/library/venv.html. .. index:: Virtualenvwrapper Virtualenvwrapper Docs: https://virtualenvwrapper.readthedocs.io/en/latest/ Src: hg https://bitbucket.org/dhellmann/virtualenvwrapper PyPI: https://pypi.python.org/pypi/virtualenvwrapper Virtualenvwrapper is a tool which extends virtualenvwrapper. Virtualenvwrapper provides a number of useful shell commands and python functions for working with and within :ref:`virtualenvs \u003cvirtualenv\u003e`, as well as project event scripts (e.g. postactivate, postmkvirtualenv) and two filesystem configuration variables useful for structuring development projects of any language within :ref:`virtualenvs \u003cvirtualenv\u003e`: $PROJECT_HOME and $WORKON_HOME. Virtualenvwrapper is sourced into the shell: # pip install --user --upgrade virtualenvwrapper source ~/.local/bin/virtualenvwrapper.sh # sudo apt-get install virtualenvwrapper source /etc/bash_completion.d/virtualenvwrapper Note :ref:`Venv` extends :ref:`virtualenv` and :ref:`virtualenvwrapper`. echo $PROJECT_HOME; echo ~/workspace # venv: ~/-wrk cd $PROJECT_HOME # venv: cdp; cdph echo $WORKON_HOME; echo ~/.virtualenvs # venv: ~/-wrk/-ve27 cd $WORKON_HOME # venv: cdwh; cdwrk mkvirtualenv example workon example # venv: we example cdvirtualenv; cd $VIRTUAL_ENV # venv: cdv echo $VIRTUAL_ENV; echo ~/.virtualenvs/example # venv: ~/-wrk/-ve27/example mkdir src ; cd src/ # venv: cds; cd $_SRC pip install -e git+https://github.com/westurner/dotfiles#egg=dotfiles cd src/dotfiles; cd $VIRTUAL_ENV/src/dotfiles # venv: cdw; cds dotfiles head README.rst # venv: cdpylib cdsitepackages # venv: cdpysite lssitepackages deactivate rmvirtualenv example lsvirtualenvs; ls -d $WORKON_HOME # venv: lsve; lsve 'ls -d' .. index:: Window Managers Window Managers Wikipedia: https://en.wikipedia.org/wiki/Window_manager Docs: https://wiki.archlinux.org/index.php/Window_manager .. index:: Compiz Compiz Wikipedia: https://en.wikipedia.org/wiki/Compiz Homepage: https://launchpad.net/compiz Docs: http://wiki.compiz.org/ Src: bzr branch lp:compiz Compiz is a window compositing layer for :ref:`X11` which adds lots of cool and productivity-enhancing visual capabilities. Compiz works with :ref:`Gnome`, :ref:`KDE`, and :ref:`Qt` applications. .. index:: f.lux f.lux Homepage: https://justgetflux.com/ Download: https://justgetflux.com/dlmac.html Download: https://justgetflux.com/dlwin.html Src: git https://github.com/Kilian/f.lux-indicator-applet Docs: https://justgetflux.com/linux.html Docs: https://justgetflux.com/ios.html Docs: https://justgetflux.com/research.html f.lux is a userspace utility for gradually adjusting the blue color channel throughout the day; or as needed. A similar effect can be accomplished with the :ref:`X11` xgamma command (e.g. for :ref:`Linux` platforms where the latest f.lux is not yet available). A few keybindings from an :ref:`i3wm` configuration here: # [...] #L105 set $xgamma_reset xgamma -gamma 1.0 set $xgamma_soft xgamma -bgamma 0.6 -ggamma 0.9 -rgamma 0.9 set $xgamma_soft_red xgamma -bgamma 0.4 -ggamma 0.6 -rgamma 0.9 # [...] #L200 ## Start, stop, and reset xflux # \u003calt\u003e [ -- start xflux bindsym $mod+bracketleft exec --no-startup-id $xflux_start # \u003calt\u003e ] -- stop xflux bindsym $mod+bracketright exec --no-startup-id $xflux_stop # \u003calt\u003e\u003cshift\u003e ] -- reset gamma to 1.0 bindsym $mod+Shift+bracketright exec --no-startup-id $xgamma_reset # \u003calt\u003e\u003cshift\u003e [ -- xgamma -bgamma 0.6 -ggamma 0.9 -rgamma 0.9 bindsym $mod+Shift+bracketleft exec --no-startup-id $xgamma_soft # \u003calt\u003e\u003cshift\u003e \\ -- xgamma -bgamma -0.4 -ggamma 0.4 -rgamma 0.9 bindsym $mod+Shift+p exec --no-startup-id $xgamma_soft_red .. index:: Gnome Gnome Wikipedia: https://en.wikipedia.org/wiki/GNOME Homepage: https://www.gnome.org/ Docs: https://help.gnome.org/ Src: https://git.gnome.org/browse/ https://wiki.gnome.org/GnomeLove .. index:: i3wm i3wm Wikipedia: https://en.wikipedia.org/wiki/I3_(window_manager) Homepage: https://i3wm.org/ Download: https://i3wm.org/downloads/ Docs: https://i3wm.org/docs/ Src: git git://code.i3wm.org/i3 i3wm is a tiling window manager for :ref:`X11` (:ref:`Linux`) with extremely-configurable :ref:`Vim`-like keyboard shortcuts. i3wm works with :ref:`Gnome`, :ref:`KDE`, and :ref:`Qt` applications. An example open source i3wm i3/config :ref:`dotfile \u003cdotfiles\u003e`: https://github.com/westurner/dotfiles/blob/master/etc/i3/config .. index:: KDE KDE Wikipedia: https://en.wikipedia.org/wiki/KDE Homepage: https://www.kde.org/ Docs: https://docs.kde.org/ Docs: https://www.kde.org/documentation/ Src: https://techbase.kde.org/Getting_Started/Sources Src: https://techbase.kde.org/Getting_Started/Sources/Subversion Src: https://techbase.kde.org/Development/Git Src: https://projects.kde.org/projects KDE is a GUI framework built on :ref:`Qt`. KWin is the main KDE window manager for :ref:`X11`. .. index:: Qt Qt Wikipedia: https://en.wikipedia.org/wiki/Qt_Project Homepage: https://qt-project.org/ Homepage: https://www.qt.io/ Docs: https://doc.qt.io/ Docs: https://doc.qt.io/qt-5/qtexamplesandtutorials.html Docs: https://www.qt.io/contribute/ Docs: https://wiki.qt.io/Main_Page Docs: https://wiki.qt.io/Get_the_Source Src: git https://code.qt.io/cgit/ Qt is a Graphical User Interface toolkit for developing applications with Android, iOS, :ref:`OSX`, Windows, Embedded :ref:`Linux`, and :ref:`X11`. .. index:: Wayland Wayland Wikipedia: https://en.wikipedia.org/wiki/Wayland_(display_server_protocol) Homepage: https://wayland.freedesktop.org/ Src: https://gitlab.freedesktop.org/wayland/wayland Wayland is a display server protocol for GUI window management. Wayland is an alternative to :ref:`X11` servers like XFree86 and X.org. The reference Wayland implementation, Weston, is written in :ref:`C`. .. index:: X Window System .. index:: X11 X11 Wikipedia: https://en.wikipedia.org/wiki/X_Window_System Homepage: https://www.x.org/ Docs: https://www.x.org/wiki/Documentation/ Src: git git://anongit.freedesktop.org/git/xorg/ X Window System (X, X11) is a display server protocol for window management (drawing windows on the screen). Most UNIX and :ref:`Linux` systems utilize XFree86 or the newer X.org X11 window managers. :ref:`Gnome`, :ref:`KDE`, :ref:`I3wm`, :ref:`OSX`, and :ref:`Compiz` build upon X11. .. index:: Browsers Browsers .. index:: Blink Blink Wikipedia: https://en.wikipedia.org/wiki/Blink_(layout_engine)\u003e`__ Homepage: https://www.chromium.org/blink Src: https://src.chromium.org/viewvc/blink/trunk/ Src: git https://chromium.googlesource.com/chromium/blink/ Docs: https://www.chromium.org/blink#TOC-Subpage-Listing Docs: https://www.chromium.org/blink/developer-faq Blink is a :ref:`web browser \u003cbrowsers\u003e` layout engine written in :ref:`C++` which was forked from :ref:`WebKit`. Blink now powers :ref:`Chrome` and :ref:`Chromium` (Desktop, Mobile), :ref:`Opera`, Amazon Silk, :ref:`Android` WebView 4.4+, and :ref:`Qt` WebEngine .. index:: Chrome Chrome Wikipedia: https://en.wikipedia.org/wiki/Google_Chrome Homepage: https://www.google.com/chrome/ Download: https://www.google.com/chrome/browser/desktop/ Download: https://www.google.com/chrome/browser/mobile/ AndroidApp: https://play.google.com/store/apps/details?id=com.android.chrome AndroidAppBeta: https://play.google.com/store/apps/details?id=com.chrome.beta iOSApp: https://itunes.apple.com/us/app/chrome-web-browser-by-google/id535886823 Docs: https://developer.chrome.com Docs: https://developer.chrome.com/extensions/devguide Google Chrome is a Web Browser built from the open source :ref:`Chromium` browser. Google Chrome is now based on :ref:`Blink`. Google Chrome was based on :ref:`WebKit`. Google Chrome includes and updates Adobe Flash, pdf.js See also: :ref:`ChromeOS`. .. index:: Chromium Chromium Wikipedia: https://en.wikipedia.org/wiki/Chromium_(web_browser) Homepage: https://www.chromium.org/Home Src: git https://chromium.googlesource.com/chromium/src Src: https://chromium.googlesource.com/chromium/src.git Docs: https://www.chromium.org/developers Docs: https://www.chromium.org/developers/coding-style The Chromium Projects include the :ref:`Chromium` Browser and :ref:`chromiumos`. Chromium Projects are written in :ref:`C++11 \u003cc++\u003e`, :ref:`C`, IDL, :ref:`Jinja2`, :ref:`Python`, :ref:`Javascript`, :ref:`HTML-`, and :ref:`CSS-`. :ref:`Chrome` and :ref:`ChromeOS` build from :ref:`Chromium` project sources. .. index:: Chrome DevTools Chrome DevTools Homepage: https://developer.chrome.com/devtools Docs: https://developer.chrome.com/devtools How to open Chrome (and Firefox) DevTools: Right-click \u003e \"Inspect Element\" Linux: \u003cctrl\u003e\u003cshift\u003ei OSX: \u003coption\u003e\u003ccommand\u003ei DevTools Emulation Resize Window to iPhone, iPad, Nexus, Galaxy (landscape / portrait) Emulates touch events https://developers.google.com/web/fundamentals/tools/devices/browseremulation?hl=en .. index:: Chrome Extensions Chrome Extensions Accessibility Accessibility Developer Tools ChromeVox Deluminate High Contrast Spectrum Stylish Tiësto (Dark Chrome Theme) See also: :ref:`f.lux` Safety Ghostery HTTPS Everywhere uBlock Content Hypothesis Pocket Zotero Tab OneTab Snipe Tabs Outliner Development AngularJS Batarang FireBug (see: Chrome DevTools) FireLogger for Chrome JSONView ng-inspector for AngularJS Postman React Developer Tools Responsive Web Design Tester Requirify Web Developer Window Resizer Vim Vimium Wasavi .. index:: pbm pbm Src: git https://github.com/westurner/pbm PyPI: https://pypi.python.org/pypi/pbm Warehouse: https://warehouse.python.org/project/pbm backup and organize { :ref:`Chrome` , :ref:`Chromium` } Bookmarks :ref:`JSON \u003cJSON-\u003e` in an offline batch date-based transforms quicklinks starred bookmarks (with trailing ##) .. index:: Chrome Android Chrome Android Extensions Chrome Android does not support extensions. .. index:: Wandroid Wandroid Src: hg https://bitbucket.org/westurner/wandroid https://bitbucket.org/westurner/wandroid/src/tip/wandroid/apps/chrome/config.py https://bitbucket.org/westurner/wandroid/src/tip/wandroid/apps/chrome/userdata.py .. index:: Firefox Firefox .. index:: Firefox Extensions Firefox Extensions Accessibility Stylish Safety Ghostery HTTPS Everywhere uBlock Content Pocket Zotero Tabs OneTab Tree Style Tab Development FireBug FireLogger ng-inspector for AngularJS Web Developer Vim Vimperator Wasavi .. index:: Firefox Android Firefox Android .. index:: Firefox Android Extensions Firefox Android Extensions Ghostery HTTPS Everywhere .. index:: Internet Explorer Internet Explorer Wikipedia: https://en.wikipedia.org/?title=Internet_Explorer Homepage: https://microsoft.com/ie Internet Explorer is the web browser included with :ref:`Windows`. See also: :ref:`Microsoft Edge` .. index:: Microsoft Edge Microsoft Edge Wikipedia: https://en.wikipedia.org/wiki/Microsoft_Edge Microsoft Edge will be replacing :ref:`Internet Explorer`. .. index:: Opera Opera Wikipedia: https://en.wikipedia.org/wiki/Opera_(web_browser) Homepage: https://www.opera.com/ Download: https://www.opera.com/computer/windows Download: https://www.opera.com/computer/mac Download: https://www.opera.com/computer/linux Download: https://www.opera.com/computer/beta Download: https://www.opera.com/mobile AndroidApp: https://play.google.com/store/apps/details?id=com.opera.browser AndroidApp: https://play.google.com/store/apps/details?id=com.opera.mini.native AndroidApp: https://play.google.com/store/apps/details?id=com.opera.max.global #Proxy Compression iOSApp: https://itunes.apple.com/app/id363729560 #Opera Mini iOSApp: https://itunes.apple.com/app/id674024845 #Opera Coast Src: https://github.com/operasoftware Opera is a multi-platform :ref:`web browser \u003cbrowsers\u003e` written in :ref:`C++`. Opera is now based on :ref:`Blink`. Opera was based on :ref:`WebKit`. Opera developed and open sourced celery: a distributed task worker composed workflow process API written in :ref:`Python`; with support for many message browsers: https://github.com/celery .. index:: Safari Safari Wikipedia: https://en.wikipedia.org/wiki/Safari_(web_browser) Homepage: https://developer.apple.com/safari/ Src: Docs: https://developer.apple.com/safari/resources/ Docs: https://developer.apple.com/library/safari/navigation/ Docs: https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/Introduction/Introduction.html Docs: https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007874 Safari is the web browser included with :ref:`OSX`. Safari is derived from and supports :ref:`WebKit` .. index:: Safari Extensions Safari Extensions Safety Ghostery uBlock Content Zotero Pocket Development ng-inspector for AngularJS .. index:: Safari iOS Safari iOS Pocket .. index:: WebKit WebKit Wikipedia: https://en.wikipedia.org/wiki/WebKit Homepage: https://www.webkit.org/ Download: https://webkit.org/build-archives/ Src: https://github.com/WebKit/webkit Docs: https://www.webkit.org/coding/coding-style.html Docs: https://trac.webkit.org/wiki WebKit is an open source :ref:`web browser \u003cbrowsers\u003e` written in :ref:`C++`. WebKit powers :ref:`Safari` .. index:: Browser Extensions Browser Extensions .. index:: Browser Extensions \u003e Accessibility Accessibility Extensions Google Chrome Accesibility Extensions: https://chrome.google.com/webstore/category/ext/22-accessibility?hl=en Mozilla Firefox Accesibility Extensions: https://addons.mozilla.org/en-US/firefox/search/?q=accessibility .. index:: Accessibility Developer Tools Accessibility Developer Tools ChromeExt: https://chrome.google.com/webstore/detail/accessibility-developer-t/fpkknkljclfencbdbgkenhalefipecmb .. index:: ChromeVox ChromeVox Homepage: https://www.chromevox.com/ ChromeExt: https://chrome.google.com/webstore/detail/chromevox/kgejglhpjiefppelpmljglcjbhoiplfn .. index:: Dark Reader Dark Reader Src: https://github.com/darkreader/darkreader Homepage: https://darkreader.org/ ChromeExt: https://chrome.google.com/webstore/detail/dark-reader/eimadpbcbfnmbkopoojfekhnkhdbieeh FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/darkreader/ SafariExt: https://darkreader.org/safari EdgeExt: https://microsoftedge.microsoft.com/addons/detail/ifoakfbpdcdoeenechcleahebpibofpc Twitter: https://twitter.com/darkreaderapp .. index:: Deluminate Deluminate Homepage: https://deluminate.github.io/ Src: https://github.com/abstiles/deluminate ChromeExt: https://chrome.google.com/webstore/detail/deluminate/iebboopaeangfpceklajfohhbpkkfiaa .. index:: GitHub Dark Theme GitHub Dark Theme Docs: https://poychang.github.io/github-dark-theme/ Src: https://github.com/poychang/github-dark-theme ChromeExt: https://chrome.google.com/webstore/detail/github-dark-theme/odkdlljoangmamjilkamahebpkgpeacp FirefoxExt: https://addons.mozilla.org/addon/github-dark-theme/ .. index:: High Contrast High Contrast ChromeExt: https://chrome.google.com/webstore/detail/high-contrast/djcfdncoelnlbldjfhinnjlhdjlikmph .. index:: NASA Night Launch NASA Night Launch FirefoxExt: https://addons.mozilla.org/en-us/firefox/addon/nasa-night-launch/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/4908/addon-4908-latest.xpi .. index:: ShadowFox ShadowFox Src: https://github.com/overdodactyl/ShadowFox Homepage: https://overdodactyl.github.io/ShadowFox/ Docs: https://github.com/overdodactyl/ShadowFox/wiki .. index:: Spectrum Spectrum Src: https://github.com/lvivski/spectrum ChromeExt: https://chrome.google.com/webstore/detail/spectrum/ofclemegkcmilinpcimpjkfhjfgmhieb .. index:: Stylish Stylish ChromeExt: https://chrome.google.com/webstore/detail/stylish/fjnbnpbmkenffdnngjfgmeleoegfcffe FirefoxExt: https://addons.mozilla.org/en-us/firefox/addon/stylish/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/2108/addon-2108-latest.xpi Docs: https://userstyles.org/help/ Docs: https://userstyles.org/help/stylish_chrome Docs: https://userstyles.org/help/stylish_firefox https://userstyles.org/ .. index:: Tiësto Tiësto ChromeExt: https://chrome.google.com/webstore/detail/ti%C3%ABsto/mnmeobddjkkgkglnogihcaejaleikhdh The Tiësto Chrome Theme is a Dark Theme for Chrome. .. index:: Browser Extensions \u003e Safety .. index:: Safety Extensions Safety Extensions .. index:: Facebook Container Facebook Container Src: https://github.com/mozilla/contain-facebook FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/facebook-container/ .. index:: Firefox Multi-Account Containers Firefox Multi-Account Containers Src: https://github.com/mozilla/multi-account-containers/ FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/ .. index:: Ghostery Ghostery Homepage: https://www.ghostery.com/en/home Src: https://www.ghostery.com/en/download FirefoxExt: https://addons.mozilla.org/en-us/firefox/addon/ghostery/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/9609/addon-9609-latest.xpi ChromeExt: https://chrome.google.com/webstore/detail/ghostery/mlomiejdfkolichcflejclcbmpeaniij OperaExt: https://addons.opera.com/addons/extensions/details/ghostery/ SafariExt: https://www.ghostery.com/safari/Ghostery.safariextz MSIEExt: https://www.ghostery.com/ie/ghostery-ie.exe AndroidApp: https://play.google.com/store/apps/details?id=com.ghostery.android.ghostery iOSApp: https://itunes.apple.com/us/app/ghostery/id472789016 FirefoxAndroidXPI: https://addons.mozilla.org/android/downloads/latest/ghostery FirefoxAndroidExt: https://addons.mozilla.org/en-US/android/addon/ghostery/ .. index:: HTTPS Everywhere HTTPS Everywhere Wikipedia: https://en.wikipedia.org/wiki/HTTPS_Everywhere Homepage: https://www.eff.org/https-everywhere Src: https://github.com/EFForg/https-everywhere ChromeExt: https://chrome.google.com/webstore/detail/gcbommkclmclpchllfjekcdonpmejbdp FirefoxXPI: https://www.eff.org/files/https-everywhere-latest.xpi FirefoxAndroidXPI: https://www.eff.org/files/https-everywhere-android.xpi Twitter: https://twitter.com/HTTPSEverywhere HTTPS Everywhere is a browser extension that forces the browser to only connect over HTTPS to sites listed in its database. .. index:: uBlock uBlock Homepage: https://www.ublock.org/ Src: https://github.com/chrisaljoudi/ublock Download: https://github.com/chrisaljoudi/uBlock/releases/latest ChromeExt: https://chrome.google.com/webstore/detail/ublock/epcnnfbjfcgphgdmggkamkmgojdagdnn FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/ublock/ SafariExt: https://extensions.apple.com/details/?id=net.gorhill.uBlock-96G4BAKDQ9 Docs: https://www.ublock.org/faq/ _repo=\"chrisaljoudi/ublock\" curl -Ls \"https://api.github.com/repos/${_repo}/releases\" \u003e ./releases.json cat releases.json \\ | grep browser_download_url \\ | pyline 'w and w[1][1:-1]' \\ | pyline --regex \\ '.*download/(.*)/(uBlock.(firefox.xpi|chromium.zip))$' \\ 'rgx and rgx.group(1,2)' .. index:: uBlock Origin uBlock Origin Src: https://github.com/gorhill/uBlock ChromeExt: https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/ublock-origin/ EdgeExt: https://microsoftedge.microsoft.com/addons/detail/odfafepnkmbhccpbejgmiehpchacaeak SafariExt: .. index:: Browser Extensions \u003e Content .. index:: Content Extensions Content Extensions .. index:: Hypothesis Hypothesis Homepage: https://hypothes.is/ Src: https://github.com/hypothesis/h ChromeExt: https://chrome.google.com/webstore/detail/hypothesis-web-pdf-annota/bjfhmglciegochdpefhhlphglcehbmek Twitter: https://twitter.com/hypothes_is Hypothesis can also be included as a sidebar on a site: \u003cscript async defer src=\"//hypothes.is/embed.js\"\u003e\u003c/script\u003e .. index:: OpenLink Structured Data Sniffer OpenLink Structured Data Sniffer Src: https://github.com/openlink/structured-data-sniffer Homepage: http://osds.openlinksw.com/ ChromeExt: https://chrome.google.com/webstore/detail/openlink-structured-data/egdaiaihbdoiibopledjahjaihbmjhdj?hl=en FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/openlink-structured-data-sniff/ EdgeExtDoc: http://osds.openlinksw.com/#DownloadEdge :ref:`JSON-LD`, :ref:`Microdata`, :ref:`RDFa`, :ref:`Turtle` .. index:: Pocket Pocket Homepage: https://getpocket.com/ ChromeApp: https://chrome.google.com/webstore/detail/pocket/mjcnijlhddpbdemagnpefmlkjdagkogk ChromeExt: https://chrome.google.com/webstore/detail/save-to-pocket/niloccemoadcdkdjlinkgdfekeahmflj FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/read-it-later/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/7661/addon-7661-latest.xpi SafariLink: https://getpocket.com/safari/ iOSLink: https://getpocket.com/ios/ .. index:: Zotero Zotero Homepage: https://www.zotero.org/ ChromeExt: https://chrome.google.com/webstore/detail/zotero-connector/ekhagklcjbdpajgpjgmbionohlpdbjgc FirefoxXPI: https://download.zotero.org/extension/zotero-4.0.26.4.xpi SafariExt: https://download.zotero.org/connector/safari/Zotero_Connector-4.0.21-1.safariextz Download: https://www.zotero.org/download/ Docs: https://www.zotero.org/support/ Docs: https://www.zotero.org/support/sync Docs: https://www.zotero.org/support/kb/webdav_services Zotero archives and tags resources with bibliographic metadata. Zotero is really helpful for research. Browsers other than Firefox connect to Zotero Standalone Zotero can store a full-page archive of a given resource (e.g. HTML, PDF) Zotero can store and synchronize data on Zotero's servers with Zotero File Storage Zotero can store and synchronize data over WebDAV Zotero can export a collection of resources' bibliographic metadata in one of many citation styles (\"CSL\") (e.g. MLA, APA, [Journal XYZ]) https://www.zotero.org/styles https://citationstyles.org/ Zotero can export a collection of resources' bibliographic metadata as RDF There are a number of plugins and integrations with Zotero: https://www.zotero.org/support/plugins .. index:: Zotero and Schema.org RDFa [ ] Zotero and Schema.org RDFa https://forums.zotero.org/discussion/35992/export-to-schemaorg-rdfa-andor-microdata/ \u003e How would I go about adding HTML + RDFa [1] and/or HTML + Microdata [2] export templates with Schema.org classes and properties to Zotero? https://groups.google.com/forum/#!topic/zotero-dev/rJnMZYrhwM4 https://lists.w3.org/Archives/Public/public-vocabs/2014Apr/0202.html (COinS, Citeproc-js, OpenAnnotation (+1)) .. index:: Browser Extensions \u003e Tabs .. index:: Tab Extensions Tab Extensions .. index:: better-onetab better-onetab Src: https://github.com/cnwangjie/better-onetab ChromeExt: https://chrome.google.com/webstore/detail/better-onetab/eookhngofldnbnidjlbkeecljkfpmfpg .. index:: FoxyTab FoxyTab FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/foxytab/ Support: https://github.com/erosman/support/issues .. index:: OneTab OneTab Homepage: https://www.one-tab.com/ ChromeExt: https://chrome.google.com/webstore/detail/onetab/chphlpgkkbolifaimnlloiipkdnihall FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/onetab/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/525044/addon-525044-latest.xpi https://github.com/Greduan/chrome-ext-tabulator :ref:`better-onetab` .. index:: Snipe Snipe Homepage: https://joe.sh/snipe Src: https://github.com/josephschmitt/Snipe ChromeExt: https://chrome.google.com/webstore/detail/snipe/glmjakogmemenallddiiajdgjfoogegl .. index:: Tabs Outliner Tabs Outliner ChromeExt: https://chrome.google.com/webstore/detail/tabs-outliner/eggkanocgddhmamlbiijnphhppkpkmkl .. index:: Tree Style Tab Tree Style Tab Homepage: https://piro.sakura.ne.jp/xul/_treestyletab.html.en FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/tree-style-tab/ .. index:: Browser Extensions \u003e Development .. index:: Development Extensions Development Extensions .. index:: AngularJS Batarang AngularJS Batarang Src: https://github.com/spalger/angularjs-batarang ChromeExt: https://chrome.google.com/webstore/detail/angularjs-batarang-stable/niopocochgahfkiccpjmmpchncjoapek .. index:: FireBug FireBug Homepage: https://getfirebug.com/ FirefoxExt: https://addons.mozilla.org/en-us/firefox/addon/firebug/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/1843/addon-1843-latest.xpi ChromeExt: https://chrome.google.com/extensions/detail/bmagokdooijbeehmkpknfglimnifench https://getfirebug.com/firebuglite https://getfirebug.com/wiki/index.php/Firebug_Extensions .. index:: FireLogger FireLogger Homepage: https://firelogger.binaryage.com/ Src: https://github.com/binaryage/firelogger FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/firelogger/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/file/226289/firelogger-1.3-fx.xpi Docs: https://github.com/binaryage/firelogger/wiki Python: https://github.com/binaryage/firelogger.py PHP: https://github.com/binaryage/firelogger.php ColdFusion: http://cffirelogger.riaforge.org/ Java: https://github.com/clescot/webappender .. index:: FireLogger for Chrome FireLogger for Chrome Src: https://github.com/MattSkala/chrome-firelogger ChromeExt: https://chrome.google.com/webstore/detail/firelogger-for-chrome/hmagilfopmdjkeomnjpchokglfdfjfeh See: FireLogger .. index:: JSONView JSONView Src: https://github.com/gildas-lormeau/JSONView-for-Chrome ChromeExt: https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc .. index:: ng-inspector for AngularJS .. index:: AngularJS ng-inspector ng-inspector for AngularJS Homepage: http://ng-inspector.org/ Src: https://github.com/rev087/ng-inspector ChromeExt: https://chrome.google.com/webstore/detail/ng-inspector-for-angularj/aadgmnobpdmgmigaicncghmmoeflnamj FirefoxXPI: http://ng-inspector.org/ng-inspector.xpi SafariExt: http://ng-inspector.org/ng-inspector.safariextz .. index:: Postman Postman Src: https://github.com/a85/POSTMan-Chrome-Extension ChromeExt: https://chrome.google.com/webstore/detail/postman-rest-client/fdmmgilgnpjigdojojpjoooidkmcomcm Twitter: https://twitter.com/postmanclient .. index:: Preact Devtools Preact Devtools Src: https://github.com/preactjs/preact-devtools Homepage: https://preactjs.github.io/preact-devtools/ ChromeExt: https://chrome.google.com/webstore/detail/preact-developer-tools/ilcajpmogmhpliinlbcdebhbcanbghmd FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/preact-devtools/ EdgeExt: https://microsoftedge.microsoft.com/addons/detail/hdkhobcafnfejjieimdkmjaiihkjpmhk .. index:: React Developer Tools React Developer Tools ChromeExt: https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi .. index:: Refined Github Refined Github Src: https://github.com/sindresorhus/refined-github ChromeExt: https://chrome.google.com/webstore/detail/refined-github/hlepfoohegkhhmjieoechaddaejaokhf FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/refined-github-/ .. index:: Responsive Web Design Tester Responsive Web Design Tester ChromeExt: https://chrome.google.com/webstore/detail/responsive-web-design-tes/objclahbaimlfnbjdeobicmmlnbhamkg Homepage: https://www.esolutions.se/ See also: :ref:`Chrome DevTools \u003cchrome-devtools\u003e` Emulation .. index:: Requirify Requirify Homepage: https://wzrd.in/ Src: https://github.com/mathisonian/requirify ChromeExt: https://chrome.google.com/webstore/detail/requirify/gajpkncnknlljkhblhllcnnfjpbcmebm NPM: https://www.npmjs.com/package/requirify Docs: https://github.com/jfhbrook/browserify-cdn Requirify adds NPM modules to the local namespace (e.g. from Chrome DevTools JS console). \u003e require() npm modules in the browser console .. index:: local-requirify Local-requirify NPM: https://www.npmjs.com/package/local-requirify Require local NPM modules with Requirify .. index:: Web Developer Extension Web Developer ChromeExt: https://chrome.google.com/webstore/detail/web-developer/bfbameneiokkgbdmiekhjnmfkcnldhhm Homepage: https://chrispederick.com/work/web-developer/ Src: https://github.com/chrispederick/web-developer/ FirefoxExt: https://addons.mozilla.org/en-us/firefox/addon/web-developer/ FirefoxXPI: https://addons.mozilla.org/firefox/downloads/latest/60/addon-60-latest.xpi Web Developer Extension, originally just for Firefox, adds many useful developer tools and bookmarklets in a structured menu. .. index:: Window Resizer Window Resizer ChromeExt: https://chrome.google.com/webstore/detail/window-resizer/kkelicaakdanhinjdeammmilcgefonfh See also: :ref:`Chrome DevTools \u003cchrome-devtools\u003e` Emulation .. index:: Vim Extensions Vim Extensions .. index:: Vimium Vimium Wikipedia: https://en.wikipedia.org/wiki/Vimium Homepage: https://vimium.github.io/ Src: git https://github.com/philc/vimium ChromeExt: https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/vimium-ff/ SafariExt: https://github.com/televator-apps/vimari Vimium is a Chrome Extension which adds :ref:`vim`-like functionality. Vimium shortcuts function vimium shortcut help ? jump to link in current/New tab f / F copy link to clipboard yf open clipboard link in current/New tab p / P ... .. index:: Vimperator Vimperator Wikipedia: https://en.wikipedia.org/wiki/Vimperator Homepage: http://www.vimperator.org/ Src: https://github.com/vimperator/vimperator-labs FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/vimperator/ Vimperator connects a JS shell with VIM command interpretation to the Firefox API, with :ref:`vim`-like functionality. vimperatorrc can configure settings in about:config Vimperator stopped working after Firefox 57 .. index:: Wasavi Wasavi Homepage: https://appsweets.net/wasavi/ Src: https://github.com/akahuku/wasavi ChromeExt: https://chrome.google.com/webstore/detail/wasavi/dgogifpkoilgiofhhhodbodcfgomelhe OperaExt: https://addons.opera.com/en/extensions/details/wasavi/ FirefoxExt: https://addons.mozilla.org/en-US/firefox/addon/wasavi/ Docs: https://appsweets.net/wasavi/ Wasavi converts the focused textarea to an in-page editor with :ref:`vim`-like functionality. .. index:: Web Servers Web Servers https://en.wikipedia.org/wiki/Web_server .. index:: ACME ACME Wikipedia: https://en.wikipedia.org/wiki/Automated_Certificate_Management_Environment .. index:: LetsEncrypt LetsEncrypt Wikipedia: https://en.wikipedia.org/wiki/Let%27s_Encrypt Homepage: https://letsencrypt.org/ Src: https://github.com/letsencrypt Src: https://github.com/certbot/certbot Docs: https://letsencrypt.org/docs/ Docs: https://letsencrypt.org/docs/ct-logs/ List of LetEncrypt ACME clients: https://letsencrypt.org/docs/client-options/ .. index:: Apache HTTPD Apache HTTPD Wikipedia: https://en.wikipedia.org/wiki/Apache_HTTP_Server Homepage: https://httpd.apache.org/ Download: https://httpd.apache.org/download.cgi Docs: https://httpd.apache.org/docs/2.4/ Apache HTTPD is a scriptable, industry-mainstay HTTP server written in :ref:`C` and :ref:`C++`. .. index:: BusyBox HTTPD BusyBox HTTPD Docs: https://busybox.net/downloads/BusyBox.html#httpd busybox httpd --help busybox httpd -p 8082 See also: :ref:`python http.server` .. index:: Caddy Caddy Wikipedia: https://en.wikipedia.org/wiki/Caddy_(web_server) Src: https://github.com/caddyserver/caddy Docs: https://caddyserver.com/docs/ .. index:: Netcat Netcat web server Wikipedia: https://en.wikipedia.org/wiki/Netcat # Serve a file over HTTP then close { printf 'HTTP/1.0 200 OK\\r\\nContent-Length: %d\\r\\n\\r\\n' \"$(wc -c \u003c some.file)\"; cat some.file; } | nc -l 8082 # Serve the date over HTTP then start another server while true ; do nc -l -p 8082 -c 'echo -e \"HTTP/1.1 200 OK\\n\\n $(date -Is)\"'; done \u0026 # Make an HTTP request with netcat printf \"GET / HTTP/1.0\\r\\nHost: localhost\\r\\n\\r\\n\" | nc localhost 8082 # Make an HTTP request with curl curl localhost:8082 curl -v localhost:8082 # Make an HTTP request with wget wget -O - localhost:8082 wget -d -O - localhost:8082 from urllib.request import urlopen resp = urlopen(\"http://localhost:8082\") assert resp.code == 200 assert resp.headers.get_content_type() == 'text/plain' body = resp.read() print(body) .. index:: ncat ncat Wikipedia: https://en.wikipedia.org/wiki/Netcat#ncat nc --help ncat --help .. index:: Nginx Nginx Wikipedia: https://en.wikipedia.org/wiki/Nginx Homepage: https://nginx.org/ Download: https://nginx.org/en/download.html Src: https://github.com/nginx/nginx Docs: https://nginx.org/en/docs/ Twitter: https://twitter.com/nginxorg Nginx is a scriptable, lightweight HTTP server written in :ref:`C`. .. index:: Python http.server Python http.server Src: https://github.com/python/cpython/blob/master/Lib/http/server.py Docs: https://docs.python.org/3/library/http.server.html Docs: https://docs.python.org/3/library/http.server.html#http.server.CGIHTTPRequestHandler python -m http.server --help python -m http.server --directory . 8082 python -m http.server --directory . --cgi 8082 See also: :ref:`pgs` .. index:: Tengine Tengine Wikipedia: https://zh.wikipedia.org/wiki/Tengine Homepage: https://tengine.taobao.org/ Src: git https://github.com/alibaba/tengine Download: https://tengine.taobao.org/download.html Docs: https://tengine.taobao.org/documentation.html Tengine is a fork of :ref:`Nginx` with many useful modules and features bundled in. https://tengine.taobao.org/document/http_ssl.html https://tengine.taobao.org/document/http_upstream_check.html https://tengine.taobao.org/document/http_reqstat.html .. index:: Traefik Traefik Src: https://github.com/traefik/traefik Homepage: https://traefik.io/traefik/ Docs: https://doc.traefik.io/traefik/ Docs: https://doc.traefik.io/traefik/https/acme/ Docs: https://doc.traefik.io/traefik/user-guides/docker-compose/acme-tls/ Docs: https://doc.traefik.io/traefik/reference/dynamic-configuration/docker/ Load Balancing, API Gateway (config, stats), :ref:`Kubernetes Ingress`, :ref:`ACME`/:ref:`LetsEncrypt` .. index:: Kubernetes Ingress Kubernetes Ingress Wikipedia: https://en.wikipedia.org/wiki/Kubernetes Docs: https://kubernetes.io/docs/concepts/services-networking/ingress/ Docs: https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/ .. index:: Documentation Documentation Tools Docs: https://wrdrd.github.io/docs/consulting/education-technology#publishing .. index:: Docutils Docutils Homepage: http://docutils.sourceforge.net PyPI: https://pypi.python.org/pypi/docutils Docs: http://docutils.sourceforge.net/docs/ Docs: http://docutils.sourceforge.net/rst.html Docs: http://docutils.sourceforge.net/docs/ref/doctree.html Docs: https://docutils.readthedocs.io/en/sphinx-docs/ Docs: https://docutils.readthedocs.io/en/sphinx-docs/ref/rst/restructuredtext.html Src: svn http://svn.code.sf.net/p/docutils/code/trunk Docutils is a :ref:`Python` library which 'parses\" :ref:`ReStructuredText` lightweight markup language into a doctree (~DOM) which can be serialized into HTML, ePub, MOBI, LaTeX, man pages, Open Document files, XML, JSON, and a number of other formats. .. index:: Pandoc Pandoc Wikipedia: https://en.wikipedia.org/wiki/Pandoc Homepage: https://pandoc.org/ Docs: https://pandoc.org/README.html Docs: https://pandoc.org/releases.html Download: https://github.com/jgm/pandoc/releases BrewPkg: pandoc AptPkg: pandoc YumPkg: pandoc Pandoc is a \"universal\" markup converter written in :ref:`Haskell` which can convert between HTML, :ref:`BBCode`, :ref:`Markdown`, :ref:`MediaWiki Markup \u003cmediawiki markup\u003e`, :ref:`ReStructuredText`, HTML, and a number of other formats. .. index:: pgs Pgs Src: https://github.com/westurner/pgs PyPI: https://pypi.python.org/pypi/pgs pgs is an open source web application written in :ref:`Python` for serving static files from a :ref:`git` branch, or from the local filesystem. pgs -p \"${_WRD}/_build/html\" -r gh-pages -H localhost -P 8082 pgs is written with the one-file Bottle web framework compared to python -m SimpleHTTPServer localhost:8000 / python3 -m http.server localhost:8000 pgs has WSGI, the ability to read from a Git branch without real :ref:`git` bindings, and caching HTTP headers based on Git or filesystem mtimes. pgs does something like :ref:`Nginx` try_files $.html https://westurner.github.io/tools/index https://westurner.github.io/tools/index.html :ref:`Sphinx` can also generate links without .html extensions with the html_link_suffix conf.py configuration setting. https://github.com/westurner/tools/blob/master/conf.py : # Suffix for generated links to HTML files. # The default is whatever html_file_suffix is set to; # it can be set differently (e.g. to support different web server setups). html_link_suffix = '' Many web analytics tools support rules for deduplicating \u003cname\u003e.html and \u003cname\u003e (which GitHub Pages always supports). .. index:: Sphinx Sphinx Wikipedia: https://en.wikipedia.org/wiki/Sphinx_(documentation_generator) Homepage: https://pypi.python.org/pypi/Sphinx Src: git https://github.com/sphinx-doc/sphinx Pypi: https://pypi.python.org/pypi/Sphinx Docs: https://www.sphinx-doc.org/contents.html Docs: https://www.sphinx-doc.org/markup/code.html Docs: https://www.sphinx-doc.org/en/stable/markup/inline.html#ref-role Docs: https://pygments.org/docs/lexers/ Docs: https://thomas-cokelaer.info/tutorials/sphinx/rest_syntax.html Docs: https://github.com/yoloseem/awesome-sphinxdoc Sphinx is a tool for working with :ref:`ReStructuredText` documentation trees and rendering them into HTML, PDF, LaTeX, ePub, and a number of other formats. Sphinx extends :ref:`Docutils` with a number of useful markup behaviors which are not supported by other ReStructuredText parsers. Most other ReStructuredText parsers do not support Sphinx directives; so, for example, GitHub and BitBucket do not support Sphinx but do support ReStructuredText so README.rst containing Sphinx tags renders in plaintext or raises errors. For example, the index page of this :ref:`Sphinx` documentation set is generated from a file named index.rst that referenced by docs/conf.py, which is utilized by sphinx-build in the Makefile. Input: _indexrst=\"$WORKON_HOME/src/westurner/tools/index.rst\" e $_indexrst # with westurner/dotfiles.venv mkvirtualenv westurner we westurner tools; mkdir -p $_SRC git clone ssh://git@github.com/westurner/tools cdw; e index.rst # ew index.rst https://github.com/westurner/tools/blob/master/index.rst https://raw.githubusercontent.com/westurner/tools/master/index.rst Output: cd $_WRD # cdwrd; cdw git status; make \u003ctab\u003e # gitw status; makew \u003ctab\u003e make html singlehtml # make docs web ./_build/html/index.html # make open make gh-pages # ghp-import -n -p ./_build/html/ -b gh-pages make push # gitw push \u003corigin\u003e \u003cdestbranch\u003e https://github.com/westurner/tools/blob/gh-pages/index.html https://westurner.github.io/tools/ RawGit: dev/test: https://rawgit.com/westurner/tools/gh-pages/index.html CDN: https://cdn.rawgit.com/westurner/tools/gh-pages/index.html Output: ReadTheDocs: https://\u003cprojectname\u003e.readthedocs.io/en/\u003cversion\u003e/ https://read-the-docs.readthedocs.io/en/latest/ .. glossary:: Sphinx Builder A Sphinx Builder transforms :ref:`ReStructuredText` into various output forms: * HTML * LaTeX * PDF * ePub * MOBI * JSON * OpenDocument (OpenOffice) * Office Open XML (MS Word) See: `Sphinx Builders \u003chttps://www.sphinx-doc.org/builders.html\u003e`_ Sphinx ReStructuredText Sphinx extends :ref:`ReStructuredText` with roles and directives which only work with Sphinx. Sphinx Directive Sphinx extensions of :ref:`Docutils` :ref:`ReStructuredText` directives. Most other ReStructuredText parsers do not support Sphinx directives. .. code-block:: rest .. toctree:: readme installation usage See: `Sphinx Directives \u003chttps://sphinx-doc.org/rest.html#directives\u003e`_ Sphinx Role Sphinx extensions of :ref:`Docutils` :ref:`RestructuredText` roles Most other ReStructured .. code-block:: rest .. _anchor-name: A link to :ref:`anchor \u003canchor-name\u003e`. .. index:: jupyter-book jupyter-book Src: https://github.com/executablebooks/jupyter-book Docs: https://jupyterbook.org/ :ref:`MyST Markdown` (Sphinx roles and directives in :ref:`Markdown`) .. index:: nbsphinx nbsphinx Src: https://github.com/spatialaudio/nbsphinx Docs: http://nbsphinx.readthedocs.io/ .. index:: Tinkerer Tinkerer Homepage: http://tinkerer.me/ Src: https://github.com/vladris/tinkerer Docs: http://tinkerer.me/pages/documentation.html Tinkerer is a very simple static blogging website generation tool written in :ref:`Python` which extends :ref:`Sphinx` and generates :ref:`HTML-` from :ref:`ReStructuredText`. Static HTML pages generated with Tinkerer do not require a serverside application, and can be easily hosted with GitHub Pages or any other web hosting service. https://github.com/westurner/westurner.github.io/tree/source (Makefile, conf.py) .. index:: Backup Tools Backup Tools https://en.wikipedia.org/wiki/Disk_cloning https://en.wikipedia.org/wiki/Disk_image#Virtualization https://en.wikipedia.org/wiki/List_of_archive_formats https://en.wikipedia.org/wiki/List_of_backup_software https://en.wikipedia.org/wiki/List_of_disk_cloning_software https://en.wikipedia.org/wiki/List_of_data_recovery_software https://en.wikipedia.org/wiki/Comparison_of_file_archivers https://en.wikipedia.org/wiki/Comparison_of_online_backup_services https://en.wikipedia.org/wiki/Comparison_of_file_synchronization_software .. index:: Backup Ninja Backup Ninja Homepage: https://labs.riseup.net/code/projects/backupninja Src: git git://labs.riseup.net/backupninja.git Docs: https://labs.riseup.net/code/projects/backupninja/wiki Docs: https://labs.riseup.net/code/projects/backupninja/wiki/Usage Backup Ninja is an open source backup utility written in /etc/backup.d BackupNinja supports :ref:`rdiff-backup`, :ref:`Duplicity`, and :ref:`rsync`. BackupNinja can create and burn CD/DVD images. BackupNinja can backup a number of relational databases (MySQL, PostgreSQL), maildirs, SVN repositories, Trac instances, and LDAP. .. index:: Bup bup Homepage: https://bup.github.io/ Src: git https://github.com/bup/bup Docs: https://github.com/bup/bup/blob/master/README.md Docs: https://bup.github.io/man.html Docs: https://github.com/bup/bup/blob/master/DESIGN Bup (backup) is a backup system based on :ref:`git` packfiles and rolling checksums. [Bup is a very] efficient backup system based on the git packfile format, providing fast incremental saves and global deduplication (among and within files, including virtual machine images). AFAIU, like :ref:`git`, Bup does not preserve file permissions, Access Control Lists, or extended attributes (though some archive formats and snapshot images do). .. index:: Clonezilla Clonezilla Wikipedia: https://en.wikipedia.org/wiki/Clonezilla DistroWatch: https://distrowatch.com/table.php?distribution=clonezilla Homepage: https://clonezilla.org/ Src: git https://github.com/stevenshiau/clonezilla Docs: https://clonezilla.org/clonezilla-live.php Docs: https://clonezilla.org/clonezilla-SE/ Docs: https://clonezilla.org/related-links/ Clonezilla is an open source :ref:`Linux` distribution which is bootable from a CD/DVD/USB (a LiveCD, LiveDVD, LiveUSB) or PXE which contains a number of tools for disk imaging, disk cloning, filesystem backup and recovery; and a server :ref:`Linux` distribution for serving disk images to one or more computers over a LAN. Clonezilla contains :ref:`FSArchiver`, :ref:`partclone`, :ref:`partimage`, and :ref:`rsync`. Clonezilla can backup and restore very many (if not most) filesystems. Clonezilla supports MBR, GPT, and uEFI. Clonezilla can restore a networked multicast group (e.g. lab) of machines to a system image (saving TCP overhead when sharing the same multi-gigabyte / terabyte image to zero or more machines); and boot them with PXE and/or Wake-on-Lan. :ref:`bup`, :ref:`debtorrent` Clonezilla can backup to disk, ssh, samba, NFS, WebDAV drbl-winroll helps with restoring :ref:`windows` images :ref:`SystemRescueCD` also contains :ref:`partimage`. :ref:`Cobbler` also supports PXE boot from images. .. index:: Duplicity Duplicity Wikipedia: https://en.wikipedia.org/wiki/Duplicity_(software) Homepage: http://duplicity.nongnu.org/ Docs: http://duplicity.nongnu.org/docs.html Docs: http://duplicity.nongnu.org/duplicity.1.html Docs: https://help.ubuntu.com/community/DuplicityBackupHowto Docs: https://wiki.archlinux.org/index.php/Duplicity Duplicity is an open source incremental file directory backup utility with GnuPG encryption, signatures, versions, and a number of actions for redundantly storing backups. Duplicity can push offsite backups to/over a number of protocols and services (e.g. SSH/SCP/SFTP, S3, Google Cloud Storage, Rackspace Cloudfiles (OpenStack Swift)). Duplicity stores data with tar archives and :ref:`rdiff` :ref:`rdiff-backup` is similar to :ref:`duplicity`. .. index:: FSArchiver FSArchiver Wikipedia: https://en.wikipedia.org/wiki/FSArchiver Homepage: https://www.fsarchiver.org/ Src: https://sourceforge.net/projects/fsarchiver/files/fsarchiver-src/ Download: https://sourceforge.net/projects/fsarchiver/files/fsarchiver-bin/ Docs: https://www.fsarchiver.org/QuickStart Docs: https://www.fsarchiver.org/Live-backup Docs: https://www.fsarchiver.org/Attributes#SELinux_.28Security_Enhanced_Linux.29 Docs: https://www.fsarchiver.org/Fsarchiver_vs_partimage Docs: https://www.sysresccd.org/Sysresccd-manual-en_LVM_Making-consistent-backups-with-LVM FSAchiver is an open source filesystem backup (disk cloning) utility which can preserve file permissions, labels, and extended attributes. FSArchiver can backup a filesysmet to a new or within an existing filesystem. FSArchiver has special support for LVM. FSArchiver supports password-based encryption. .. index:: partclone partclone Homepage: https://partclone.org/ Project: https://sourceforge.net/projects/partclone/ Download: https://partclone.org/download/ Src: git https://github.com/Thomas-Tsai/partclone Docs: https://partclone.org/help/ Docs: https://partclone.org/usage/ Docs: https://github.com/Thomas-Tsai/partclone/wiki partclone is an open source utility for making compressed backups of the used blocks of partitions with each specific filesystem driver. :ref:`partclone` is similar to :ref:`partimage`. :ref:`Clonezilla` includes :ref:`partclone`. .. index:: partimage partimage Homepage: http://www.partimage.org/Main_Page Download: http://www.partimage.org/Download Src: https://sourceforge.net/projects/partimage/files/stable/ Docs: http://www.partimage.org/Partimage-manual Docs: http://www.partimage.org/Supported-Filesystems Partimage is an open source utility for making complete sector-for-sector compressed backups of partitions over the network or to a local device. :ref:`Clonezilla` includes :ref:`partimage`. SystemRescueCD includes :ref:`partimage` and :ref:`rsync`. partimage does not support EXT4 or BTRFS; for EXT4 and BTRFS support, see :ref:`fsarchiver`. .. index:: rclone rclone Wikipedia: https://en.wikipedia.org/wiki/Rclone Src: https://github.com/rclone/rclone Homepage: https://rclone.org/ Docs: https://rclone.org/ Rclone is an open source utility for managing files on cloud storages like local disk, SFTP, WebDAV, Dropbox, and Google Drive. Rclone supports very many cloud storages .. index:: rsync rsync Wikipedia: https://en.wikipedia.org/wiki/Rsync Homepage: https://rsync.samba.org/ Src: git git://git.samba.org/rsync.git Download: https://rsync.samba.org/download.html Docs: https://rsync.samba.org/examples.html rsync is an open-source file backup utility which can be used to make incremental backups using file deltas over the network or the local system. rsync may appear to be stalled when it is actually calculating the full set of initial relative differences in order to minimize the amount of data transfer. Note rsync does not preserve file permissions by default. To preserve file permissions with rsync: man rsync rsync -a # rsync -rlptgoD rsync -r # recursive (traverse into directories) rsync -l # copy symlinks as links rsync -p # preserve file permissions rsync -t # preserve modification times rsync -g # preserve group rsync -o # preserve owner (requires superuser) rsync -D # rsync --devices --specials rsync --devices # preserve device files (requires superuser) rsync --specials # preserve special files rsync -A # preserve file ACLs rsync -X # preserve file extended attributes rsync -aAX # rsync -a -A -X rsync -v # verbose rsync -P # rsync --partial --progress rsync --partial # keep partially downloaded files rsync --progress # show *per-file* progress and xfer speed Note rsync is picky about paths and trailing slashes. # setUp mkdir -p A/one B/one # TODO echo 'A' \u003e A/one; echo 'B' \u003e B/one # tests rsync A B rsync A B/ --\u003e B/A rsync A/ B rsync A/ B/ .. index:: rdiff rdiff Wikipedia: https://en.wikipedia.org/wiki/Rsync#rdiff rdiff is the open source relative delta algorithm of :ref:`rsync`. :ref:`rdiff-backup` is built on :ref:`rdiff`. :ref:`duplicity` is built on :ref:`rdiff` .. index:: rsnapshot rsnapshot Homepage: https://rsnapshot.org/ Download: https://rsnapshot.org/download.html Download: https://rsnapshot.org/downloads/ Src: git https://github.com/rsnapshot/rsnapshot Docs: https://rsnapshot.org/faq.html Docs: https://wiki.archlinux.org/index.php/Rsnapshot Docs: https://linux.die.net/man/1/rsnapshot rsnapshot is an open source incremental file directory backup utility built with :ref:`rsync`. .. index:: rdiff-backup rdiff-backup Homepage: https://nongnu.org/rdiff-backup/ Download: https://download.savannah.gnu.org/releases/rdiff-backup/ Project: https://savannah.nongnu.org/projects/rdiff-backup Src: svn svn://svn.savannah.nongnu.org/rdiff-backup/ Docs: https://nongnu.org/rdiff-backup/rdiff-backup.1.html Docs: https://nongnu.org/rdiff-backup/docs.html Docs: https://nongnu.org/rdiff-backup/examples.html rdiff-backup is an open source incremental file directory backup utility. Like :ref:`rsync`, rdiff-backup transmits file deltas instead of entire files. Unlike :ref:`rsync`, rdiff-backup manages reverting to previous revisions. .. index:: SystemRescueCD SystemRescueCD Wikipedia: https://en.wikipedia.org/wiki/SystemRescueCD Homepage: http://www.sysresccd.org/SystemRescueCd_Homepage Download: http://www.sysresccd.org/Download Project: https://sourceforge.net/projects/systemrescuecd/ DistroWatch: https://distrowatch.com/table.php?distribution=systemrescue Docs: http://www.sysresccd.org/Online-Manual-EN SystemRescueCD is a :ref:`Linux` distribution which is bootable from a CD/DVD/USB (a LiveCD) which contains a number of helpful utilities for system maintenance. SystemRescueCD includes :ref:`partimage` and :ref:`rsync`. .. index:: Standards Standards Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#web-standards Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#semantic-web-standards .. index:: Cascading Style Sheets .. index:: CSS CSS Wikipedia: https://en.wikipedia.org/wiki/Cascading_Style_Sheets Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#css CSS (Cascading Style Sheets) define the presentational aspects of :ref:`HTML-` and a number of mobile and desktop web framworks. CSS is designed to ensure separation of data and presentation. With javascript, the separation is then data, code, and presentation. .. index:: Filesystem Hierarchy Standard Filesystem Hierarchy Standard Wikipedia: https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard Website: https://wiki.linuxfoundation.org/lsb/fhs The Filesystem Hierarchy Standard (FHS) is a well-worn industry-supported system file naming structure. :ref:`Linux` distributions like :ref:`Ubuntu` and :ref:`Fedora` implement a Filesystem Hierarchy. Likewise, :ref:`virtualenv` and :ref:`Venv` implement a filesystem hierarchy: Docs: https://westurner.github.io/dotfiles/venv#venv-paths :ref:`Docker` (and many LiveCDs) layer filesystem hierarchies with e.g. UnionFS, AUFS, and BTRFS filesystems. .. index:: HTTP HTTP Wikipedia: https://en.wikipedia.org/wiki/HTTP Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#http Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#http2 .. index:: HTTPS HTTPS Wikipedia: https://en.wikipedia.org/wiki/HTTPS Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#https .. index:: HTML HTML Wikipedia: https://en.wikipedia.org/wiki/HTML Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#html5 .. index:: JSON JSON Wikipedia: https://en.wikipedia.org/wiki/JSON Homepage: https://json.org/ Spec: https://www.ecma-international.org/publications/standards/Ecma-404.htm Docs: https://learnxinyminutes.com/docs/json/ JSON is an object representation in :ref:`Javascript` syntax which is now supported by libraries written in many languages. A list of objects with key and value attributes in JSON syntax: [ { \"key\": \"language\", \"value\": \"Javascript\" }, { \"key\": \"version\", \"value\": 1 }, { \"key\": \"example\", \"value\": true } ] Machine-generated JSON is often not very readable, because it doesn't contain extra spaces or newlines. The :ref:`Python` JSON library contains a utility for parsing and indenting (\"prettifying\") JSON from the commandline cat example.json | python -m json.tool See also: https://wrdrd.github.io/docs/consulting/knowledge-engineering#json .. index:: JSON5 JSON5 Wikipedia: Homepage: https://json5.org/ Src: https://github.com/json5/json5 Speci: https://spec.json5.org/ JSON5 is JSON extended with support for a number of additional features: comments, trailing commas, IEEE 754 +/- infinity and NaN, hexadecimal numbers, leading and trailing decimal points, single-quoted strings, multiline strings, and escaped characters. Regular JSON libraries do not support JSON5. { // comment key: [0, +1, 2., .3, NaN, +inf, -inf, 0xF, 'thing1', \"thing2\"], \"str\": \"this is a \\ multi-line string\", // trailing comma } .. index:: JSON-lines JSON-lines Homepage: http://jsonlines.org/ JSON-lines (newline-delimited JSON) is an informal spec for line-based processing of JSON e.g. for streaming records and unix pipes. {\"key\": \"red\", \"value\": 1} {\"key\": \"green\", \"value\": 2} .. index:: JSONLD .. index:: JSON-LD JSON-LD Wikipedia: https://en.wikipedia.org/wiki/JSON-LD Homepage: https://json-ld.org Docs: https://json-ld.org/playground/ Docs: https://wrdrd.github.io/docs/consulting/knowledge-engineering#json-ld JSON-LD is a web standard for Linked Data in :ref:`JSON \u003cjson-\u003e`. An example from the JSON-LD Playground (https://goo.gl/xxZ410): { \"@context\": { \"gr\": \"http://purl.org/goodrelations/v1#\", \"pto\": \"http://www.productontology.org/id/\", \"foaf\": \"http://xmlns.com/foaf/0.1/\", \"xsd\": \"http://www.w3.org/2001/XMLSchema#\", \"foaf:page\": { \"@type\": \"@id\" }, \"gr:acceptedPaymentMethods\": { \"@type\": \"@id\" }, \"gr:hasBusinessFunction\": { \"@type\": \"@id\" }, \"gr:hasCurrencyValue\": { \"@type\": \"xsd:float\" } }, \"@id\": \"http://example.org/cars/for-sale#tesla\", \"@type\": \"gr:Offering\", \"gr:name\": \"Used Tesla Roadster\", \"gr:description\": \"Need to sell fast and furiously\", \"gr:hasBusinessFunction\": \"gr:Sell\", \"gr:acceptedPaymentMethods\": \"gr:Cash\", \"gr:hasPriceSpecification\": { \"gr:hasCurrencyValue\": \"85000\", \"gr:hasCurrency\": \"USD\" }, \"gr:includes\": { \"@type\": [ \"gr:Individual\", \"pto:Vehicle\" ], \"gr:name\": \"Tesla Roadster\", \"foaf:page\": \"http://www.teslamotors.com/roadster\" } } .. index:: MessagePack MessagePack Wikipedia: https://en.wikipedia.org/wiki/MessagePack Homepage: https://msgpack.org/ MessagePack (msgpack) is a data interchange format with implementations in many languages. :ref:`MsgPack` is a Distributed Computing Protocol https://wrdrd.github.io/docs/consulting/knowledge-engineering#distributed-computing-protocols :ref:`Salt` serializes messages with :ref:`MsgPack` by default. .. index:: Text Editors Text Editors Wikipedia: https://en.wikipedia.org/wiki/Text_editor Wikipedia: https://en.wikipedia.org/wiki/Source_code_editor WikipediaCategory: https://en.wikipedia.org/wiki/Category:Free_text_editors A text editor may be a source code editor or have some :ref:`IDE` features like syntax highlighting or syntax checking for :ref:`Programming Languages`. Most :ref:`IDEs` are source code text editors. https://en.wikipedia.org/wiki/Comparison_of_text_editors https://en.wikipedia.org/wiki/List_of_text_editors .. index:: Gedit Gedit Wikipedia: https://en.wikipedia.org/wiki/Gedit Homepage: https://wiki.gnome.org/Apps/Gedit Src: git https://gitlab.gnome.org/GNOME/gedit/ Gedit is an open source text editor written in :ref:`C` and :ref:`Python` (:ref:`GTK`, GtkSourceView, and :ref:`Gnome`) that's available for :ref:`Linux`, :ref:`OSX`, and :ref:`Windows`). Gedit supports tabbed editing. Gedit plugins are written in :ref:`Python`. Gedit is the default :ref:`Gnome` text editor; where it's called \"Text Editor\". .. index:: Notepad++ Notepad++ Wikipedia: https://en.wikipedia.org/wiki/Notepad%2B%2B Homepage: https://notepad-plus-plus.org/ Src: https://github.com/notepad-plus-plus/notepad-plus-plus Docs: https://notepad-plus-plus.org/online-help/ ChocolateyPackage: https://chocolatey.org/packages/notepadplusplus Notepad++ is an open source text editor written in :ref:`C++` for :ref:`Windows` which has tabbed editing. Notepad++ supports tabbed editing. Notepad++ plugins are written in :ref:`C` or :ref:`C++`: https://github.com/notepad-plus-plus/nppPluginList https://github.com/notepad-plus-plus/nppPluginList/blob/master/src/pl.x64.json npppythonscript is a plugin that enables scripting Notepad++ with :ref:`Python` http://npppythonscript.sourceforge.net/ Notepad++ was the most used editor according to a 2015 Stack OVerflow survey. .. index:: IDEs .. index:: Integrated Development Environments IDEs Wikipedia: https://en.wikipedia.org/wiki/Integrated_development_environment WikipediaCategory: https://en.wikipedia.org/wiki/Category:Integrated_development_environments An IDE (Integrated Development Environment) is a software tool for developing software. Most IDEs are source code :ref:`Text Editors`. Some IDEs are visual development tools for various types of not code trees and graphs. IDEs have a concept of a project, which may be defined in a config file in the current working directory or otherwise selected through the GUI. An IDE has some sort of language server that understands the source code at a deeper level than syntax in order to do cool things like code completion and code refactorings like renaming a method in every file in the project. https://en.wikipedia.org/wiki/Comparison_of_integrated_development_environments .. index:: Emacs .. index:: GNU Emacs Emacs Wikipedia: https://en.wikipedia.org/wiki/GNU_Emacs Homepage: https://www.gnu.org/software/emacs/ Src: git https://git.savannah.gnu.org/cgit/emacs.git Docs: https://www.gnu.org/software/emacs/documentation.html GNU Emacs is an open source text editor written in Emacs :ref:`Lisp` and :ref:`C` that's available for :ref:`Linux`, :ref:`OSX`, and :ref:`Windows`. Emacs pinky is allegedly a result of the default emacs Control key keybindings https://en.wikipedia.org/wiki/Emacs#Emacs_pinky :ref:`Spacemacs` uses the Space key instead of the Control key. .. index:: Spacemacs Spacemacs Wikipedia: https://en.wikipedia.org/wiki/Spacemacs Homepage: https://wwww.spacemacs.org/ Src: https://github.com/syl20bnr/spacemacs Docs: https://www.spacemacs.org/doc/DOCUMENTATION Docs: https://wwww.spacemacs.org/doc/QUICK_START Print help: SPC h SPC .. index:: org-mode org-mode Wikipedia: https://en.wikipedia.org/wiki/Org-mode Homepage: https://orgmode.org/ Src: git https://code.orgmode.org/bzg/org-mode Docs: https://orgmode.org/#docs Docs: https://orgmode.org/org.html Docs: https://orgmode.org/org.html#Introduction Org-mode is an open source document editing mode originally written in :ref:`Emacs Lisp` for :ref:`Emacs` that's now available in some form for a number of editors including :ref:`Vim`. Org-mode makes it really easy to work with outlines in plain text documents. The org-mode wikipedia page lists a number of org-mode implementations for other editors. .. index:: org-babel org-babel Wikipedia: https://en.wikipedia.org/wiki/Org-mode#Org-babel Homepage: https://orgmode.org/worg/org-contrib/babel/ Src: git https://code.orgmode.org/bzg/org-mode Docs: https://orgmode.org/manual/Working-with-source-code.html Babel makes it possible to execute source code in org-mode Babel is also the name of an :ref:`ECMAScript` compiler :ref:`Jupyter Notebook` with :ref:`Jupytext` and/or emacs and vim plugins for working with Jupyter are similar to Babel org-mode. .. index:: VSCode VSCode Wikipedia: https://en.wikipedia.org/wiki/Visual_Studio_Code Homepage: https://code.visualstudio.com/ Src: https://github.com/Microsoft/vscode Download: https://code.visualstudio.com/Download ChocolateyPkg: https://chocolatey.org/packages/vscode Docs: https://code.visualstudio.com/docs/getstarted/tips-and-tricks Docs: https://code.visualstudio.com/docs/getstarted/keybindings VSCode (Visual Studio Code) is an open source programmer's text editor written in :ref:`TypeScript`, :ref:`Javascript`, and :ref:`CSS` that's available for :ref:`Windows`, :ref:`Mac`, and :ref:`Linux`. VSCode extensions are written in :ref:`Javascript`. VSCode has collaborative editing features with multiple cursors. VSCode and MS Visual Studio are different projects. VSCode supports many of the Visual Studio keyboard shortcuts. There is an official :ref:`Vim` extension for :ref:`VSCode`. In VSCode, Ctrl+Space opens the context-sensitive Intellisense Code Completion In VScode, Ctrl-p opens the quick open dialogue IN VScode, Ctrl-Shift-p opens the command palette (which lists \"all available commands based on your current context\") You can install VSCode by downloading from the Download page or with :ref:`Chocolatey`: choco install vscode .. index:: VScode Flatpak VSCode Flatpak Flatpak: https://flathub.org/apps/com.visualstudio.code Src: https://github.com/flathub/com.visualstudio.code .. index:: Vim Vim Wikipedia: https://en.wikipedia.org/wiki/Vim_(text_editor) Homepage: https://www.vim.org/ Docs: https://www.vim.org/docs.php Docs: https://learnxinyminutes.com/docs/vim/ Src: git https://github.com/vim/vim ViM (VI-iMproved) is an open source text editor written in :ref:`C` that's available on very many platforms. Vim help can be accessed with :help and :help help (Press \u003cesc\u003e, Type :help help, Press Enter) Vi is almost always installed on Linux and BSD boxes. Vi is often included with :ref:`Busybox`. Vi and Vim are installed with :ref:`OSX`. Vi and Vim are installed by default with many :ref:`Linux Distributions` Vim runs in a terminal, over SSH, and with a GUI window manager (Gvim, Macvim) Vim configuration is written in the vim language. Vim reads a few vimrc configuration files in sequence (:help vimrc) GVim is Vim for :ref:`Gnome` window manager GVim reads a few vimrc configuration files in sequence (:help gvimrc) MacVim is Vim for :ref:`OSX` One way to write changes and exit vim: :wq! (Press \u003cesc\u003e, Type :wq!, Press Enter) There are many plugins for vim. NERDTree is an example of a vim plugin: https://github.com/scrooloose/nerdtree (:help nerdtree) :ref:`SpaceVim` and :ref:`westurner/dotvim` include the NERDtree plugin Vim keyboard shortcuts are calling mappings. Vim mappings are defined in a vimrc file. Examples of vim mappings: \\e opens NERDTree, \\E opens NERDTree to the current file Vim mappings can be defined for different vim modes: :map \\e (command mode), :imap \\e (insert mode) (:help modes) Press i or a while in command mode to enter insert or append mode (:help vim-modes) Press \u003cEsc\u003e to return to command mode :ref:`Browser extensions` with vim-style keyboard shortcuts: :ref:`Vimium` (Chrome) :ref:`Vimperator` (Firefox) :ref:`Wasavi` (Chrome, Opera, Firefox) A number of web apps support vim-style keyboard shortcuts like j and k for up and down: GMail (? for help) Facebook (? for help) Twitter (? for help) .. index:: neovim neovim Web: https://neovim.io/ Src: https://github.com/neovim/neovim Docs: https://neovim.io/doc/ Docs: https://neovim.io/doc/user/ Neovim is an open source programmer's editor and :ref:`IDE` which is a rewrite of :ref:`Vim`. Neovim supports :ref:`lua` and :ref:`vimscript` for scripting and plugins. Neovim does not run in a terminal like :ref:`vim`; neovim is GUI only like :ref:`gvim` and :ref:`macvim`. Neovim has a builtin :ref:`LSP` client, so neovim can use the same LSP language servers as :ref:`vscode` for code introspection and analysis. .. index:: westurner/dotvim westurner/dotvim Docs: https://westurner.github.io/dotfiles/usage/#vim Src: https://github.com/westurner/dotvim Src: https://github.com/westurner/dotvim/blob/master/Makefile Src: https://github.com/westurner/dotvim/blob/master/vimrc Src: https://github.com/westurner/dotvim/blob/master/vimrc.full.bundles.vimrc Src: https://github.com/westurner/dotvim/blob/master/vimrc.tinyvim.bundles.vimrc westurner/dotvim is a set of plugins and configuration defaults for :ref:`Vim`. .. index:: SpaceVim SpaceVim Homepage: https://spacevim.org/ Src: https://github.com/SpaceVim/SpaceVim Docs: https://spacevim.org/documentation/ Docs: https://spacevim.org/documentation/#general-key-bindings SpaceVim is a set of plugins, configuration defaults, and keybindings for :ref:`Vim`. :ref:`Spacemacs` is like SpaceVim for :ref:`Emacs` .. index:: WRD R\u0026D Documentation WRD R\u0026D Documentation Docs: https://wrdrd.github.io/docs/ Docs: https://wrdrd.github.io/docs/tools/ Src: git https://github.com/wrdrd/docs ^top^","filename":"index.rst","format":"rest","hl_body":" system-wide daemon and an :ref:`\u003cem\u003eOpenStack\u003c/em\u003e` \u003cem\u003eNova\u003c/em\u003e hypervisor plugin. .. index:: Mesos Mesos Wikipedia: https:\u0026#x2F;\u0026#x2F;en.wikipedia.org\u0026#x2F;wiki\u0026#x2F;Apache_Mesos Homepage: https:\u0026#x2F;\u0026#x2F;mesos.apache.org\u0026#x2F; Src: git https","hl_title":"index","id":"9b9e0caf615a66edcccde8171b0b8ba36d384290","path":"index.rst","public":true,"repo":{"repository":{"id":28925966,"name":"tools","owner_id":50891,"owner_login":"westurner","updated_at":"2024-06-25T04:20:50.701Z","has_issues":true}},"repo_id":28925966,"title":"index","updated_at":"2024-06-24T11:54:10.000-04:00"}],"type":"wikis","page":1,"page_count":26,"elapsed_millis":542,"errors":[],"result_count":256,"facets":[],"protected_org_logins":[],"topics":null,"query_id":"","logged_in":true,"sign_up_path":"/signup?source=code_search_results","sign_in_path":"/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Fq%3DOpenstack%2Bnova%2BCSS%26type%3DWikis","metadata":null,"warn_limited_results":false},"title":"Wiki search results","appPayload":{"enabled_features":{"code_nav_ui_events":false}}}</script>
  <div data-target="react-app.reactRoot"><style data-styled="true" data-styled-version="5.3.11">.fVBdYY{background-color:var(--bgColor-default,var(--color-canvas-default,#0d1117));height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.bSHMx{padding-top:4px;padding-left:8px;padding-right:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.eANmpH{-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
.cjtufU{font-size:14px;font-weight:400;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.jCKItu{background-color:var(--bgColor-neutral-muted,var(--color-neutral-subtle,rgba(110,118,129,0.1)));width:100%;height:20px;width:20px;margin-left:8px;border-radius:100px;}/*!sc*/
.dzwJmg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}/*!sc*/
@media screen and (min-width:544px){.dzwJmg{padding-left:16px;padding-right:16px;}}/*!sc*/
@media screen and (min-width:768px){.dzwJmg{padding-left:24px;padding-right:24px;}}/*!sc*/
@media screen and (min-width:1012px){.dzwJmg{padding-left:24px;padding-right:24px;}}/*!sc*/
.bnzdzJ{max-width:100%;min-width:0;overflow:hidden;-webkit-flex:2;-ms-flex:2;flex:2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.kThiwQ{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:8px;}/*!sc*/
.dzhYrJ{display:block;}/*!sc*/
@media screen and (min-width:544px){.dzhYrJ{display:block;}}/*!sc*/
@media screen and (min-width:768px){.dzhYrJ{display:none;}}/*!sc*/
.jJQEtu{padding-left:4px;}/*!sc*/
.jilJQ{height:20px;line-height:20px;padding-top:0;padding-bottom:0;padding-left:8px;padding-right:8px;}/*!sc*/
.jQkylC{display:inline;}/*!sc*/
.icgAzu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}/*!sc*/
.kdMRKw{display:none;margin-right:8px;}/*!sc*/
@media screen and (min-width:544px){.kdMRKw{display:none;}}/*!sc*/
@media screen and (min-width:768px){.kdMRKw{display:block;}}/*!sc*/
.eJHbiI{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.dXbdND{display:none;margin-right:8px;}/*!sc*/
.dCPDTG{display:none;}/*!sc*/
@media screen and (min-width:544px){.dCPDTG{display:none;}}/*!sc*/
@media screen and (min-width:768px){.dCPDTG{display:block;}}/*!sc*/
.dRbJib{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-top:16px;gap:16px;}/*!sc*/
.dRbJib:empty{display:none;}/*!sc*/
.iXbsAl{display:inline-block;padding-top:16px;}/*!sc*/
@media screen and (min-width:544px){.iXbsAl{display:inline-block;}}/*!sc*/
@media screen and (min-width:768px){.iXbsAl{display:inline-block;}}/*!sc*/
@media screen and (min-width:1012px){.iXbsAl{display:none;}}/*!sc*/
.iXbsAl:empty{display:none;}/*!sc*/
.flaXet{padding-top:16px;}/*!sc*/
.kmmmsb{width:100%;min-width:0;}/*!sc*/
.gwXVXe{display:grid;gap:16px;min-width:0;grid-template-columns:1fr;}/*!sc*/
.fcarRM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-width:0;border-radius:6px;border-color:var(--borderColor-default,var(--color-border-default,#30363d));border-width:1px;border-style:solid;padding:16px;padding-left:16px;padding-right:16px;width:100%;max-width:100%;}/*!sc*/
.dWuWEz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:16px;font-weight:500;}/*!sc*/
.fFjPyQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;margin-bottom:4px;}/*!sc*/
.lnrylK{text-overflow:ellipsis;white-space:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:16px;font-weight:500;overflow:hidden;}/*!sc*/
.jsbtiO{margin-top:4px;font-size:14px;}/*!sc*/
.dmuROe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:4px;}/*!sc*/
.hjlqfa{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;color:var(--fgColor-muted,var(--color-fg-muted,#848d97));}/*!sc*/
.cdqDYB{padding-top:16px;padding-bottom:16px;}/*!sc*/
@media screen and (min-width:544px){.cdqDYB{padding-top:16px;padding-bottom:16px;}}/*!sc*/
@media screen and (min-width:768px){.cdqDYB{padding-top:24px;padding-bottom:24px;}}/*!sc*/
@media screen and (min-width:1012px){.cdqDYB{padding-top:24px;padding-bottom:24px;}}/*!sc*/
.gjMpHV{padding-bottom:8px;}/*!sc*/
@media screen and (min-width:544px){.gjMpHV{padding-bottom:8px;}}/*!sc*/
@media screen and (min-width:768px){.gjMpHV{padding-bottom:8px;}}/*!sc*/
@media screen and (min-width:1012px){.gjMpHV{padding-bottom:0;}}/*!sc*/
.gINVCM{display:grid;gap:16px;padding-top:0;}/*!sc*/
@media screen and (min-width:544px){.gINVCM{display:grid;padding-top:0;}}/*!sc*/
@media screen and (min-width:768px){.gINVCM{display:grid;padding-top:0;}}/*!sc*/
@media screen and (min-width:1012px){.gINVCM{display:none;padding-top:16px;}}/*!sc*/
.gzAiGi{display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-left:0;gap:16px;width:100%;padding-top:0;margin-top:0;max-width:100%;min-width:100%;}/*!sc*/
@media screen and (min-width:544px){.gzAiGi{display:none;margin-left:0;padding-top:0;margin-top:0;max-width:100%;min-width:100%;}}/*!sc*/
@media screen and (min-width:768px){.gzAiGi{display:none;margin-left:0;padding-top:0;margin-top:0;max-width:100%;min-width:100%;}}/*!sc*/
@media screen and (min-width:1012px){.gzAiGi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:24px;padding-top:20px;margin-top:24px;max-width:25%;min-width:260px;}}/*!sc*/
@media screen and (min-width:1280px){.gzAiGi{max-width:25%;min-width:340px;}}/*!sc*/
.gzAiGi:empty{display:none;}/*!sc*/
data-styled.g1[id="Box-sc-62in7e-0"]{content:"fVBdYY,bSHMx,eANmpH,cjtufU,jCKItu,dzwJmg,bnzdzJ,kThiwQ,dzhYrJ,jJQEtu,jilJQ,jQkylC,icgAzu,kdMRKw,eJHbiI,dXbdND,dCPDTG,dRbJib,iXbsAl,flaXet,kmmmsb,gwXVXe,fcarRM,dWuWEz,fFjPyQ,lnrylK,jsbtiO,dmuROe,hjlqfa,cdqDYB,gjMpHV,gINVCM,gzAiGi,"}/*!sc*/
.fVOfEp span{color:var(--fgColor-accent,var(--color-accent-fg,#2f81f7));}/*!sc*/
data-styled.g4[id="ActionList__StyledActionListLinkItem-sc-hw2362-1"]{content:"fVOfEp,"}/*!sc*/
.laSyZd{margin-left:8px;margin-right:8px;margin-top:8px;margin-bottom:8px;}/*!sc*/
data-styled.g8[id="ActionList__ActionListDivider-sc-hw2362-5"]{content:"laSyZd,"}/*!sc*/
.cKxqon[data-size="small"]{margin-right:8px;}/*!sc*/
.cKxqon[data-size="small"] span{margin:0;}/*!sc*/
data-styled.g16[id="Button__StyledButtonComponent-sc-vqy3e4-0"]{content:"cKxqon,"}/*!sc*/
.jKNAWe[data-size="small"][data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#848d97));}/*!sc*/
data-styled.g25[id="IconButton__StyledIconButton-sc-i53dt6-0"]{content:"jKNAWe,"}/*!sc*/
.leQBss{font-weight:500;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:8px;font-size:16px;}/*!sc*/
.iTMdwV{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-flex:2;-ms-flex:2;flex:2;row-gap:4px;font-size:16px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
.fXoKvi{font-weight:500;padding-right:4px;display:none;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}/*!sc*/
@media screen and (min-width:544px){.fXoKvi{display:none;}}/*!sc*/
@media screen and (min-width:768px){.fXoKvi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.cLWsnF{font-size:12px;font-weight:400;color:var(--fgColor-muted,var(--color-fg-muted,#848d97));}/*!sc*/
.hGJZKz{color:var(--fgColor-muted,var(--color-fg-muted,#848d97));}/*!sc*/
.dVFwsC .g-emoji{font-size:14px;}/*!sc*/
data-styled.g37[id="Text__StyledText-sc-1klmep6-0"]{content:"leQBss,iTMdwV,fXoKvi,cLWsnF,hGJZKz,dVFwsC,"}/*!sc*/
.hUcZOb{margin-right:4px;}/*!sc*/
data-styled.g49[id="Octicon__StyledOcticon-sc-jtj3m8-0"]{content:"hUcZOb,"}/*!sc*/
.fZRaOG{background-size:200% 100%;-webkit-animation:eQRWuc 1.5s linear infinite;animation:eQRWuc 1.5s linear infinite;}/*!sc*/
data-styled.g62[id="Base__Animation-sc-a55ac697-0"]{content:"fZRaOG,"}/*!sc*/
@-webkit-keyframes eQRWuc{0%{opacity:1;}50%{opacity:0.6;}100%{opacity:1;}}/*!sc*/
@keyframes eQRWuc{0%{opacity:1;}50%{opacity:0.6;}100%{opacity:1;}}/*!sc*/
data-styled.g64[id="sc-keyframes-eQRWuc"]{content:"eQRWuc,"}/*!sc*/
</style><div class="Box-sc-62in7e-0 fVBdYY search-results-page"><style>
  .search-results-page .search-match em {
    font-style: normal;
    font-weight: 600;
  }

  .search-results-page .search-title .search-match em {
    font-style: normal;
    font-weight: 700;
  }
</style><h1 class="sr-only">wikis Search Results · Openstack nova CSS</h1><div style="--spacing:var(--spacing-none)" class="prc-PageLayout-PageLayoutRoot-1zlEO Search-module__SplitPageLayout--vH5Ht"><div class="prc-PageLayout-PageLayoutWrapper-s2ao4" data-width="full"><div class="prc-PageLayout-PageLayoutContent-jzDMn"><div class="prc-PageLayout-PaneWrapper-nGO0U" style="--offset-header:0px;--spacing-row:var(--spacing-none);--spacing-column:var(--spacing-none)" data-is-hidden-narrow="true" data-is-hidden-regular="false" data-is-hidden-wide="false" data-position="start" data-sticky="true"><div class="prc-PageLayout-HorizontalDivider-CYLp5 prc-PageLayout-PaneHorizontalDivider-4exOb" data-variant-narrow="line" data-variant-regular="none" data-position="start" style="--spacing-divider:var(--spacing-none);--spacing:var(--spacing-none)"></div><div class="prc-PageLayout-Pane-Vl5LI" data-resizable="true" style="--spacing:var(--spacing-none);--pane-min-width:256px;--pane-max-width:calc(100vw - var(--pane-max-width-diff));--pane-width-size:var(--pane-width-medium);--pane-width:296px"><h2 class="Text__StyledText-sc-1klmep6-0 leQBss prc-Text-Text-0ima0" id="search-filters-title">Filter by</h2><div data-testid="facets-pane" class="Box-sc-62in7e-0 bSHMx"><div class="Box-sc-62in7e-0 eANmpH"><div class="Box-sc-62in7e-0 cjtufU"><div data-testid="desktop-filters"><ul class="prc-ActionList-ActionList-X4RiC ActionList__StyledActionList-sc-hw2362-0" aria-labelledby="search-filters-title" data-dividers="false" data-variant="inset" data-testid="filter-groups"><li class="prc-ActionList-Group-fXpF9" data-testid="kind-group"><ul class="prc-ActionList-GroupList-sj8d3"><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":Rbpmljb:--label :Rbpmljb:--trailing-visual " id=":Rbpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=code" data-testid="nav-item-code"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-code" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":Rbpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Code</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":Rbpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":Rjpmljb:--label :Rjpmljb:--trailing-visual " id=":Rjpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=repositories" data-testid="nav-item-repositories"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-repo" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":Rjpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Repositories</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":Rjpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":Rrpmljb:--label :Rrpmljb:--trailing-visual " id=":Rrpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=issues" data-testid="nav-item-issues"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-issue-opened" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":Rrpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Issues</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":Rrpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R13pmljb:--label :R13pmljb:--trailing-visual " id=":R13pmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=pullrequests" data-testid="nav-item-pullrequests"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-pull-request" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R13pmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Pull requests</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R13pmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R1bpmljb:--label :R1bpmljb:--trailing-visual " id=":R1bpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=discussions" data-testid="nav-item-discussions"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-comment-discussion" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R1bpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Discussions</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R1bpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R1jpmljb:--label :R1jpmljb:--trailing-visual " id=":R1jpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=users" data-testid="nav-item-users"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-people" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R1jpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Users</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R1jpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R1rpmljb:--label :R1rpmljb:--trailing-visual " id=":R1rpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=commits" data-testid="nav-item-commits"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-commit" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R1rpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Commits</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R1rpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R23pmljb:--label :R23pmljb:--trailing-visual " id=":R23pmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=registrypackages" data-testid="nav-item-registrypackages"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-package" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R23pmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Packages</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R23pmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-active="true" data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R2bpmljb:--label :R2bpmljb:--trailing-visual " id=":R2bpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=wikis" data-testid="nav-item-wikis"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-book" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R2bpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Wikis</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R2bpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R2jpmljb:--label :R2jpmljb:--trailing-visual " id=":R2jpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=topics" data-testid="nav-item-topics"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-milestone" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M7.75 0a.75.75 0 0 1 .75.75V3h3.634c.414 0 .814.147 1.13.414l2.07 1.75a1.75 1.75 0 0 1 0 2.672l-2.07 1.75a1.75 1.75 0 0 1-1.13.414H8.5v5.25a.75.75 0 0 1-1.5 0V10H2.75A1.75 1.75 0 0 1 1 8.25v-3.5C1 3.784 1.784 3 2.75 3H7V.75A.75.75 0 0 1 7.75 0Zm4.384 8.5a.25.25 0 0 0 .161-.06l2.07-1.75a.248.248 0 0 0 0-.38l-2.07-1.75a.25.25 0 0 0-.161-.06H2.75a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h9.384Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R2jpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Topics</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R2jpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R2rpmljb:--label :R2rpmljb:--trailing-visual " id=":R2rpmljb:" data-size="medium" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=marketplace" data-testid="nav-item-marketplace"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-telescope" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M14.184 1.143v-.001l1.422 2.464a1.75 1.75 0 0 1-.757 2.451L3.104 11.713a1.75 1.75 0 0 1-2.275-.702l-.447-.775a1.75 1.75 0 0 1 .53-2.32L11.682.573a1.748 1.748 0 0 1 2.502.57Zm-4.709 9.32h-.001l2.644 3.863a.75.75 0 1 1-1.238.848l-1.881-2.75v2.826a.75.75 0 0 1-1.5 0v-2.826l-1.881 2.75a.75.75 0 1 1-1.238-.848l2.049-2.992a.746.746 0 0 1 .293-.253l1.809-.87a.749.749 0 0 1 .944.252ZM9.436 3.92h-.001l-4.97 3.39.942 1.63 5.42-2.61Zm3.091-2.108h.001l-1.85 1.26 1.505 2.605 2.016-.97a.247.247 0 0 0 .13-.151.247.247 0 0 0-.022-.199l-1.422-2.464a.253.253 0 0 0-.161-.119.254.254 0 0 0-.197.038ZM1.756 9.157a.25.25 0 0 0-.075.33l.447.775a.25.25 0 0 0 .325.1l1.598-.769-.83-1.436-1.465 1Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R2rpmljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Marketplace</span><span class="prc-ActionList-TrailingVisual-XocgV prc-ActionList-VisualWrap-rfjV-" id=":R2rpmljb:--trailing-visual"><div width="100%" class="Box-sc-62in7e-0 Base__Animation-sc-a55ac697-0 jCKItu fZRaOG"></div><span class="sr-only">results</span></span></span></a></li></ul></li><li class="ActionList__StyledActionListGroup-sc-hw2362-4 prc-ActionList-Group-fXpF9"><div data-variant="subtle" data-component="GroupHeadingWrap" class="prc-ActionList-GroupHeadingWrap-pfbd9"><h3 class="prc-ActionList-GroupHeading-eahp0" id=":R1imljb:">Advanced</h3></div><ul aria-labelledby=":R1imljb:" class="prc-ActionList-GroupList-sj8d3"><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7 FacetOption-module__FacetOption--yHSNb"><button class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":Rvimljb:--label  " id=":Rvimljb:" data-size="medium"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-plus-circle" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":Rvimljb:--label" class="prc-ActionList-ItemLabel-TmBhn"><div class="FacetOption-module__TruncateWrap--Lmsrm"><div class="prc-Truncate-Truncate-A9Wn6" title="User" style="--truncate-max-width:100%">User</div></div></span></span></button></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7 FacetOption-module__FacetOption--yHSNb"><button class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R1fimljb:--label  " id=":R1fimljb:" data-size="medium"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-plus-circle" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R1fimljb:--label" class="prc-ActionList-ItemLabel-TmBhn"><div class="FacetOption-module__TruncateWrap--Lmsrm"><div class="prc-Truncate-Truncate-A9Wn6" title="Organization" style="--truncate-max-width:100%">Organization</div></div></span></span></button></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7 FacetOption-module__FacetOption--yHSNb"><button class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R1vimljb:--label  " id=":R1vimljb:" data-size="medium"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-plus-circle" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R1vimljb:--label" class="prc-ActionList-ItemLabel-TmBhn"><div class="FacetOption-module__TruncateWrap--Lmsrm"><div class="prc-Truncate-Truncate-A9Wn6" title="Repository" style="--truncate-max-width:100%">Repository</div></div></span></span></button></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7 FacetOption-module__FacetOption--yHSNb"><button class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R2fimljb:--label  " id=":R2fimljb:" data-size="medium"><span class="prc-ActionList-Spacer-dydlX"></span><span class="prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-plus-circle" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R2fimljb:--label" class="prc-ActionList-ItemLabel-TmBhn"><div class="FacetOption-module__TruncateWrap--Lmsrm"><div class="prc-Truncate-Truncate-A9Wn6" title="Last updated date" style="--truncate-max-width:100%">Last updated date</div></div></span></span></button></li></ul></li><li class="ActionList__ActionListDivider-sc-hw2362-5 laSyZd prc-ActionList-Divider-rsZFG" aria-hidden="true" data-component="ActionList.Divider"></li><li data-has-description="false" class="prc-ActionList-ActionListItem-uq6I7 ActionList__StyledActionListLinkItem-sc-hw2362-1 fVOfEp fgColor-accent"><a class="prc-ActionList-ActionListContent-sg9-x prc-Link-Link-85e08" tabindex="0" aria-labelledby=":R4mljb:--label  " id=":R4mljb:" data-size="medium" href="/search/advanced"><span class="prc-ActionList-Spacer-dydlX"></span><span class="ActionList__StyledActionListLeadingVisual-sc-hw2362-6 fgColor-accent prc-ActionList-LeadingVisual-dxXxW prc-ActionList-VisualWrap-rfjV-"><svg aria-hidden="true" focusable="false" class="octicon octicon-link-external" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></span><span class="prc-ActionList-ActionListSubContent-lP9xj" data-component="ActionList.Item--DividerContainer"><span id=":R4mljb:--label" class="prc-ActionList-ItemLabel-TmBhn">Advanced search</span></span></a></li></ul></div></div></div></div></div><div class="prc-PageLayout-VerticalDivider-4A4Qm prc-PageLayout-PaneVerticalDivider-1c9vy" data-variant-narrow="none" data-variant-regular="line" data-position="start" style="--spacing:var(--spacing-none)"><div class="prc-PageLayout-DraggableHandle-zPw82" data-dragging="false" role="slider" aria-label="Draggable pane splitter" aria-valuemin="0" aria-valuemax="0" aria-valuenow="0" aria-valuetext="Pane width 0 pixels" tabindex="0"></div></div></div><div class="prc-PageLayout-ContentWrapper-b-QRo Search-module__SplitPageLayout_Content--mt9an" data-is-hidden="false"><div class="prc-PageLayout-Content--F7-I" data-width="full" style="--spacing:var(--spacing-none)"><div class="Box-sc-62in7e-0 dzwJmg"><div class="Box-sc-62in7e-0 bnzdzJ"><div data-testid="search-sub-header"><div class="Box-sc-62in7e-0 kThiwQ"><span class="Text__StyledText-sc-1klmep6-0 iTMdwV prc-Text-Text-0ima0"><div class="Box-sc-62in7e-0 dzhYrJ"><button type="button" data-testid="type-switcher" aria-label="Filter by type" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI Button__StyledButtonComponent-sc-vqy3e4-0 cKxqon" data-loading="false" data-size="small" data-variant="default" aria-describedby=":Rkmjb:-loading-announcement" id=":Rkmjb:"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x">Wikis<span class="Box-sc-62in7e-0 jJQEtu"><span aria-hidden="true" data-variant="secondary" data-testid="resolved-count-label" sx="[object Object]" class="Box-sc-62in7e-0 jilJQ prc-CounterLabel-CounterLabel-ZwXPe"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0">0</span></span><span class="prc-VisuallyHidden-VisuallyHidden-UNWQp"> (<span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0">0</span>)</span></span></span><span data-component="trailingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></span></span></button></div><span class="Text__StyledText-sc-1klmep6-0 fXoKvi prc-Text-Text-0ima0"><div class="Box-sc-62in7e-0 jQkylC">0 results </div><span class="Text__StyledText-sc-1klmep6-0 cLWsnF prc-Text-Text-0ima0"> (<!-- -->542<!-- --> <!-- -->ms<!-- -->)</span></span><h2 id="search-results-count" class="sr-only" data-react-autofocus="true" tabindex="-1">0 results </h2></span><div class="Box-sc-62in7e-0 icgAzu"><div class="Box-sc-62in7e-0 kdMRKw"><button type="button" data-testid="sort-button" style="background:var(--button-default-bgColor-rest)" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-size="small" data-variant="default" aria-describedby=":Rsmjb:-loading-announcement" id=":Rsmjb:"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x"><span class="Text__StyledText-sc-1klmep6-0 hGJZKz prc-Text-Text-0ima0">Sort by: </span> <!-- -->Best match</span></span><span data-component="trailingAction" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></span></button></div><div class="Box-sc-62in7e-0 kdMRKw"><button type="button" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":R1cmjb:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x"><div class="Box-sc-62in7e-0 eJHbiI"><svg aria-hidden="true" focusable="false" class="octicon octicon-bookmark Octicon__StyledOcticon-sc-jtj3m8-0 hUcZOb" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"></path></svg>Save</div></span></span></button></div><div class="Box-sc-62in7e-0 dXbdND"><button type="button" data-testid="filter-button" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-size="small" data-variant="default" aria-describedby=":R5smjb:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-filter" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M.75 3h14.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1 0-1.5ZM3 7.75A.75.75 0 0 1 3.75 7h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 3 7.75Zm3 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Filter</span></span></button></div><div class="Box-sc-62in7e-0 dzhYrJ"><button data-component="IconButton" type="button" aria-label="Open column options" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI IconButton__StyledIconButton-sc-i53dt6-0 jKNAWe prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":R2cmjb:-loading-announcement" id=":R2cmjb:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button></div><div class="Box-sc-62in7e-0 dCPDTG"><button data-component="IconButton" type="button" aria-label="Open column options" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI IconButton__StyledIconButton-sc-i53dt6-0 jKNAWe prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":R3cmjb:-loading-announcement" id=":R3cmjb:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button></div></div></div></div><div class="Box-sc-62in7e-0 dRbJib"></div><div class="Box-sc-62in7e-0 iXbsAl"></div><div class="Box-sc-62in7e-0 flaXet"><div data-hpc="true" class="Box-sc-62in7e-0 kmmmsb"><div data-testid="results-list" class="Box-sc-62in7e-0 gwXVXe"><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/vault-team/vault-website" data-hovercard-url="/vault-team/vault-website/hovercard" style="color:var(--fgColor-muted)"><span>vault-team/vault-website</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/vault-team/vault-website/wiki/Quick-installation-guide" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Quick installation guide</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">...  providers to access Vault API <em>Nova</em>: supports the deployment and management of virtual machines in the <em>OpenStack</em> cloud. A <em>Nova</em> instance is a virtual machine that runs inside <em>OpenStack</em> cloud Glance: manages ...</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="May 3, 2017, 4:35 AM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="May 3, 2017, 4:35 AM UTC">on May 3, 2017</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/marcosaletta/Juno-CentOS7-Guide" data-hovercard-url="/marcosaletta/Juno-CentOS7-Guide/hovercard" style="color:var(--fgColor-muted)"><span>marcosaletta/Juno-CentOS7-Guide</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/marcosaletta/Juno-CentOS7-Guide/wiki/2.-Controller-and-Network-Node-Installation" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">2. Controller and Network Node Installation</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">...  node. $ sudo yum install -y <em>openstack</em>-<em>nova</em>-api.noarch
  $ sudo yum install -y <em>openstack</em>-<em>nova</em>-cert.noarch
  $ sudo yum install -y <em>openstack</em>-<em>nova</em>-conductor.noarch
  $ sudo yum install -y <em>openstack</em> ...</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Nov 5, 2015, 12:56 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Nov 5, 2015, 12:56 PM UTC">on Nov 5, 2015</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/escrevebastante/tongue" data-hovercard-url="/escrevebastante/tongue/hovercard" style="color:var(--fgColor-muted)"><span>escrevebastante/tongue</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/escrevebastante/tongue/wiki/Home" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Home</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">)&quot; Search on all <em>openstack</em> documentation: tongue -e &#x27;*&#x27; -s &#x27;<em>nova</em>&#x27; Search for &#x27;ocfs2&#x27; or &#x27;nfs&#x27; on systemd documentation: tongue -y &#x27;*&#x27; -s ocfs2|nfs Option list: -a, --calibre = Search on Calibre library</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="May 12, 2020, 9:33 AM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="May 12, 2020, 9:33 AM UTC">on May 12, 2020</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/dellcloudedge/crowbar" data-hovercard-url="/dellcloudedge/crowbar/hovercard" style="color:var(--fgColor-muted)"><span>dellcloudedge/crowbar</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/dellcloudedge/crowbar/wiki/Release-notes" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Release notes</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0"> deploy. Workaround:  Edit the barclamp and set the <em>Nova</em> - Volume to use Local.  ReApply. 900 <em>OpenStack</em> bonding network json doesn&#x27;t support multi-speed Crowbar allows down&#x2F;up-grading interface speeds</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Nov 8, 2012, 5:25 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Nov 8, 2012, 5:25 PM UTC">on Nov 8, 2012</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/eryeru12/crowbar" data-hovercard-url="/eryeru12/crowbar/hovercard" style="color:var(--fgColor-muted)"><span>eryeru12/crowbar</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/eryeru12/crowbar/wiki/Release-notes" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Release notes</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0"> deploy. Workaround:  Edit the barclamp and set the <em>Nova</em> - Volume to use Local.  ReApply. 900 <em>OpenStack</em> bonding network json doesn&#x27;t support multi-speed Crowbar allows down&#x2F;up-grading interface speeds</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Nov 8, 2012, 5:25 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Nov 8, 2012, 5:25 PM UTC">on Nov 8, 2012</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/MirantisDellCrowbar/crowbar" data-hovercard-url="/MirantisDellCrowbar/crowbar/hovercard" style="color:var(--fgColor-muted)"><span>MirantisDellCrowbar/crowbar</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/MirantisDellCrowbar/crowbar/wiki/Release-notes" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Release notes</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0"> deploy. Workaround:  Edit the barclamp and set the <em>Nova</em> - Volume to use Local.  ReApply. 900 <em>OpenStack</em> bonding network json doesn&#x27;t support multi-speed Crowbar allows down&#x2F;up-grading interface speeds</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Nov 8, 2012, 5:25 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Nov 8, 2012, 5:25 PM UTC">on Nov 8, 2012</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/vinayakponangi/crowbar" data-hovercard-url="/vinayakponangi/crowbar/hovercard" style="color:var(--fgColor-muted)"><span>vinayakponangi/crowbar</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/vinayakponangi/crowbar/wiki/Release-notes" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Release notes</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0"> deploy. Workaround:  Edit the barclamp and set the <em>Nova</em> - Volume to use Local.  ReApply. 900 <em>OpenStack</em> bonding network json doesn&#x27;t support multi-speed Crowbar allows down&#x2F;up-grading interface speeds</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Nov 8, 2012, 5:25 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Nov 8, 2012, 5:25 PM UTC">on Nov 8, 2012</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/opencit/opencit" data-hovercard-url="/opencit/opencit/hovercard" style="color:var(--fgColor-muted)"><span>opencit/opencit</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/opencit/opencit/wiki/Open-CIT-3.2-Product-Guide" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Open CIT 3.2 Product Guide</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0"> to the appropriate <em>CSS</em> files relevant to the distribution&#x2F;version of <em>OpenStack</em> being used. 10.1.2 Instance View Changes File Changes and Other Notes distribution-location&#x2F;python2.7&#x2F;dist-packages&#x2F;<em>nova</em></span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Sep 7, 2017, 4:42 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Sep 7, 2017, 4:42 PM UTC">on Sep 7, 2017</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/opencit/opencit" data-hovercard-url="/opencit/opencit/hovercard" style="color:var(--fgColor-muted)"><span>opencit/opencit</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/opencit/opencit/wiki/Open-CIT-3.2.1-Product-Guide" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">Open CIT 3.2.1 Product Guide</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">...  10.3.3 Key Management Proxy 10.4 <em>Nova</em> Changes 10.4.1 Filter Code 10.5 <em>OpenStack</em> Compute Node Changes 11.0 Configuration 11.1 Directory Layout 11.1.1 Key Broker Service 11.1.1.1 Linux Directory Layout ...</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Feb 6, 2018, 7:08 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Feb 6, 2018, 7:08 PM UTC">on Feb 6, 2018</span></div></span></li></ul></div><div class="Box-sc-62in7e-0 fcarRM"><h3 class="Box-sc-62in7e-0 dWuWEz"><div class="Box-sc-62in7e-0 fFjPyQ"><a class="prc-Link-Link-85e08" href="/westurner/tools" data-hovercard-url="/westurner/tools/hovercard" style="color:var(--fgColor-muted)"><span>westurner/tools</span></a></div><div class="Box-sc-62in7e-0 lnrylK search-title"><a class="prc-Link-Link-85e08" href="/westurner/tools/wiki/index" target="_blank"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0">index</span></a></div></h3><div class="Box-sc-62in7e-0 jsbtiO"><span class="Text__StyledText-sc-1klmep6-0 dVFwsC search-match prc-Text-Text-0ima0"> system-wide daemon and an :ref:`<em>OpenStack</em>` <em>Nova</em> hypervisor plugin. .. index:: Mesos Mesos Wikipedia: https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Apache_Mesos Homepage: https:&#x2F;&#x2F;mesos.apache.org&#x2F; Src: git https</span></div><ul class="Box-sc-62in7e-0 dmuROe"><li class="Box-sc-62in7e-0 hjlqfa"><span>Last updated <div class="prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Jun 24, 2024, 3:54 PM UTC" style="--truncate-max-width:125px"><span class="Text__StyledText-sc-1klmep6-0 prc-Text-Text-0ima0" title="Jun 24, 2024, 3:54 PM UTC">on Jun 24, 2024</span></div></span></li></ul></div></div></div></div><div class="Box-sc-62in7e-0 cdqDYB"><div class="Box-sc-62in7e-0 gjMpHV"><nav class="prc-Pagination-PaginationContainer-yNDPO" aria-label="Pagination"><div class="prc-Pagination-TablePaginationSteps-RRjtg" data-hidden-viewport-ranges=""><a class="prc-Pagination-Page-yoEQf" rel="prev" aria-hidden="true" aria-disabled="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-left" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"></path></svg>Previous</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=1" aria-label="Page 1" aria-current="page">1</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=2" aria-label="Page 2">2</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=3" aria-label="Page 3">3</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=4" aria-label="Page 4">4</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=5" aria-label="Page 5">5</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=6" aria-label="Page 6">6</a><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=7" aria-label="Page 7...">7</a><span class="prc-Pagination-Page-yoEQf" as="span" role="presentation">…</span><a class="prc-Pagination-Page-yoEQf" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=26" aria-label="Page 26">26</a><a class="prc-Pagination-Page-yoEQf" rel="next" href="https://github.com/search?q=Openstack+nova+CSS&amp;type=Wikis&amp;p=2" aria-label="Next Page">Next<svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-right" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"></path></svg></a></div></nav></div></div><div class="Box-sc-62in7e-0 gINVCM"></div></div><div class="Box-sc-62in7e-0 gzAiGi"></div></div></div></div></div></div></div><div class="Popover js-hovercard-content position-absolute" style="display:none;outline:none" role="dialog" aria-modal="true"><div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px"></div></div></div><script type="application/json" id="__PRIMER_DATA_:R0:__">{"resolvedServerColorMode":"night"}</script></div>
</react-app>


      </main>
  </div>


    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999"
      data-locale="en"
      data-initial-cookie-consent-allowed=""
      data-cookie-consent-required="false"
    ></ghcc-consent>




  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>


    <style>
      .user-mention[href$="/ravlyuk"] {
        color: var(--color-user-mention-fg);
        background-color: var(--bgColor-attention-muted, var(--color-attention-subtle));
        border-radius: 2px;
        margin-left: -2px;
        margin-right: -2px;
      }
      .user-mention[href$="/ravlyuk"]:before,
      .user-mention[href$="/ravlyuk"]:after {
        content: '';
        display: inline-block;
        width: 2px;
      }
    </style>


    </div>
    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true" ></div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  </body>
</html>
